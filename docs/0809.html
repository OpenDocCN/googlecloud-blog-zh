<html>
<head>
<title>Serverless Scheduled Daily Data Reporting Notification Service with Google Cloud Scheduler &amp; Cloud Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器计划的每日数据报告通知服务，具有Google Cloud Scheduler和云功能</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/serverless-daily-reporting-notification-service-with-google-cloud-scheduler-cloud-functions-d3cc42390006?source=collection_archive---------0-----------------------#2018-11-10">https://medium.com/google-cloud/serverless-daily-reporting-notification-service-with-google-cloud-scheduler-cloud-functions-d3cc42390006?source=collection_archive---------0-----------------------#2018-11-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7aec7880ca84fffe5d273cadb5de35fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7QJu5EPDJvGuvhGAGai4w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">无服务器计划每日报告数据架构</figcaption></figure><p id="0489" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你也可以使用下面的链接在我的Xcoding With Alfian博客网站上阅读这篇文章。</p><div class="js jt ez fb ju jv"><a href="https://www.alfianlosari.com/posts/serverless-reporting-notification-service-with-google-cloud-scheduler-and-functions" rel="noopener  ugc nofollow" target="_blank"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">无服务器每日报告通知服务与谷歌云调度和云功能|…</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">任务调度是开发人员在系统中运行各种自动化任务的一个非常重要的工具</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">www.alfianlosari.com</p></div></div><div class="ke l"><div class="kf l kg kh ki ke kj io jv"/></div></div></a></div><p id="3f47" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">任务调度是开发人员在系统中运行各种自动化任务的非常重要的工具，例如执行数据库维护、执行日常大数据批量操作以及整体系统维护。</p><p id="92a1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">构建执行任务调度的基础架构是一项具有挑战性的任务，有几件重要的事情需要仔细考虑，例如:</p><ol class=""><li id="e17b" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">扩展和管理基础设施。</li><li id="20a8" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">监视作业状态的当前状态。</li><li id="80d3" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">正常重试失败的作业。</li><li id="770a" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">记录作业并监控性能。</li></ol><p id="14b7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2018年11月初，谷歌云平台终于发布了Cloud Scheduler，这是一个完全托管、可扩展、容错的cron作业调度程序，允许开发者在一个地方自动化他们所有的计划任务。它们提供了许多令人惊叹的功能，例如:</p><ol class=""><li id="9083" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">全面管理并保证至少交付一次。</li><li id="9cd4" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">支持许多目标，如云发布订阅，应用引擎，HTTP端点。</li><li id="156f" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">用于分析性能的堆栈驱动程序日志记录。</li><li id="2ccf" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">可配置的重试策略。</li></ol><div class="js jt ez fb ju jv"><a href="https://cloud.google.com/scheduler/" rel="noopener  ugc nofollow" target="_blank"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">云调度器|谷歌云</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">完全托管的cron服务，用于调度几乎任何作业，包括批处理、大数据作业、云基础架构…</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">cloud.google.com</p></div></div><div class="ke l"><div class="ky l kg kh ki ke kj io jv"/></div></div></a></div><p id="24f6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本文中，我们将构建一个简单的通知服务，使用几个Google云服务设置每日计划数据报告，并使用Slack HTTP Webhook设置通知。</p><h1 id="4e5c" class="kz la hi bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">我们将建造什么</h1><ul class=""><li id="f5cb" class="kk kl hi iw b ix lx jb ly jf lz jj ma jn mb jr mc kq kr ks bi translated">Google云存储:创建bucket来保存生成的CSV blob以供公共URL访问。</li><li id="1884" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr mc kq kr ks bi translated">全球历史气候网络公共数据集查询。生成雅加达GHCN站周围位置半径内上周最高温度的数据，按公里距离和最高温度排序。</li><li id="540c" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr mc kq kr ks bi translated">Google Cloud Functions:一个node.js函数，从BigQuery中查询数据，转换成CSV格式保存到Cloud中，然后通过Webhook发送URL通知Slack Channel。</li><li id="91fe" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr mc kq kr ks bi translated">Google Cloud Scheduler:每天UTC午夜触发云功能端点的计划作业。</li></ul><p id="0b18" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">！！！完成教程后，请确保清除并删除所有创建的资源，以避免在GCP的重复成本！！！</strong></p><p id="f69d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您可以在下面的GitHub资源库链接中下载项目源代码。</p><div class="js jt ez fb ju jv"><a href="https://github.com/alfianlosari/gcp-serverless-cron-job" rel="noopener  ugc nofollow" target="_blank"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">alfianlosari/GCP-无服务器-cron-job</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">使用Google云平台的无服务器计划每日报告通知服务…</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">github.com</p></div></div><div class="ke l"><div class="md l kg kh ki ke kj io jv"/></div></div></a></div><h1 id="a09b" class="kz la hi bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">创建谷歌云存储桶</h1><p id="4a3b" class="pw-post-body-paragraph iu iv hi iw b ix lx iz ja jb ly jd je jf me jh ji jj mf jl jm jn mg jp jq jr hb bi translated">首先，我们需要在Google云存储中创建一个新的bucket。这个bucket将用于存储数据的CSV文件，稍后我们将在云函数内部的BigQuery中查询这些数据。我们将使用控制面板来创建存储桶:</p><ol class=""><li id="6ed6" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">打开<a class="ae mh" href="https://console.cloud.google.com/storage/browse" rel="noopener ugc nofollow" target="_blank">谷歌云存储控制台</a></li><li id="6a8d" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">键入存储桶的名称</li><li id="bfe5" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将地区留给多地区，地点留给美国</li><li id="2664" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">单击创建</li></ol><figure class="mj mk ml mm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/541e5b26276e19219066c10ec79551fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5z58nnHwAHWWd4xB_YAEdw.png"/></div></div></figure><p id="51a8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">确保将bucket名称存储在某个地方，因为稍后在保存CSV时，将在云函数中使用它来引用bucket。</p><h1 id="1714" class="kz la hi bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用BigQuery查询公共全球历史气候网络数据集</h1><p id="2c6d" class="pw-post-body-paragraph iu iv hi iw b ix lx iz ja jb ly jd je jf me jh ji jj mf jl jm jn mg jp jq jr hb bi translated">我们将用作每日报告的每日数据是来自BigQuery内全球历史气候网络(GHCN)的公共数据集。该查询将检索雅加达Blok M半径区域内GHCN站点上周的最高温度。您可以尝试使用BigQuery仪表板和硬编码值来查询数据:</p><ol class=""><li id="276e" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">打开<a class="ae mh" href="https://console.cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank"> BigQuery控制台</a>。</li><li id="5c68" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">在查询编辑器中解析该查询</li></ol><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="f529" class="ms la hi mo b fi mt mu l mv mw">SELECT<br/>  name,<br/>  value/10 AS max_temperature,<br/>  latitude,<br/>  longitude,<br/>  DEGREES(ACOS(SIN(RADIANS(latitude)) * SIN(RADIANS(-6.224530)) + COS(RADIANS(latitude)) * COS(RADIANS(-6.224530)) * COS(RADIANS(longitude - 106.914670)))) * 60 * 1.515 * 1.609344 AS dist_kms  <br/>FROM<br/>  [bigquery-public-data:ghcn_d.ghcnd_stations] AS stn<br/>JOIN<br/>  [bigquery-public-data:ghcn_d.ghcnd_2018] AS wx<br/>ON<br/>  wx.id = stn.id<br/>WHERE<br/>  wx.element = 'TMAX' AND<br/>  DATE(wx.date) = '2018-11-09'<br/>ORDER BY<br/>  dist_kms ASC, max_temperature DESC<br/>LIMIT<br/>  10</span></pre><p id="8ff0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">3.点击更多并查询设置。</p><p id="24fa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">4.将SQL方言设置为传统。</p><p id="ab70" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">5.运行查询。</p><figure class="mj mk ml mm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/29a0e6fbf95061da8a8f2169b3132128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A8OSIY2gyOr_u8RKbWGHSg.png"/></div></div></figure><h1 id="99d8" class="kz la hi bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用谷歌云功能进行计算</h1><p id="3f8d" class="pw-post-body-paragraph iu iv hi iw b ix lx iz ja jb ly jd je jf me jh ji jj mf jl jm jn mg jp jq jr hb bi translated">之前一定要创建自己的Slack工作空间、频道、app。然后，创建一个与工作区通道相关联的传入webhook URL。您可以遵循下面的文档:</p><div class="js jt ez fb ju jv"><a href="https://api.slack.com/" rel="noopener  ugc nofollow" target="_blank"><div class="jw ab dw"><div class="jx ab jy cl cj jz"><h2 class="bd hj fi z dy ka ea eb kb ed ef hh bi translated">松弛API</h2><div class="kc l"><h3 class="bd b fi z dy ka ea eb kb ed ef dx translated">Slack APIs允许您将复杂的服务与Slack集成，超越我们提供的现成集成。</h3></div><div class="kd l"><p class="bd b fp z dy ka ea eb kb ed ef dx translated">api.slack.com</p></div></div><div class="ke l"><div class="mx l kg kh ki ke kj io jv"/></div></div></a></div><p id="29b0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是最有趣的部分，我们将创建运行node.js 8的云函数。我们将使用几个npm依赖项:</p><ol class=""><li id="bd83" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">@ Google-cloud/big query:big query node . js客户端我们用来查询公共GHCN数据集。</li><li id="d8d0" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">@ Google-Cloud/Storage:Cloud Storage node . js客户端我们用来将CSV文件存储到我们之前创建的bucket中。</li><li id="bef4" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">json2csv:将我们从BigQuery获取的json数据转换成csv。</li><li id="1add" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">node-fetch:用于向包含CSV的URL的Slack Webhook端点发出POST HTTP请求，并在通道内触发通知。</li></ol><figure class="mj mk ml mm fd ij"><div class="bz dy l di"><div class="my mz l"/></div></figure><p id="cda8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我们的index.js文件中，我们将执行以下关键的重要操作:</p><ol class=""><li id="6089" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">导入所有需要的模块。</li><li id="12dd" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">声明<strong class="iw hj">桶名、slack url端点、纬度、经度和密钥</strong>的所有必需常量。(请在生产中使用环境变量初始化此变量，而不是硬编码😋).</li><li id="58ae" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">导出将使用HTTP触发器调用的函数。</li><li id="e8b5" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">检查请求url参数secret，并将其与密钥进行匹配。(这用于保护我们的http端点，以确保我们自己触发它)。</li><li id="5849" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">获取当前日期，然后将该日期减去7，得到上周的日期。创建变量来存储年、月、日文本。</li><li id="0c4a" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">为BigQuery创建SQL查询，在这里我们从变量中提供日期和纬度、经度。</li><li id="d8d3" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">使用<code class="du na nb nc mo b">await</code>异步查询SQL Legacy选项设置为true的BigQuery</li><li id="0bbb" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">使用json2csv传递我们想要检索的字段，将rows json数组转换为CSV。</li><li id="8965" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">使用YYYYMMDD格式创建文件名，然后使用云存储传递桶名和文件名。</li><li id="b002" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">保存CSV并在云存储中公开。</li><li id="f498" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">创建Slack Webhook HTTP JSON请求，其中包含我们希望在通道中交付的文本和链接。</li><li id="c4b9" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">使用fetch执行包含JSON作为HTTP主体的HTTP POST。</li><li id="9a0d" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">通过发送200作为HTTP状态响应成功结束请求。务实贸易(Labor Exchange)ˌ低爆速炸药(Low Explosive)ˌ职业介绍所(Labour Exchange)</li></ol><figure class="mj mk ml mm fd ij"><div class="bz dy l di"><div class="my mz l"/></div></figure><p id="b2ee" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了将该功能部署到云功能，我们将使用云功能仪表盘:</p><ol class=""><li id="31fb" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">打开<a class="ae mh" href="https://console.cloud.google.com/functions/" rel="noopener ugc nofollow" target="_blank">云功能控制台</a>。</li><li id="6a4b" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">单击创建函数。</li><li id="8bcd" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">键入名称。</li><li id="e999" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">留出256 MB用于内存分配。</li><li id="38a6" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将触发器设置为HTTP。</li><li id="e57a" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将源代码设置为内联编辑器。</li><li id="7196" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将Runtime设置为node.js 8 Beta。</li><li id="3060" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将index.js复制到index.js选项卡文本区域。</li><li id="1008" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将package.json复制到package.json选项卡文本区域。</li><li id="48ba" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">键入要执行的导出函数的名称</li><li id="817b" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">单击“更多”,将“区域”保留为“美国-中心1 ”,然后将超时设置为120</li><li id="1539" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">单击创建。</li></ol><p id="442c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">复制部署的url的端点，然后打开您的浏览器或终端，导航到提供密钥作为url参数的url</p><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="bc3b" class="ms la hi mo b fi mt mu l mv mw"><a class="ae mh" href="https://us-central1-alfian2-220100.cloudfunctions.net/dailyReportNotification?secret=haJpg58bIYoJlu3ZnJo2koQaOfLdPnCI" rel="noopener ugc nofollow" target="_blank">https://YOUR_CLOUD_FUNCTION_URL/dailyReportNotification?secret=</a>YOUR_SECRET_KEY</span></pre><p id="afaf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这将触发函数，并将通知发送到Slack通道！。您可以打开CSV url链接下载CSV。</p><figure class="mj mk ml mm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/20c52797c7e144f4aea6dfdebebf7f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6a-VQobrWFFScYtLiwJplg.png"/></div></div></figure><figure class="mj mk ml mm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ne"><img src="../Images/1c46ded8d7b405ea49102e53738af290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MHjvQK9a5jbvJxRXACf9OQ.png"/></div></div></figure><h1 id="eeff" class="kz la hi bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用Google Cloud Scheduler实现自动化和计划</h1><p id="a209" class="pw-post-body-paragraph iu iv hi iw b ix lx iz ja jb ly jd je jf me jh ji jj mf jl jm jn mg jp jq jr hb bi translated">最后，我们将创建一个云调度程序作业，该作业将被安排在每天00:00:00 UTC运行，以达到我们的云功能端点。</p><ol class=""><li id="52fb" class="kk kl hi iw b ix iy jb jc jf km jj kn jn ko jr kp kq kr ks bi translated">打开<a class="ae mh" href="https://console.cloud.google.com/cloudscheduler" rel="noopener ugc nofollow" target="_blank">云调度控制台</a>。</li><li id="7781" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">单击创建作业。</li><li id="1bda" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">键入名称。</li><li id="27da" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将频率设置为0 0 * * *。</li><li id="936f" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将时区设置为世界格林威治标准时间。</li><li id="8c16" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将目标设置为HTTP。</li><li id="b59c" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">将HTTP方法设置为GET</li><li id="e0be" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">使用您的云函数URL和密钥设置URL作为URL参数</li><li id="5249" class="kk kl hi iw b ix kt jb ku jf kv jj kw jn kx jr kp kq kr ks bi translated">单击创建</li></ol><figure class="mj mk ml mm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/46f0993cfd14f74674f28371056432e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DqmEddRBABuyr9uS0E7aYQ.png"/></div></div></figure><p id="fc59" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">创建作业后，单击“立即运行”按钮手动测试作业。您可以使用unix cron语法自定义作业的计划频率。</p><figure class="mj mk ml mm fd ij er es paragraph-image"><div class="er es nf"><img src="../Images/c8a53cba889fc188e63029e4b301e0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*JACU97rAtWOtDjSHIqDSAA.png"/></div></figure><p id="984b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">！！！完成教程后，请确保清除并删除所有创建的资源，以避免在GCP的重复成本！！！</strong></p><h1 id="cf11" class="kz la hi bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="17f8" class="pw-post-body-paragraph iu iv hi iw b ix lx iz ja jb ly jd je jf me jh ji jj mf jl jm jn mg jp jq jr hb bi translated">我们最终构建并部署了无服务器每日报告通知服务，而无需自行管理基础架构。作为开发人员，我真的很喜欢无服务器，因为它将所有的基础设施管理抽象到一个界面中，我们可以轻松地自动化部署我们的应用程序，而不用担心可扩展性和分布。我们可以专注于我们喜欢的事情，写代码和解决问题。这真的是云计算新时代的开始，我非常渴望用所有这些技术创造解决现实世界中问题的解决方案😋。</p></div></div>    
</body>
</html>