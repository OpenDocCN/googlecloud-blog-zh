<html>
<head>
<title>Plotting Ethereum Address Growth Chart in BigQuery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在BigQuery中绘制以太坊地址增长图</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/plotting-ethereum-address-growth-chart-55cc0e7207b2?source=collection_archive---------0-----------------------#2018-11-24">https://medium.com/google-cloud/plotting-ethereum-address-growth-chart-55cc0e7207b2?source=collection_archive---------0-----------------------#2018-11-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f4d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我以前的文章中，我包括了一个<a class="ae jd" rel="noopener" href="/google-cloud/how-to-query-balances-for-all-ethereum-addresses-in-bigquery-fb594e4034a7">挑战</a>，用于绘制一段时间内非零余额以太坊地址的数量。给擒抱它的家伙们的道具:<a class="ae jd" rel="noopener" href="/@GuthL/about-the-count-of-not-empty-wallets-i-only-managed-to-get-this-far-aka-return-all-wallets-changes-336d4d14abe4"> 1 </a>，<a class="ae jd" href="https://gitter.im/ethereum-etl/Lobby?at=5bf80607f59704348eefe75a" rel="noopener ugc nofollow" target="_blank"> 2 </a>。</p><p id="0972" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是我的解决方案:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><p id="0571" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://bigquery.cloud.google.com/savedquery/869804627112:504b1f1f70fe4a40b88bc896d879f698" rel="noopener ugc nofollow" target="_blank">在BigQuery中运行它</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/fffd959587dfcfdbf808ebe6ed0f259c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sM2_jgRAPO9dvQzVuOFJjw.png"/></div></div></figure><p id="37f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最具挑战性的部分是填补一些地址没有乙醚转移的日期空白。例如，如果11月1日有1笔借项，11月3日有1笔借项，按日期分组并累计求和将得到:</p><ul class=""><li id="602d" class="js jt hi ih b ii ij im in iq ju iu jv iy jw jc jx jy jz ka bi translated">11月1日:1乙醚</li><li id="fdd0" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">11月3日:2日以太</li></ul><p id="d775" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">相反，我们希望:</p><ul class=""><li id="9485" class="js jt hi ih b ii ij im in iq ju iu jv iy jw jc jx jy jz ka bi translated">11月1日:1乙醚</li><li id="6312" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">11月2日:1以太</li><li id="cfd9" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">11月3日:2日以太</li></ul><p id="d66f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的解决方案利用解析函数<code class="du kg kh ki kj b">lead</code>来获得间隔之后的下一个日期；然后用<code class="du kg kh ki kj b">calendar</code>表的join来填补空白。</p><h2 id="46f4" class="kk kl hi bd km kn ko kp kq kr ks kt ku iq kv kw kx iu ky kz la iy lb lc ld le bi translated">包括余额为零的地址</h2><p id="c449" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">如果你在查询中去掉<code class="du kg kh ki kj b">where balance &gt; 0</code>条件，你会得到如下图形:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/f7c6ae277a186932ee37bf868bc948f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*buS80K7r4ondB5PVPI9BCw.png"/></div></div></figure><p id="6e15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你知道2016年10月中旬零余额地址高峰的原因，请在评论中告诉我(正如<a class="lk ll ge" href="https://medium.com/u/b9038003bde4?source=post_page-----55cc0e7207b2--------------------------------" rel="noopener" target="_blank"> Thomas Jay Rush </a>在评论中指出的，高峰是由<a class="ae jd" rel="noopener" href="/@tjayrush/defeating-the-ethereum-ddos-attacks-d3d773a9a063"> DDos攻击</a>引起的)。</p><p id="ec1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果有人能在Kaggle上写一个包含上述查询和图表的内核，我将不胜感激:<a class="ae jd" href="https://www.kaggle.com/bigquery/ethereum-blockchain" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/bigquery/ethereum-blockchain</a>。</p><h2 id="791e" class="kk kl hi bd km kn ko kp kq kr ks kt ku iq kv kw kx iu ky kz la iy lb lc ld le bi translated">挑战</h2><p id="63f7" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">试通过绘制<a class="ae jd" href="https://en.wikipedia.org/wiki/Lorenz_curve" rel="noopener ugc nofollow" target="_blank">洛伦兹曲线</a>演示乙醚的<a class="ae jd" href="https://en.wikipedia.org/wiki/Pareto_distribution" rel="noopener ugc nofollow" target="_blank">帕累托分布</a>。</p><p id="dba3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另请参阅:</p><ul class=""><li id="83c1" class="js jt hi ih b ii ij im in iq ju iu jv iy jw jc jx jy jz ka bi translated"><a class="ae jd" rel="noopener" href="/google-cloud/how-to-query-balances-for-all-ethereum-addresses-in-bigquery-fb594e4034a7">如何查询所有以太坊地址的余额</a></li><li id="abdc" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated"><a class="ae jd" rel="noopener" href="/google-cloud/how-to-query-ether-supply-in-bigquery-90f8ae795a8">如何在BigQuery中查询乙醚供应</a></li><li id="c458" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated"><a class="ae jd" href="https://cloud.google.com/blog/products/data-analytics/ethereum-bigquery-how-we-built-dataset" rel="noopener ugc nofollow" target="_blank">big query中的以太坊:我们如何构建这个数据集</a></li><li id="5f83" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated"><a class="ae jd" rel="noopener" href="/google-cloud/real-time-ethereum-notifications-for-everyone-for-free-a76e72e45026">实时以太坊免费通知大家</a></li><li id="5cb7" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">在推特上关注我们:【https://twitter.com/EthereumETL T4】</li></ul></div></div>    
</body>
</html>