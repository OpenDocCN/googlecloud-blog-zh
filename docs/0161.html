<html>
<head>
<title>The Presidential Baby (Name) Bump</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">总统宝宝(名字)隆起</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/the-presidential-baby-name-bump-5b9d786cb2fe?source=collection_archive---------0-----------------------#2016-10-18">https://medium.com/google-cloud/the-presidential-baby-name-bump-5b9d786cb2fe?source=collection_archive---------0-----------------------#2016-10-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a21b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用BigQuery调查美国总统选举对婴儿名字的影响</h2></div><p id="c037" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">直到2007年，美国几乎没有新生儿的名字是巴拉克T1。2008年，巴拉克·奥巴马赢得美国总统大选，52个巴拉克宝宝出生，随后在2009年又有69个巴拉克宝宝出生。</p><p id="797d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">巧合吗？我觉得<em class="jt">不是</em>！利用<a class="ae ju" href="https://bigquery.cloud.google.com" rel="noopener ugc nofollow" target="_blank"> BigQuery </a>和<a class="ae ju" href="https://bigquery.cloud.google.com/dataset/bigquery-public-data:usa_names" rel="noopener ugc nofollow" target="_blank">美国婴儿名字</a>的公共数据集，我能够探索总统婴儿(名字)撞回哈定总统的想法——并对我们可能在2017年看到的取名为<em class="jt">希拉里</em>或<em class="jt">唐纳德</em>的婴儿数量做出一些估计。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es jv"><img src="../Images/4e2b5ff151ae3a60a0accd362eb92a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVgjbYi3fRYSXttHfboDFg.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">出生时与总统同名的人的标准化相对比例——从9年前开始，直到他们执政满一年后的9年。(“全年”大于6个月。)</figcaption></figure><p id="1ac0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">确实有变化(我们将在后面探讨)，但当叠加在一起时，你可以看到每位总统的名字在当选前几年的受欢迎程度有明显的下降趋势。这一过程被一个明显的起伏打断，其峰值对应于每位总统执政的第一个整年。</p><blockquote class="kl km kn"><p id="0500" class="ix iy jt iz b ja jb ij jc jd je im jf ko jh ji jj kp jl jm jn kq jp jq jr js hb bi translated">在上图中，我绘制了19年来(自1920年以来)每任总统名字的流行趋势，以他们就职的年份为中心。我已经对每年命名的婴儿总数进行了调整，所以我们一直在比较每个名字与所有命名婴儿的比率。然后，我对结果进行了归一化处理，以显示相对影响——因此，1分代表19年中每个名字最受欢迎的年份，其他值与此相关。</p></blockquote><p id="3722" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当你将每次增长的规模与每位获胜总统的民众投票比例进行比较时，你可以看到一种合理的相关性(R为0.667)。你还可以看到，除了两种情况——对应于两个最低的民众投票率(都低于45%)，其他情况都有所增加。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kr"><img src="../Images/90669768237b578eaeeeffabed0098ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0_BwatiQaWaHA2GRbFtkw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">婴儿名字受欢迎程度的相对变化与总统选举获胜者在大众投票中所占的百分比。</figcaption></figure><blockquote class="kl km kn"><p id="6b54" class="ix iy jt iz b ja jb ij jc jd je im jf ko jh ji jj kp jl jm jn kq jp jq jr js hb bi translated">在这个图表中，我比较了总统上任第一年的名字与期望值的相对比率(基于前两年的趋势)。)这两个数字都是根据每年取名的婴儿总数进行调整的。</p></blockquote><h2 id="11d4" class="ks kt hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">2017年婴儿名字预测</h2><p id="a82a" class="pw-post-body-paragraph ix iy hi iz b ja ln ij jc jd lo im jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">预测2016年总统大选后希拉里或唐纳德的孩子数量是很棘手的。我们需要预测2017年的总体出生率，我们的R值并不是一个强有力的预测指标。</p><p id="b6f5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">酪让我们假设2017年美国取名的孩子和2015年一样多(3668183)，并且名字<em class="jt">希拉里</em>和<em class="jt">唐纳德</em>的受欢迎程度将持平。然后，我们必须预测一个选举获胜者，以及差额。以下是一些可能影响婴儿名字的场景。</p><ul class=""><li id="5d55" class="ls lt hi iz b ja jb jd je jg lu jk lv jo lw js lx ly lz ma bi translated">如果希拉里以49.8%的得票率获胜(正如11月8日<a class="ae ju" href="http://projects.fivethirtyeight.com/2016-election-forecast/?ex_cid=2016-election#odds" rel="noopener ugc nofollow" target="_blank"> fivethirtyeight的“仅民调</a>”所预测的那样)，那么取名为<em class="jt"> Hillary </em>的宝宝可能会比我们预期的多<strong class="iz hj"> 977 </strong>个——高于2015年的136个。</li><li id="fda4" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">克林顿以55%的得票率赢得了第538届总统选举的最高票数，这可能会增加3915名新生儿，取名为希拉里。</li><li id="8f47" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">如果Trump达到fivethirtyeight预测的上限，并以45%的普选票数获胜，我们的模型将预测2017年Trump的名字可能会从2015年的690下降到零(T21)。</li><li id="47d5" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">任何一位候选人都需要赢得至少48.2%的普选票数才能期望看到他们的名字的受欢迎程度上升。</li></ul><h2 id="8506" class="ks kt hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">特殊情况</h2><p id="d4b7" class="pw-post-body-paragraph ix iy hi iz b ja ln ij jc jd lo im jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">魔鬼在细节(包括我为什么一直在“满”字旁边加“*”号)，那么我们来回顾一下一些有趣的特例。</p><p id="c203" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">约翰·肯尼迪</p><p id="2340" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">肯尼迪总统的第一个名字约翰的受欢迎程度总体呈下降趋势，但他的支持率却大幅上升。不同寻常的是，约翰的受欢迎程度持续上升——不像大多数其他总统在就职后的第二年声望下降。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mg"><img src="../Images/7c81b41602f908c5de5e039de2fb4d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n56tFXra5wwc7ItqPKHBjQ.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">约翰·肯尼迪</figcaption></figure><p id="4c07" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">巅峰是1963年他<a class="ae ju" href="https://en.wikipedia.org/wiki/Assassination_of_John_F._Kennedy" rel="noopener ugc nofollow" target="_blank">遇刺的那一年</a>，之后<em class="jt">约翰</em>这个名字就恢复了颓势。</p><p id="e44e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">杰拉尔德·福特</p><p id="8c92" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看来你可能需要(最终)赢得选举，你的名字才能从总统选举中受益。1974年理查德·尼克松辞职后，杰拉尔德·福特总统升任总统，但这并没有明显影响杰拉尔德作为婴儿名字的流行。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mh"><img src="../Images/51e220ad8fb38b44ab223ee22ef15174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zDeum8qOxQ3s5ItD67Uwpw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">杰拉德·福特</figcaption></figure><p id="1c63" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">他在1977年的选举中输给了吉米·卡特，后者在一场势均力敌的选举中获胜后，支持率略有上升。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mi"><img src="../Images/445723606a1e86eca11b5142029c6b7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aU2DxtizUXe0_3s78l1aOw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">吉米·卡特</figcaption></figure><p id="4392" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">卡尔文·柯立芝、林登·约翰逊和哈里·楚门</strong></p><p id="c308" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另一方面，1923年8月，在沃伦·G·哈丁的<a class="ae ju" href="http://www.history.com/news/the-unexpected-death-of-president-harding-90-years-ago" rel="noopener ugc nofollow" target="_blank">之死之后，卡尔文·柯立芝总统登上了总统宝座，并在1924年经历了一次显著的提升——这是他在任的第一年。他赢得了1924年的选举，并于1925年开始了他的第二个任期，但那时他的知名度已经在下降。</a></p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mh"><img src="../Images/7d8a70d746a1e1226b403e0725215e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ScpLjqKPuv2RhdusJvwWhQ.png"/></div></div></figure><p id="1f3b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">林登·约翰逊也是如此，他在肯尼迪遇刺后于1963年11月成为总统。林登作为一个婴儿名字的受欢迎程度在1964年达到顶峰——他执政的第一年——但随后下降，尽管未来的选举获胜。</p><p id="b5e5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">1945年4月，富兰克林·罗斯福去世后，哈里·杜鲁门成为总统。四月是一年中相当早的一年，所以我做出了行政决定，将1945年作为杜鲁门执政的第一个“完整”的一年。我也分享了下面的查询，所以如果你不同意，你可以相应地重新运行数据。</p><p id="c42d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">罗纳德里根</strong></p><p id="568d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一些总统有相对较小的起伏——两位布什总统都只是延缓了“乔治”的受欢迎程度下降——但1980年罗纳德·里根的当选甚至没有对“罗纳德”产生影响</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mi"><img src="../Images/8227800db0f9a1b4f68231dfcd5cdc9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hr3KW7O7fvuOfT227unNdw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">罗纳德·里根</figcaption></figure><h2 id="aa31" class="ks kt hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">如何检查我的结果</h2><figure class="jw jx jy jz fd ka er es paragraph-image"><div class="er es mj"><img src="../Images/a5db1082fbd3ef315f21dd42fa416969.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*s13UguNZUuV5Qk4RdcUv3A.png"/></div></figure><p id="2e45" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae ju" href="https://bigquery.cloud.google.com" rel="noopener ugc nofollow" target="_blank"> BigQuery </a>包含了从1910年到2013年美国各州所有婴儿名字的<a class="ae ju" href="https://bigquery.cloud.google.com/dataset/bigquery-public-data:usa_names" rel="noopener ugc nofollow" target="_blank">公共数据集。费利佩·霍法(feli PE Hoffa)</a>继续上传，并且<a class="ae ju" href="https://bigquery.cloud.google.com/table/fh-bigquery:popular_names.usa_summary_1880_2015" rel="noopener ugc nofollow" target="_blank">分享了一个覆盖到2015年名字的全国性表格</a>。这两个数据集只共享每年至少出现5次的名字，所以全国范围的结果给出了稍好的保真度(特别是像“巴拉克”这样不常见的名字))</p><p id="6dac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">维基百科有一份自1910年以来每一次选举的列表，包括谁赢了和大众投票的比例——所以我用这些信息创建了一个谷歌表单，将其导入BigQuery，<a class="ae ju" href="https://bigquery.cloud.google.com/table/reto-demo:Presidents.usa_presidents" rel="noopener ugc nofollow" target="_blank">共享了BigQuery表</a>。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mm"><img src="../Images/ea01b9469f64c2194a12c65d8e3f8241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P4wA0IL7nQVvCzSoLYqOIg.jpeg"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">将Google Sheets表导入BigQuery。</figcaption></figure><p id="9e1d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有了这些数据，创建一个查询就很简单了，该查询查找每位总统第一个完整任期前后9年中名字的出现次数，以及这些年份中名字的总数、每位总统的名字以及他们在选举中赢得的普选比例。</p><pre class="jw jx jy jz fd mn mo mp mq aw mr bi"><span id="cf1b" class="ks kt hi mo b fi ms mt l mu mv">SELECT a.year, a.name, a.yearlytotal, PopVote, <br/>       FullName, c.yearlyAllNames, FirstYear, <br/>       (a.year-FirstYear) as YearsSince<br/>FROM (<br/>  SELECT year, name, sum(number) as yearlytotal<br/>  FROM [fh-bigquery:popular_names.usa_summary_1880_2015] <br/>  GROUP BY year, name<br/>)a<br/>JOIN (<br/>  SELECT FirstName, FullName, PopVote, FirstYear<br/>  FROM [reto-demo:Presidents.usa_presidents]  <br/>  WHERE FirstYear &gt; 1914<br/>)b<br/>ON<br/>  a.name = b.FirstName<br/>LEFT JOIN (<br/>  SELECT year, sum(number) as yearlyAllNames<br/>  FROM [fh-bigquery:popular_names.usa_summary_1880_2015] <br/>  GROUP BY year<br/>)c<br/>ON <br/>  a.year=c.year<br/>GROUP BY a.year, a.name, a.yearlytotal, PopVote, FullName, <br/>         c.yearlyAllNames, FirstYear, YearsSince<br/>HAVING ((YearsSince &lt; 10) AND (YearsSince &gt; -10))<br/>LIMIT 1000</span></pre><p id="f45c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将这些结果导出到Google Sheets，这样我就可以创建一些简单的数据透视表并将结果图形化。</p><figure class="jw jx jy jz fd ka er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es mw"><img src="../Images/7b37803c3863c4e8281783f041bf7d8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0FYAsVU69INkhu-aSjgVSg.png"/></div></div></figure><p id="b14a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">瞧啊。这些查询针对的是一个几百兆字节的数据集，所以您没有利用BigQuery的强大功能——但是另一方面，数据集已经存在于BigQuery中，并且导入数据与这些表连接非常容易，这使得开始处理数据变得很容易。</p><p id="0010" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">说到这个。</p><h2 id="82d9" class="ks kt hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">跟进问题</h2><p id="0624" class="pw-post-body-paragraph ix iy hi iz b ja ln ij jc jd lo im jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">和大多数数据挖掘练习一样，我的分析到目前为止提出了更多的问题。肿块大小和大众投票百分比之间的微弱相关性表明可能有更多的原因(我猜支持率是一个因素。)</p><p id="9d0e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样，你可以看到许多总统的名字实际上在他们就职的前一年<em class="jt">得到了提升，这就带来了更多的问题。</em></p><p id="a9cd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你每个月可以免费使用1tb的big query,所以在这个小小的数据集上，你可以自由支配这些公开可用的数据。例如，调查以下内容可能会很有趣:</p><ul class=""><li id="be57" class="ls lt hi iz b ja jb jd je jg lu jk lv jo lw js lx ly lz ma bi translated">总统的支持率与经济增长的幅度有更好的相关性吗？</li><li id="d556" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">落选的总统候选人会受到冲击吗？</li><li id="fb1f" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">副总统候选人会得到提升吗？</li><li id="4fa6" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">身为前副总裁会影响你肚子的大小吗？</li><li id="429c" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">在总统的家乡州，这种冲击更大吗？</li></ul><h2 id="6833" class="ks kt hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">潜在的未来问题</h2><ul class=""><li id="fdb8" class="ls lt hi iz b ja ln jd lo jg mx jk my jo mz js lx ly lz ma bi translated">总统的性别会影响肿块的大小吗？</li><li id="ef83" class="ls lt hi iz b ja mb jd mc jg md jk me jo mf js lx ly lz ma bi translated">总统的种族会影响肿块的大小吗？</li></ul></div><div class="ab cl na nb gp nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="hb hc hd he hf"><p id="feb8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你最终做了这些调查，请回复并让我知道，这样我可以在这里链接到你的结果！</p></div></div>    
</body>
</html>