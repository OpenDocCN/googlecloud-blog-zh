<html>
<head>
<title>Google Cloud Functions for Cloud Dataprep</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于云数据准备的谷歌云功能</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/google-cloud-functions-for-cloud-dataprep-c0e92c31507?source=collection_archive---------3-----------------------#2021-01-05">https://medium.com/google-cloud/google-cloud-functions-for-cloud-dataprep-c0e92c31507?source=collection_archive---------3-----------------------#2021-01-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e55a6fdac7d3353a042a5b42afaa29cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g2HKaOE3OxIzFWFS.png"/></div></div></figure><p id="7286" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://cloud.google.com/functions" rel="noopener ugc nofollow" target="_blank">谷歌云功能</a>示例为<a class="ae jo" href="https://cloud.google.com/dataprep" rel="noopener ugc nofollow" target="_blank">云数据准备</a>。</p><p id="00c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有代码都可以在<strong class="is hj">GitHub</strong><a class="ae jo" href="https://github.com/victorcouste/google-cloudfunctions-dataprep" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/victorcouste/Google-cloud functions-data prep</a>上找到</p><ul class=""><li id="a1e6" class="jp jq hi is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated"><a class="ae jo" href="https://github.com/victorcouste/google-cloudfunctions-dataprep/blob/master/gcs_trigger_dataprep_job.py" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">GCS _ trigger _ dataprep _ job . py</strong></a>:在Google云存储桶文件夹中创建文件时触发data prep作业的后台Python函数。Dataprep作业以REST API调用和新文件作为参数开始。博客文章中的实现细节<a class="ae jo" rel="noopener" href="/google-cloud/how-to-automate-a-cloud-dataprep-pipeline-when-a-file-arrives-9b85f2745a09">当文件到达时如何自动化云数据准备管道</a></li><li id="1614" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated"><a class="ae jo" href="https://github.com/victorcouste/google-cloudfunctions-dataprep/blob/master/job-result-google-sheet.js" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">job-result-Google-Sheet . js</strong></a>:HTTP node . js函数，用于在Google Sheet中写入一个带有配方名称的Dataprep作业结果信息(id，status ),链接到作业页面，链接到结果的PDF文件。当作业完成时(成功或失败)，从Dataprep Webhook调用这个HTTP Cloud函数。博文<a class="ae jo" href="https://towardsdatascience.com/leverage-cloud-functions-and-apis-to-monitor-cloud-dataprep-jobs-status-in-a-google-sheet-b412ee2b9acc" rel="noopener" target="_blank">中的实现细节利用云函数和API来监控Google表单中的云数据准备作业状态</a>。</li><li id="dfca" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated"><a class="ae jo" href="https://github.com/victorcouste/google-cloudfunctions-dataprep/blob/master/publishing_googlesheet.js" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">publishing _ googlesheet . js</strong></a>:HTTP node . js函数，在Google Sheet中发布Dataprep输出。谷歌表名创建将基于在GSC + Dataprep工作id生成的默认单个CSV文件名。在云函数代码中，您需要更新您的<a class="ae jo" href="https://docs.trifacta.com/display/DP/Access+Tokens+Page" rel="noopener ugc nofollow" target="_blank"> Dataprep令牌访问</a>(以调用REST API)和<a class="ae jo" href="https://developers.google.com/sheets/api/guides/concepts#spreadsheet_id" rel="noopener ugc nofollow" target="_blank"> Google电子表格ID </a>。当通过<a class="ae jo" href="https://docs.trifacta.com/display/DP/Create+Flow+Webhook+Task" rel="noopener ugc nofollow" target="_blank"> Dataprep Webhook </a>完成一个Dataprep作业时，可以触发这个云功能。</li><li id="1ee0" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated"><a class="ae jo" href="https://github.com/victorcouste/google-cloudfunctions-dataprep/blob/master/job-result-google-bigquery.py" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">job-result-google-big query . py</strong></a>:HTTP Python函数在Google BigQuery表中写入一个Dataprep作业结果信息(id，status)，带有数据集输出名(配方名)、Google用户和作业页面的链接。当作业完成时(成功或失败)，从Dataprep Webhook调用这个HTTP Cloud函数。博文<a class="ae jo" rel="noopener" href="/google-cloud/monitor-your-bigquery-data-warehouse-dataprep-pipeline-with-data-studio-8e46b2beda1">中的实现细节使用Data Studio </a>监控您的BigQuery数据仓库Dataprep管道。</li><li id="cdc8" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated"><a class="ae jo" href="https://github.com/victorcouste/google-cloudfunctions-dataprep/blob/master/export_import_dataprep_flow.py" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">Export _ import _ dataprep _ flow . py</strong></a>:从一个项目中导出一个data prep流，并导入到另一个项目中。用于在GCS bucket文件夹中保存或获取流包(zip文件)的选项。</li><li id="7348" class="jp jq hi is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx bi translated"><a class="ae jo" href="https://victorcouste.github.io/google-data-catalog-dataprep/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">更新Google云数据目录</strong> </a>:一个云函数，用Cloud Dataprep元数据和列的配置文件在BigQuery表上创建或更新Google云数据目录标签。</li></ul><p id="e9c6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谷歌云功能<a class="ae jo" href="https://cloud.google.com/functions" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/functions</a></p><p id="8fc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由Trifacta制作的云数据图<a class="ae jo" href="https://cloud.google.com/dataprep" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/dataprep</a></p><p id="93bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">云数据准备标准API<a class="ae jo" href="https://api.trifacta.com/dataprep-standard" rel="noopener ugc nofollow" target="_blank">https://api.trifacta.com/dataprep-standard</a></p><p id="679d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">云数据准备高级API【https://api.trifacta.com/dataprep-premium T2】</p></div></div>    
</body>
</html>