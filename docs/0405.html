<html>
<head>
<title>Export &amp; Load Job with MongoDB — BigQuery Part-I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MongoDB导出和加载作业— BigQuery第一部分</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/export-load-job-with-mongodb-bigquery-part-i-64a00eb5266b?source=collection_archive---------0-----------------------#2017-10-15">https://medium.com/google-cloud/export-load-job-with-mongodb-bigquery-part-i-64a00eb5266b?source=collection_archive---------0-----------------------#2017-10-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/f6a6560f91ec42294018926b8878e7c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*QWhrrXANazlixPrT9I8aLw.jpeg"/></div></figure><p id="1f55" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是3个博客系列，面向那些想了解BigQuery基础知识(简称为<strong class="io hj"> BQ </strong>)以及在BigQuery系统中获取数据所需的相关工作的读者。</p><p id="fe5b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">系列其他帖子:</strong></p><ul class=""><li id="ca6e" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated">【Redis流媒体— BigQuery Part-II |作者Sunny Gupta | Google Cloud—Community | Medium</li><li id="f765" class="jk jl hi io b ip ju it jv ix jw jb jx jf jy jj jp jq jr js bi translated"><a class="ae jt" rel="noopener" href="/google-cloud/patch-and-update-table-bigquery-part-iii-7f2547021926">补丁和更新表— BigQuery Part-III |作者Sunny Gupta | Google Cloud—Community | Medium</a></li></ul></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h1 id="02f6" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><a class="ae jt" href="https://cloud.google.com/bigquery/what-is-bigquery" rel="noopener ugc nofollow" target="_blank">谷歌大查询</a></h1><p id="1b16" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated"><strong class="io hj">什么？</strong> — BigQuery是谷歌完全托管的、Pb级的低成本分析数据仓库。</p><p id="22ac" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">为什么？</strong> — BigQuery是NoOps——不需要管理基础设施，也不需要数据库管理员——因此您可以专注于分析数据以找到有意义的见解，使用熟悉的SQL，并利用我们的现收现付模式。</p><p id="6ce9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">如何？</strong> —注册<a class="ae jt" href="https://bigquery.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌云平台——GCP</a>使用你的谷歌账户，开始加载你的数据，利用这个NoOps系统的强大功能。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h1 id="7db3" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">BigQuery中的术语</h1><p id="77c6" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated"><strong class="io hj">数据集</strong></p><p id="6843" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">数据集包含在特定的项目中。数据集使您能够组织和控制对表的访问。一个表必须属于一个数据集，因此在将数据加载到BigQuery之前，您需要至少创建一个数据集。</p><p id="f3fa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">表格</strong></p><p id="ad84" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">BigQuery表包含按行组织的单个记录，以及分配给每列的数据类型(也称为字段)。</p><p id="850a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">模式</strong></p><p id="a6ef" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">每个Every表都由描述字段名称、类型和其他信息的模式定义。您可以在初始表创建请求期间指定表的模式，也可以创建一个没有模式的表，并在首先填充该表的查询或加载作业中声明该模式。如果以后需要更改模式，可以更新模式。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h1 id="6b82" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">将数据加载到BigQuery</h1><p id="667c" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated">在本文中，我们将使用mongoDB服务器导出我们的数据，并导入到BQ中。还有其他几种方法可以将数据导入BQ。</p><h2 id="8eb3" class="lj kh hi bd ki lk ll lm km ln lo lp kq ix lq lr ku jb ls lt ky jf lu lv lc lw bi translated">1.从MongoDB导出数据</h2><figure class="ly lz ma mb fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/ee464e4e6239c98ce678dc2890caba65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*oi-OTO8tHMQASPOVKs4mwA.jpeg"/></div></figure><p id="8bfa" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这个例子中，我在mongoDB服务器中有一个名为<code class="du mc md me mf b">restaurantdb</code>的数据库，集合名为<code class="du mc md me mf b">restaurantCollection</code>。我们将使用mongodb服务器工具提供的<code class="du mc md me mf b">mongoexport</code>二进制文件进行导出。</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mg"><img src="../Images/2dc4ee8e45056551fdbaab14eec2db8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pPORsDUmWl5zE0c0.png"/></div></div></figure><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="e288" class="lj kh hi mf b fi mp mq l mr ms">$ mongoexport -d restaurantdb -c restaurantCollection -o restaurant.json</span></pre><p id="2f70" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">导出完成后，我们可以看到<code class="du mc md me mf b">restaurant.json</code>文件的内容</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="4f1d" class="lj kh hi mf b fi mp mq l mr ms">$ head -n 1 restaurant.json</span><span id="9d50" class="lj kh hi mf b fi mt mq l mr ms">{ "_id" : { "$oid" : "55f14312c7447c3da7051b26" }, \<br/>    "URL" : "http://www.just-eat.co.uk/restaurants-cn-chinese-cardiff/menu", \<br/>    "address" : "228 City Road", "name" : ".CN Chinese", \<br/>    "outcode" : "CF24", "postcode" : "3JH", "type_of_food" : "Chinese" }</span><span id="239a" class="lj kh hi mf b fi mt mq l mr ms">//pretty json<br/>{<br/>    "name": ".CN Chinese",<br/>    "URL": "http://www.just-eat.co.uk/restaurants-cn-chinese-cardiff/menu",<br/>    "outcode": "CF24",<br/>    "postcode": "3JH",<br/>    "address": "228 City Road",<br/>    "_id": {<br/>        "$oid": "55f14312c7447c3da7051b26"<br/>    },<br/>    "type_of_food": "Chinese"<br/>}</span></pre></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="8367" class="lj kh hi bd ki lk ll lm km ln lo lp kq ix lq lr ku jb ls lt ky jf lu lv lc lw bi translated">2.为表准备模式</h2><p id="aa3b" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated">现在我们已经准备好了json格式的数据，可以导入到BQ表中。我们需要模式来设计，以便导入这些记录。模式是数据类型为的每个字段的框架，模式中未描述的字段将不会被导入。我们已经给了所有字段为可空的，也就是说，如果字段没有出现在任何记录中，BQ将定义空值。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="a954" class="lj kh hi mf b fi mp mq l mr ms">$ cat restaurantSchema.json<br/>[<br/>    {<br/>        "name": "name",<br/>        "type": "STRING",<br/>        "mode": "NULLABLE"<br/>    },<br/>    {<br/>        "name": "URL",<br/>        "type": "STRING",<br/>        "mode": "NULLABLE"<br/>    },<br/>    {<br/>        "name": "address",<br/>        "type": "STRING",<br/>        "mode": "NULLABLE"<br/>    },<br/>    {<br/>        "name": "outcode",<br/>        "type": "STRING",<br/>        "mode": "NULLABLE"<br/>    },<br/>    {<br/>        "name": "postcode",<br/>        "type": "STRING",<br/>        "mode": "NULLABLE"<br/>    },<br/>    {<br/>        "name": "type_of_food",<br/>        "type": "STRING",<br/>        "mode": "NULLABLE"<br/>    }<br/>]</span></pre><p id="47f7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">模式参考:<a class="ae jt" href="https://cloud.google.com/bigquery/docs/schemas" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/bigquery/docs/schemas</a></p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="db96" class="lj kh hi bd ki lk ll lm km ln lo lp kq ix lq lr ku jb ls lt ky jf lu lv lc lw bi translated">3.Google Cloud SDK安装</h2><p id="b565" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated"><strong class="io hj">安装:</strong><a class="ae jt" href="https://cloud.google.com/sdk/" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/sdk/</a></p><p id="36df" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">安装完成后，运行以下命令来验证帐户设置。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="9d33" class="lj kh hi mf b fi mp mq l mr ms">$ gcloud auth list</span><span id="3dc8" class="lj kh hi mf b fi mt mq l mr ms">$ gcloud config list</span></pre></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="524d" class="lj kh hi bd ki lk ll lm km ln lo lp kq ix lq lr ku jb ls lt ky jf lu lv lc lw bi translated">4.创建BigQuery数据集</h2><p id="9e59" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated">在谷歌控制台中找到你的BigQuery。<a class="ae jt" href="https://bigquery.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">https://bigquery.cloud.google.com</a></p><p id="caaf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">按照以下说明创建数据集。</p><blockquote class="mu mv mw"><p id="ede0" class="im in mx io b ip iq ir is it iu iv iw my iy iz ja mz jc jd je na jg jh ji jj hb bi translated"><strong class="io hj">第一步:</strong></p></blockquote><figure class="ly lz ma mb fd ij er es paragraph-image"><div class="er es nb"><img src="../Images/89835bac632978f5e5ac4c9514c6dd39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/0*bSDm5cZW6vojNn_f.png"/></div></figure><blockquote class="mu mv mw"><p id="ccb2" class="im in mx io b ip iq ir is it iu iv iw my iy iz ja mz jc jd je na jg jh ji jj hb bi translated"><strong class="io hj">第二步:</strong></p></blockquote><figure class="ly lz ma mb fd ij er es paragraph-image"><div class="er es nc"><img src="../Images/12e0ac07753223d49867794592de859c.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/0*IGIz60SGVC0veOYS.png"/></div></figure><blockquote class="mu mv mw"><p id="17b9" class="im in mx io b ip iq ir is it iu iv iw my iy iz ja mz jc jd je na jg jh ji jj hb bi translated">通过<code class="du mc md me mf b">bq</code>命令行界面创建数据集</p></blockquote><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="8995" class="lj kh hi mf b fi mp mq l mr ms">$ bq mk -d --data_location=US   BQ_Dataset</span><span id="83f8" class="lj kh hi mf b fi mt mq l mr ms">// Verify your dataset creation<br/>$ bq ls</span><span id="53de" class="lj kh hi mf b fi mt mq l mr ms">    datasetId<br/> ----------------<br/>  BQ_Dataset</span></pre><p id="50a2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">阅读:</strong><a class="ae jt" href="https://cloud.google.com/bigquery/docs/datasets#create-dataset" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/big query/docs/datasets # create-dataset</a></p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="1d1a" class="lj kh hi bd ki lk ll lm km ln lo lp kq ix lq lr ku jb ls lt ky jf lu lv lc lw bi translated">5.将数据加载到BigQuery</h2><p id="82ad" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated">现在，我的目录包括两个文件，即数据和模式。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="2066" class="lj kh hi mf b fi mp mq l mr ms">$ tree<br/>.<br/>├── restaurant.json<br/>└── restaurantSchema.json</span><span id="a254" class="lj kh hi mf b fi mt mq l mr ms">0 directories, 2 files</span></pre><p id="2a9b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">运行命令将数据加载到BQ中。提交加载作业后，将需要几秒到几分钟的时间，具体取决于导入BQ表的数据量。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="96b3" class="lj kh hi mf b fi mp mq l mr ms">Ex: bq load --project_id=&lt;PROJECT-ID&gt; --source_format=NEWLINE_DELIMITED_JSON \<br/>    mydataset.mytable ./myfile.json ./myschema.json</span><span id="4758" class="lj kh hi mf b fi mt mq l mr ms">$ bq load --project_id=mimetic-slate-179915   \<br/>    --source_format=NEWLINE_DELIMITED_JSON --max_bad_records 10 \<br/>    BQ_Dataset.Restaurant ./restaurant.json  /restaurantSchema.json</span></pre><p id="bf49" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du mc md me mf b">--max_bad_records 10</code>是在导入作业时允许10个不良记录的附加标志，超过该值将导致导入失败。</p><p id="9ffb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">通过云存储导入</strong></p><figure class="ly lz ma mb fd ij er es paragraph-image"><div class="er es nd"><img src="../Images/2d1bc02264a602045c3aec2ed7e092b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*rDKuC_Itm6d5iKBJ4c9nXw.png"/></div></figure><blockquote class="mu mv mw"><p id="a7eb" class="im in mx io b ip iq ir is it iu iv iw my iy iz ja mz jc jd je na jg jh ji jj hb bi translated">另一种通过<code class="du mc md me mf b">Cloud Storage</code>导入数据的方法，这种方法比上面的方法快得多。</p></blockquote><p id="d448" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">读作:</strong>T29】https://cloud.google.com/storage/docs/creating-buckets</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="52dd" class="lj kh hi mf b fi mp mq l mr ms">//to create Cloud storage bucket for this example.<br/>$ gsutil mb  gs://bq-storage</span><span id="5927" class="lj kh hi mf b fi mt mq l mr ms">//to verify bucket creation<br/>$ gsutil ls<br/>gs://bq-storage/</span></pre><p id="8a67" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，我们将把数据<code class="du mc md me mf b">restaurant.json</code>上传到存储桶<code class="du mc md me mf b">gs://bq-storage/</code>中</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="8121" class="lj kh hi mf b fi mp mq l mr ms">//Run command to upload<br/>$ gsutil cp restaurant.json gs://bq-storage/restaurant.json</span></pre><p id="4338" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，我们可以使用对象的存储路径来导入BQ表。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="b1c9" class="lj kh hi mf b fi mp mq l mr ms">$ bq load --project_id=mimetic-slate-179915  \<br/>    --source_format=NEWLINE_DELIMITED_JSON --max_bad_records 10  \<br/>    BQ_Dataset.Restaurant \<br/>    gs://bq-storage/restaurant.json ./restaurantSchema.json</span></pre><p id="4845" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">完成<code class="du mc md me mf b">bq load</code>后，运行以下命令来验证表格创建。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="48cb" class="lj kh hi mf b fi mp mq l mr ms">$ bq show BQ_Dataset.Restaurant</span></pre><blockquote class="mu mv mw"><p id="6c13" class="im in mx io b ip iq ir is it iu iv iw my iy iz ja mz jc jd je na jg jh ji jj hb bi translated"><strong class="io hj">输出将类似于此:</strong></p></blockquote><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es ne"><img src="../Images/0098954ead1f72ac8040cba884733cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rnykG2OHvGomSwPG.png"/></div></div></figure><p id="ccdf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">也可以点击刷新后在bigQuery UI中验证。访问表格，点击<em class="mx">预览</em>。您将开始在表中看到记录。</p><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es nf"><img src="../Images/3fccdd7dfdab6bebb4be4ff7b7b6a034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-KUP1oO3lMv5wftr.png"/></div></div></figure><p id="20ee" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">更进bq CLI:</strong>【https://cloud.google.com/bigquery/bq-command-line-tool】T4</p><p id="9943" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">更进gsutil CLI:</strong><a class="ae jt" href="https://cloud.google.com/storage/docs/quickstart-gsutil" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/storage/docs/quickstart-gsutil</a></p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h1 id="0cb0" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">BQ表中的SQL查询</h1><p id="700f" class="pw-post-body-paragraph im in hi io b ip le ir is it lf iv iw ix lg iz ja jb lh jd je jf li jh ji jj hb bi translated">我们将运行一个简单的查询来显示输出。</p><pre class="ly lz ma mb fd ml mf mm mn aw mo bi"><span id="66ff" class="lj kh hi mf b fi mp mq l mr ms">SELECT<br/>  name,<br/>  address<br/>FROM<br/>  [mimetic-slate-179915:BQ_Dataset.Restaurant]<br/>WHERE<br/>  type_of_food = 'Thai'<br/>GROUP BY<br/>  name, address</span></pre><figure class="ly lz ma mb fd ij er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es ng"><img src="../Images/26dd71847816edf2cbf1c3a0b98ca3c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9Q72jvVKPm8DbreX.png"/></div></div></figure></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h1 id="2dbb" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">结论</h1><ul class=""><li id="b1af" class="jk jl hi io b ip le it lf ix nh jb ni jf nj jj jp jq jr js bi translated">BigQuery是一种查询服务，允许您在几秒钟内对多个TB的数据运行类似SQL的查询。这项技术是谷歌的核心技术之一，就像MapReduce和Bigtable一样，自2006年以来一直被谷歌内部用于各种分析任务。</li><li id="945e" class="jk jl hi io b ip ju it jv ix jw jb jx jf jy jj jp jq jr js bi translated">虽然MapReduce适用于长时间运行的批处理过程，如数据挖掘，但BigQuery是要求尽快得到结果的即席OLAP/商务智能查询的最佳选择。</li><li id="b136" class="jk jl hi io b ip ju it jv ix jw jb jx jf jy jj jp jq jr js bi translated">通配符也可以应用到Bigquery表中，以便将计算扩展到多个表。</li><li id="544c" class="jk jl hi io b ip ju it jv ix jw jb jx jf jy jj jp jq jr js bi translated">BigQuery是云计算支持的大规模并行查询数据库，与传统的数据仓库解决方案和设备相比，它提供了极高的全扫描查询性能和成本效益</li></ul><blockquote class="mu mv mw"><p id="4e2b" class="im in mx io b ip iq ir is it iu iv iw my iy iz ja mz jc jd je na jg jh ji jj hb bi translated"><strong class="io hj">接下来:</strong>尝试BigQuery 中更多可用的<a class="ae jt" href="https://cloud.google.com/bigquery/docs/how-to" rel="noopener ugc nofollow" target="_blank">功能，并投入到更多计算密集型工作中。</a></p></blockquote></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="e48f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">以上就是这个<strong class="io hj">系列第一部</strong>的全部内容。希望你从这一页对导入作业、存储和BigQuery的基本轮廓有基本的了解。我在我的工作场所看到了BigQuery处理100-120 TB数据的强大功能，并在一两分钟内获得结果，这真是令人难以置信。如果能通过下面的评论和媒体上的掌声得到反馈，我将不胜感激。</p><p id="fa71" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在本系列的下一篇博客中，我们将更多地了解Bigquery   中的<a class="ae jt" rel="noopener" href="/google-cloud/streaming-with-redis-bigquery-part-ii-763cdec9a9ec"> <strong class="io hj"> <em class="mx">流特性，以实时推送BQ表中的数据，使其可用于对变化的数据集进行即时查询。</em></strong></a></p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="73bf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> Github参考:</strong><a class="ae jt" href="https://github.com/sunnykrGupta/Bigquery-series" rel="noopener ugc nofollow" target="_blank"><strong class="io hj">https://github.com/sunnykrGupta/Bigquery-series</strong></a></p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="1795" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi nk translated"><span class="l nl nm nn bm no np nq nr ns di"> D </span> <strong class="io hj"> aemon博客:</strong><a class="ae jt" href="https://sunnykrgupta.github.io/export-load-job-with-mongodb-bigquery-part-i.html" rel="noopener ugc nofollow" target="_blank">https://sunnykrgupta . github . io/export-load-job-with-MongoDB-big query-part-I . html</a></p><div class="nt nu ez fb nv nw"><a href="https://sunnykrgupta.github.io/export-load-job-with-mongodb-bigquery-part-i.html" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab dw"><div class="ny ab nz cl cj oa"><h2 class="bd hj fi z dy ob ea eb oc ed ef hh bi translated">守护程序博客-使用MongoDB - BigQuery第一部分导出和加载作业</h2><div class="od l"><h3 class="bd b fi z dy ob ea eb oc ed ef dx translated">桑尼·库马尔的文章和文章</h3></div><div class="oe l"><p class="bd b fp z dy ob ea eb oc ed ef dx translated">sunnykrgupta.github.io</p></div></div><div class="of l"><div class="og l oh oi oj of ok ik nw"/></div></div></a></div></div></div>    
</body>
</html>