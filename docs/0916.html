<html>
<head>
<title>Deconstructing Chatbots: Getting Started with Dialogflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解构聊天机器人:Dialogflow入门</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/deconstructing-chatbots-getting-started-with-dialogflow-4f91deb32135?source=collection_archive---------1-----------------------#2019-02-11">https://medium.com/google-cloud/deconstructing-chatbots-getting-started-with-dialogflow-4f91deb32135?source=collection_archive---------1-----------------------#2019-02-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/78f3f99e64deaa321884e1da7197b527.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ScD72WY6wOs2tpyOxK8bKw.png"/></div></div></figure><div class=""/><p id="60ea" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上一篇文章中，我们介绍了Dialogflow，这是一个由自然语言理解驱动的端到端工具，用于促进丰富而自然的对话。在本文中，我们将剖析聊天机器人的架构，以更好地理解由Dialogflow驱动的对话体验的构建块。</p><p id="204f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://www.youtube.com/watch?v=Ov3CDTxZRQc&amp;t=2s" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=Ov3CDTxZRQc</a></p><p id="914b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是高级架构:</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jp"><img src="../Images/440cbc0257ae359145e23d011a58318a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0H1B-K874mQA7g4t"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">对话流驱动的对话体验的高级架构</figcaption></figure><ul class=""><li id="8234" class="jy jz ht is b it iu ix iy jb ka jf kb jj kc jn kd ke kf kg bi translated">Dialogflow位于堆栈的中间。</li><li id="ba03" class="jy jz ht is b it kh ix ki jb kj jf kk jj kl jn kd ke kf kg bi translated">用户可以通过所有常见的渠道与它交互，包括文本、网站、手机应用程序、信使、twitter和所有智能语音设备，如google home。</li><li id="b862" class="jy jz ht is b it kh ix ki jb kj jf kk jj kl jn kd ke kf kg bi translated">Dialogflow使用由您的示例训练的机器学习模型来处理将自然语言翻译成机器可读数据的工作。</li><li id="7b88" class="jy jz ht is b it kh ix ki jb kj jf kk jj kl jn kd ke kf kg bi translated">一旦它识别出用户在谈论什么，它就可以把这些数据传递到你的后端，你可以用这些数据来做事情</li><li id="2a0a" class="jy jz ht is b it kh ix ki jb kj jf kk jj kl jn kd ke kf kg bi translated">在后端，您可以通过与您的其他服务、数据库甚至像CRM这样的第三方工具集成来满足请求。</li></ul><p id="f07c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们更深入地研究一下对话流本身。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es km"><img src="../Images/129493b79f70df4d9c29c3b89ae98382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pLz7i-6Cu8QN2TMU"/></div></div></figure><p id="9b88" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们首先在Dialogflow中创建一个<strong class="is hu">代理</strong>。代理本质上是你的整个聊天机器人应用程序，收集用户所说的话，将它映射到意图，对它采取行动，并为用户提供响应的体验。在代理中，这一切都始于一个触发事件，称为<strong class="is hu">发言</strong>。这是我们的用户调用聊天机器人的方式。</p><p id="ac84" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，如果我们说:<em class="kn">嘿，谷歌，播放一些音乐</em>——整个句子是话语。而短语<em class="kn">“嘿谷歌”</em>则是触发器。</p><p id="761c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们再举一个例子。<em class="kn">嘿，谷歌，和预约安排者谈谈。</em>短语“talk to Appointment scheduler”是我们聊天机器人的<strong class="is hu">调用短语</strong>,“Appointment Scheduler”是<strong class="is hu">调用名称</strong>。</p><p id="ed3f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦机器人被激活并且已经收集了用户话语。我们需要理解用户的意图。本质上，他们为什么想和我们的机器人说话..</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ko"><img src="../Images/9838aaefdbbc3ee1f79c37d179f6839b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOBWfH3ZCWxyyMQcWTcj9w.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">目的</figcaption></figure><p id="7496" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以当你说“<em class="kn">我想预约</em>”——短语“预约”就是这里的意图</p><p id="6abe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者如果你问“<em class="kn">你们的营业时间是什么时候</em>”？—那么工作时间就是目的。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kp"><img src="../Images/1c21237759ecb8acc2bc292588a03746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31jvtFe87mRoFBWBKpa0yQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">训练短语和意图匹配</figcaption></figure><p id="1ae4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了控制这一切，您为Dialogflow提供了用户意图的不同示例，如设置约会、工作时间等..Dialogflow然后用更多相似的短语训练一个机器学习模型，最终将用户的短语映射到正确的意图。这个过程叫做<strong class="is hu">意图匹配。</strong></p><p id="4651" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们知道了用户的意图，我们需要知道做什么来提供响应。为此，您配置<strong class="is hu">动作和参数</strong>来定义您想要收集和存储的变量。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kq"><img src="../Images/f063c5366dca16f26b9b16046fc732ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ASc4E0uKM9iPOA_J8SHWEg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">动作和参数-实体</figcaption></figure><p id="3071" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看一个例子——<em class="kn">约定明天早上5点</em>。</p><p id="f9c1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当用户说— <em class="kn">早上5点</em>和<em class="kn">明天</em>是我们实际上需要预约的两个关键信息时。那些变量被定义为<strong class="is hu">实体</strong>。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kr"><img src="../Images/27d5705bf8fbcd16f5224975f97b5c4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vNXildhQ0CraLTPKPs6qxQ.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">意向反应</figcaption></figure><p id="9c7c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Dialogflow提供了不同类型的实体，我们将在下一篇文章中详细介绍。</p><p id="0593" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦我们有了变量，我们可以使用它们向用户提供静态的<strong class="is hu">响应</strong>。在大多数情况下，我们可能希望将变量发送到我们的后端，采取一些行动，然后向用户提供一个动态响应。</p><p id="c357" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">概括来说，意图包括训练短语、动作和参数以及响应。根据你的机器人提供的服务，你可能通常有几个到1000个意图。它们也可以是不同的语言。</p><p id="ea14" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们看架构时，有必要提一下<strong class="is hu">上下文</strong>。上下文是聊天机器人存储和访问变量的一种方法，因此它可以在对话中从一个意图向另一个意图交换信息。上下文实际上是一个非常重要的主题，所以我们将在以后的文章中详细讨论上下文。</p><p id="aa2d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> Fulfillment </strong>是拼图的最后一块，它是您编写的与后端服务接口以响应动态请求的代码。</p><blockquote class="ks"><p id="61b1" class="kt ku ht bd kv kw kx ky kz la lb jn dx translated"><strong class="ak"> Dialogflow内置了与谷歌云功能的集成，可以与您的后端接口。</strong></p></blockquote><p id="0dca" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hb bi translated">您还可以提供任何其他定制的HTTP或HTTPS端点来将Dialogflow连接到您的后端。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div class="er es lh"><img src="../Images/e7792bef40a5b6d1ee5764356ac446f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/0*_ipMcC_N21lWzY8x"/></div></figure><p id="7c5e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们查看了一个简单的高级架构来设置Dialogflow中的代理，我们还学习了高级的意图、实体、上下文和实现。</p><p id="2fbb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下一篇文章中，我将构建一个简单的约会调度聊天机器人。所以，继续解构聊天机器人…</p></div></div>    
</body>
</html>