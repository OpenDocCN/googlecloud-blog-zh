<html>
<head>
<title>.NET Core 3.1 updates in Cloud Shell and App Engine flexible environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">。云壳和App Engine灵活环境下的NET Core 3.1更新</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/net-core-3-1-updates-in-cloud-shell-and-app-engine-flexible-environment-8714e345af32?source=collection_archive---------3-----------------------#2020-06-29">https://medium.com/google-cloud/net-core-3-1-updates-in-cloud-shell-and-app-engine-flexible-environment-8714e345af32?source=collection_archive---------3-----------------------#2020-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b28c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">。NET Core 3.1于2019年12月3日发布，为LTS版本，支持三年。</p><p id="6984" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在谷歌云中，你已经可以部署。NET Core 3.1容器在云运行(参见<a class="ae jd" href="https://github.com/meteatamel/cloud-run-dotnetcore-31" rel="noopener ugc nofollow" target="_blank"> cloud-run-dotnetcore-31 </a>)中，也在App Engine灵活环境中使用<a class="ae jd" href="https://cloud.google.com/appengine/docs/flexible/custom-runtimes" rel="noopener ugc nofollow" target="_blank">自定义运行时</a>。</p><p id="ae58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们最近扩展了。NET Core 3.1以多种方式提供支持:</p><ol class=""><li id="6b47" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">云壳现在支持。网芯3.1。</li><li id="0dfc" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">App Engine灵活环境运行时现在支持。网芯3.1。</li></ol><h1 id="aecb" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">。云壳中的网芯3.1</h1><p id="12ee" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">在云壳内部，可以看到最新的<code class="du kv kw kx ky b">3.1.301</code>版本:</p><p id="49c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建ASP.NET核心MVC应用程序:</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="012d" class="lh jt hi ky b fi li lj l lk ll">$ dotnet new mvc -o HelloWorldAspNetCore </span><span id="dbad" class="lh jt hi ky b fi lm lj l lk ll">Running 'dotnet restore' on HelloWorldAspNetCore/HelloWorldAspNetCore.csproj... Determining projects to restore... Restored /home/atameldev/HelloWorldAspNetCore/HelloWorldAspNetCore.csproj (in 221 ms). Restore succeeded.</span></pre><p id="51ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在云壳中运行它:</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="6bb1" class="lh jt hi ky b fi li lj l lk ll">$ dotnet run --urls=http://localhost:8080 </span><span id="f55f" class="lh jt hi ky b fi lm lj l lk ll">info: Microsoft.Hosting.Lifetime[ 0 ] Now listening on: <a class="ae jd" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a></span></pre><h1 id="4a6b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">。App Engine灵活环境下的NET Core 3.1</h1><p id="d2c0" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">您现在可以部署了。NET Core 3.1应用程序到应用程序引擎的灵活环境，而无需创建自定义运行时。</p><p id="dffc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，发布一个发布版本:</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="fb11" class="lh jt hi ky b fi li lj l lk ll">$ dotnet publish -c Release</span><span id="5849" class="lh jt hi ky b fi lm lj l lk ll">HelloWorldAspNetCore -&gt; /home/atameldev/HelloWorldAspNetCore/bin/Release/netcoreapp3.1/HelloWorldAspNetCore.dll HelloWorldAspNetCore -&gt; /home/atameldev/HelloWorldAspNetCore/bin/Release/netcoreapp3.1/HelloWorldAspNetCore.Views.dll HelloWorldAspNetCore -&gt; /home/atameldev/HelloWorldAspNetCore/bin/Release/netcoreapp3.1/publish/</span></pre><p id="f168" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du kv kw kx ky b">publish</code>文件夹中创建一个包含以下内容的<code class="du kv kw kx ky b">app.yaml</code>文件:</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="ea8f" class="lh jt hi ky b fi li lj l lk ll">cat&gt;bin/Release/netcoreapp3.1/publish/app.yaml&lt;&lt;EOF<br/>env:flex<br/>runtime:aspnetcore<br/>EOF</span></pre><p id="a88a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">部署到应用引擎:</p><pre class="kz la lb lc fd ld ky le lf aw lg bi"><span id="0d0d" class="lh jt hi ky b fi li lj l lk ll">gcloud app deploy bin/Release/netcoreapp3.1/publish/app.yaml</span></pre><p id="7d3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，您可以使用<code class="du kv kw kx ky b">gcloud app browse</code>浏览应用程序，并查看默认页面:</p><figure class="kz la lb lc fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es ln"><img src="../Images/26db12e1d4ffe471a678637d47a567e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*23UzwZ4wyW-gOW9A.png"/></div></div></figure><h1 id="e69a" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">Codelab和GitHub Repo</h1><p id="5cd5" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">如果您想亲自体验一下，我们还更新了<a class="ae jd" href="https://codelabs.developers.google.com/codelabs/cloud-app-engine-aspnetcore" rel="noopener ugc nofollow" target="_blank">部署ASP.NET核心应用程序到应用引擎</a>代码实验室的最新信息:</p><figure class="kz la lb lc fd lo er es paragraph-image"><div class="er es lv"><img src="../Images/417f683206e3d1273a280c14763f8b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/0*bKND-EM6Q6DnyDS5.png"/></div></figure><p id="f7b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还创建了一个GitHub repo，<a class="ae jd" href="https://github.com/meteatamel/appengine-flex-dotnetcore" rel="noopener ugc nofollow" target="_blank">app engine-flex-dotnetcore</a>，上面有代码和指令。</p><p id="b2dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你有问题/评论，欢迎在Twitter上联系我(<a class="ae jd" href="https://twitter.com/meteatamel" rel="noopener ugc nofollow" target="_blank"> @meteatamel </a>)。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><p id="d37c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="md">原发布于</em><a class="ae jd" href="https://atamel.dev/posts/2020/06-29_dotnetcore31-cloudshell-appengine-flex/" rel="noopener ugc nofollow" target="_blank"><em class="md">https://atamel . dev</em></a><em class="md">。</em></p></div></div>    
</body>
</html>