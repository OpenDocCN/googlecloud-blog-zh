<html>
<head>
<title>Deploying Parse server to Google App Engine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将解析服务器部署到Google App Engine</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/deploying-parse-server-to-google-app-engine-6bc0b7451d50?source=collection_archive---------0-----------------------#2016-01-29">https://medium.com/google-cloud/deploying-parse-server-to-google-app-engine-6bc0b7451d50?source=collection_archive---------0-----------------------#2016-01-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/7f39e79432861a89d4a81d818110207b.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*VHYGqjhONSJ20pRlIUbg7w.png"/></div></figure><p id="d2a0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最近，Parse宣布他们将<a class="ae jk" href="http://blog.parse.com/announcements/moving-on/" rel="noopener ugc nofollow" target="_blank">关闭</a>他们的移动后端服务。如果你已经在Parse上构建了一个应用，这可能是个坏消息。好消息是，他们给开发者12个月的时间来寻找新的解决方案，并且他们提供了一条<a class="ae jk" href="http://blog.parse.com/announcements/introducing-parse-server-and-the-database-migration-tool/" rel="noopener ugc nofollow" target="_blank">运行你自己的</a>解析兼容服务的道路。有一个很棒的迁移指南，介绍了<a class="ae jk" href="https://parse.com/docs/server/guide" rel="noopener ugc nofollow" target="_blank">将解析数据</a>导出到MongoDB，并运行构建在Node.js和express上的解析服务器。</p><p id="c86f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">本指南将涵盖在<a class="ae jk" href="http://cloud.google.com/nodejs" rel="noopener ugc nofollow" target="_blank"> Google App Engine </a>和<a class="ae jk" href="https://mongolab.com/google/" rel="noopener ugc nofollow" target="_blank"> MongoLab </a>上运行解析服务器。你可以在我们的<a class="ae jk" href="https://cloud.google.com/nodejs/resources/frameworks/parse-server" rel="noopener ugc nofollow" target="_blank"> node.js开发者中心</a>了解如何在App Engine上设置parse和大量其他node.js应用。</p><h2 id="b3a4" class="jl jm hi bd jn jo jp jq jr js jt ju jv ix jw jx jy jb jz ka kb jf kc kd ke kf bi translated">建立一个MongoLab数据库</h2><p id="3f9c" class="pw-post-body-paragraph im in hi io b ip kg ir is it kh iv iw ix ki iz ja jb kj jd je jf kk jh ji jj hb bi translated">首先，注册一个<a class="ae jk" href="https://mongolab.com/google/" rel="noopener ugc nofollow" target="_blank"> MongoLab </a>账户(如果你还没有的话)。</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kl"><img src="../Images/f2175154a4f1eb092bb0a7c38acc30f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4IsQCPTU9w4IM-nvVVAs0w.png"/></div></div></figure><p id="bf58" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当您到达仪表板时，创建一个新的数据库:</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ku"><img src="../Images/6e1fcd561e4098d7591919f2c45c6a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJd5WUVOs-1D9xp9HRslwQ.png"/></div></div></figure><p id="d786" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">确保选择谷歌云平台作为云提供商。我使用免费层开始:</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kv"><img src="../Images/5b326ebcf351eeecee25f05cb0a94c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TMHsD4hXfnJ_EzBYiXH5jQ.png"/></div></div></figure><p id="e288" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">数据库可用后，单击仪表板中的标题。您需要创建一个用户:</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kw"><img src="../Images/dfe2c81b53470b89d5a5620bf0b05ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UAlqpCfR7lhOp9CwdA--7A.png"/></div></div></figure><p id="95ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，复制数据库的连接字符串。我们将在node.js应用程序中使用它。</p><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/580e3e1fc11c574cf49b3cdae2d440ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*escjGka1j4f8HVaU628OUA.png"/></div></figure><p id="7218" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们有了一个数据库——让我们转到node.js应用程序。</p><h2 id="a022" class="jl jm hi bd jn jo jp jq jr js jt ju jv ix jw jx jy jb jz ka kb jf kc kd ke kf bi translated">设置解析服务器</h2><p id="39ff" class="pw-post-body-paragraph im in hi io b ip kg ir is it kh iv iw ix ki iz ja jb kj jd je jf kk jh ji jj hb bi translated">让解析服务器在Google Cloud上运行的最简单的方法是从GitHub上的示例开始。</p><pre class="km kn ko kp fd ky kz la lb aw lc bi"><span id="d1a0" class="jl jm hi kz b fi ld le l lf lg">git clone <a class="ae jk" href="https://github.com/GoogleCloudPlatform/nodejs-docs-samples.git" rel="noopener ugc nofollow" target="_blank">https://github.com/GoogleCloudPlatform/nodejs-docs-samples.git</a><br/>cd appengine/parse-server<br/>npm install</span></pre><p id="e2b4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在您需要设置一些配置变量。打开config.json，设置本地配置。您可以在<a class="ae jk" href="https://parse.com/docs/server/guide" rel="noopener ugc nofollow" target="_blank">迁移指南</a>中了解更多关于解析配置的信息:</p><pre class="km kn ko kp fd ky kz la lb aw lc bi"><span id="fe4a" class="jl jm hi kz b fi ld le l lf lg">{<br/> “DATABASE_URI”: “mongodb://localhost:27017/dev”,<br/> “CLOUD_PATH”: “./cloud/main.js”,<br/> “APP_ID”: “&lt;your-app-id&gt;”,<br/> “MASTER_KEY”: “&lt;your-master-key&gt;”,<br/> “FILE_KEY”: “&lt;your-file-key&gt;”,<br/> “PARSE_MOUNT_PATH”: “/parse”,<br/> “SERVER_URL”: “&lt;your-server-url&gt;”<br/>}</span></pre><p id="c4d8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这将帮助我们在本地运行解析服务器。现在尝试一下:</p><pre class="km kn ko kp fd ky kz la lb aw lc bi"><span id="5fb3" class="jl jm hi kz b fi ld le l lf lg">npm start</span></pre><p id="fad6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们将应用程序部署到应用程序引擎！</p><h2 id="413e" class="jl jm hi bd jn jo jp jq jr js jt ju jv ix jw jx jy jb jz ka kb jf kc kd ke kf bi translated">部署到Google应用引擎</h2><p id="0d72" class="pw-post-body-paragraph im in hi io b ip kg ir is it kh iv iw ix ki iz ja jb kj jd je jf kk jh ji jj hb bi translated">接下来，我们将应用程序部署到谷歌应用程序引擎。如果卡住了，也可以按照<a class="ae jk" href="http://cloud.google.com/nodejs" rel="noopener ugc nofollow" target="_blank"> node.js入门指南。</a></p><p id="4b63" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先在<a class="ae jk" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌云平台控制台</a>中创建一个项目:</p><figure class="km kn ko kp fd ij er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es lh"><img src="../Images/23872d085e39ec8f325c039f1f33d4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kW2y5W2SjZkowlJ7MriS8g.png"/></div></div></figure><p id="ee71" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，<a class="ae jk" href="https://console.cloud.google.com/project/_/settings" rel="noopener ugc nofollow" target="_blank">启用计费</a>。您可以通过免费试用在App Engine管理的虚拟机上运行应用程序。</p><p id="6647" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">安装<a class="ae jk" href="https://cloud.google.com/sdk/" rel="noopener ugc nofollow" target="_blank">谷歌云SDK </a>。运行“gcloud init”并使用您的Google帐户登录。最后—部署您的应用:</p><pre class="km kn ko kp fd ky kz la lb aw lc bi"><span id="2b79" class="jl jm hi kz b fi ld le l lf lg">gcloud preview app deploy</span></pre><p id="6690" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">部署完成后，导航至<a class="ae jk" href="http://%3Cyour-app-id%3E.appspot.com" rel="noopener ugc nofollow" target="_blank">http://&lt;your-app-id&gt;. appspot . com</a>并查看:</p><figure class="km kn ko kp fd ij er es paragraph-image"><div class="er es li"><img src="../Images/d0af6c76ca08ddcd592615fef8ac83a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*i48Qt4-r_pfxa1HN_00CXw.png"/></div></figure><p id="a787" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你已经准备好了。要了解更多关于在Google cloud上运行node.js应用程序的信息，请查看我们的<a class="ae jk" href="http://cloud.google.com/nodejs" rel="noopener ugc nofollow" target="_blank">文档</a>，或者看看我们在GitHub上的其他<a class="ae jk" href="http://github.com/GoogleCloudPlatform/nodejs-docs-samples" rel="noopener ugc nofollow" target="_blank">示例。</a>让我们知道您的想法！</p></div></div>    
</body>
</html>