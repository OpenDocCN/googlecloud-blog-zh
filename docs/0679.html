<html>
<head>
<title>Deploy WSO2 Identity server with analytics in a GCE Kubernetes cluster using Helm from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始使用Helm在GCE Kubernetes集群中部署带有分析功能的WSO2 Identity server</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/deploy-wso2-identity-server-with-analytics-in-a-gce-kubernetes-cluster-using-helm-from-scratch-4ade7b6a510b?source=collection_archive---------0-----------------------#2018-07-08">https://medium.com/google-cloud/deploy-wso2-identity-server-with-analytics-in-a-gce-kubernetes-cluster-using-helm-from-scratch-4ade7b6a510b?source=collection_archive---------0-----------------------#2018-07-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/9cb84754230dfb1ffe200340fe5d55e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*sfdJKN2jXunyoY5qXo9nbQ.png"/></div></figure><figure class="in io ip iq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es im"><img src="../Images/9993cee0fbe048465775ddf149a4c9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fM53qZTYegTKvWs5AevGBw.png"/></div></div></figure><figure class="in io ip iq fd ij er es paragraph-image"><div class="er es iv"><img src="../Images/0dc5bec4dd10079896715d768f692d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*mHGC8iBXz09Y3XQ3uZ9Idg.jpeg"/></div></figure><p id="5e99" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">在本教程中，我将解释如何在Google Kubernetes集群中部署具有分析功能的<a class="ae ju" href="https://wso2.com/identity-and-access-management" rel="noopener ugc nofollow" target="_blank"> WSO2身份服务器</a>。教程分为两部分，</p><ul class=""><li id="7c39" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">配置基础设施</li><li id="43e9" class="jv jw hi iy b iz ke jd kf jh kg jl kh jp ki jt ka kb kc kd bi translated">使用Helm部署Kubernetes工件</li></ul><p id="0410" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">让我们从配置基础设施开始，</p><ol class=""><li id="6105" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt kj kb kc kd bi translated">如果您还没有GCP帐户，让我们创建一个<a class="ae ju" href="https://cloud.google.com/free/" rel="noopener ugc nofollow" target="_blank"> GCP免费轮胎</a>。</li><li id="0fd4" class="jv jw hi iy b iz ke jd kf jh kg jl kh jp ki jt kj kb kc kd bi translated">转到Google云平台仪表板，创建一个名为<code class="du kk kl km kn b">helm-wso2</code>的新项目。</li><li id="9d3a" class="jv jw hi iy b iz ke jd kf jh kg jl kh jp ki jt kj kb kc kd bi translated">通过从菜单中选择Kubernetes计算引擎并点击<strong class="iy hj">启用计费</strong>，为项目启用Kubernetes计算引擎。你可以从<a class="ae ju" href="https://cloud.google.com/kubernetes-engine/docs/quickstart" rel="noopener ugc nofollow" target="_blank">这里</a>找到更多细节。</li><li id="ffc7" class="jv jw hi iy b iz ke jd kf jh kg jl kh jp ki jt kj kb kc kd bi translated">现在安装<a class="ae ju" href="https://cloud.google.com/sdk/gcloud/" rel="noopener ugc nofollow" target="_blank"> Gcloud </a>一个用于管理谷歌云平台的命令行工具。你可以在这里找到如何为每个操作系统<a class="ae ju" href="https://cloud.google.com/sdk/docs/quickstarts" rel="noopener ugc nofollow" target="_blank">安装它。</a></li></ol><ul class=""><li id="fdf3" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">让我们通过在终端中执行以下命令来初始化gcloud命令行工具，</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="7d32" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud init</strong></span></pre><ul class=""><li id="3e23" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">接受使用您的Google用户帐户登录的选项:</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="052f" class="ks kt hi kn b fi ku kv l kw kx">To continue, you must log in. Would you like to log in (Y/n)? Y</span></pre><p id="3d47" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">登录您的帐户并授予权限。</p><ul class=""><li id="596a" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">接下来从列表中选择项目<code class="du kk kl km kn b">helm-wso2 </code>。</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="4adc" class="ks kt hi kn b fi ku kv l kw kx">Which compute zone would you like to use as project default?<br/> [1] [helm-wso2]<br/> <br/> Please enter your numeric choice:1</span></pre><ul class=""><li id="373f" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">选择<strong class="iy hj"> us-east1-b </strong>作为项目的默认地区，</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="70c3" class="ks kt hi kn b fi ku kv l kw kx">Do you want to configure a default Compute Region and Zone? (Y/n)? Y</span></pre><p id="62ec" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">5.接下来安装用于管理Kubernetes集群的<code class="du kk kl km kn b">kubectl</code>命令行工具</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="9f6c" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud components install kubectl</strong></span></pre><p id="385c" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在您已经安装了必要的工具来部署一个<strong class="iy hj"> Kubernetes集群</strong>。</p><p id="5d8c" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">6.通过执行以下命令创建一个Kubernetes集群，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="e730" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud container clusters create helm-wso2-kubernetes --machine-type=n1-standard-2 --zone=us-east1-b</strong></span></pre><p id="e1a4" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">7.执行以下命令，为<code class="du kk kl km kn b"> <strong class="iy hj">helm-wso2-kubernetes</strong></code> Kubernetes集群配置<strong class="iy hj"> kubectl </strong></p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="6aa4" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud container clusters get-credentials helm-wso2-kubernetes</strong></span></pre><p id="bcd6" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">8.为群集启用基于角色的访问控制</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="9088" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">kubectl create clusterrolebinding cluster-admin-binding \<br/>--clusterrole cluster-admin --user &lt;EMAIL&gt;</strong></span></pre><p id="4176" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">在此用您的Gmail地址替换<email>。</email></p><p id="3e5d" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">9.通过执行以下命令部署入口控制器，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="5672" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">kubectl apply -f </strong><a class="ae ju" href="https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/mandatory.yaml" rel="noopener ugc nofollow" target="_blank"><strong class="kn hj">https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/mandatory.yaml</strong></a><strong class="kn hj"> --username admin --password $(gcloud container clusters describe helm-wso2-kubernetes | grep password | awk '{print $2}') &amp;&amp; kubectl apply -f </strong><a class="ae ju" href="https://www.google.com/url?q=https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/provider/cloud-generic.yaml&amp;sa=D&amp;source=hangouts&amp;ust=1529915259231000&amp;usg=AFQjCNHK_nbSy8rCjQ6QDcjbd_8_W2TySw" rel="noopener ugc nofollow" target="_blank"><strong class="kn hj">https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/provider/cloud-generic.yaml</strong></a></span></pre><p id="4fa2" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">10.现在您已经成功地部署了一个Kubernetes集群。您可以使用以下命令获取集群信息</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="f43f" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud container clusters describe helm-wso2-kubernetes</strong></span></pre><p id="5bc6" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">11.接下来，按照此处描述的<a class="ae ju" href="https://docs.helm.sh/using_helm/#installing-helm" rel="noopener ugc nofollow" target="_blank">说明安装舵。暂时省略初始化。</a></p><p id="becf" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">12.安装完成后，让我们开始初始化头盔，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="8199" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">kubectl create serviceaccount --namespace kube-system tiller &amp;&amp; \</strong><strong class="kn hj"><br/></strong><strong class="kn hj">kubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tiller &amp;&amp; \ helm init &amp;&amp; \<br/>kubectl patch deploy --namespace kube-system tiller-deploy -p '{"spec":{"template":{"spec":{"serviceAccount":"tiller"}}}}'</strong></span></pre><p id="34b0" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj">在接下来的几个步骤中，我们将创建一个网络文件系统，需要在生成的实例之间共享几个目录。</strong></p><p id="d242" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">13.转到下面列出的仪表板，在区域<code class="du kk kl km kn b">us-east1-b</code>中创建一个名为<code class="du kk kl km kn b">singlefs-1-helm-wso2</code>的单节点文件服务器，并使用默认设置。</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="1f25" class="ks kt hi kn b fi ku kv l kw kx"><a class="ae ju" href="https://cloud.google.com/launcher/solution/click-to-deploy-images/singlefs" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/launcher/solution/click-to-deploy-images/singlefs</a></span></pre><figure class="in io ip iq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es ky"><img src="../Images/a069f3acea626fb4a7c1c9980878dcd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEpDyLgnxBIY97hMG6_sKw.png"/></div></div></figure><p id="efda" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj">现在让我们登录到NFS实例来创建所需的目录。</strong></p><ul class=""><li id="e66b" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">获取实例的密码</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="33d6" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud compute instances \<br/>describe singlefs-1-helm-wso2-vm \<br/>--zone=us-east1-b \<br/>--format='value(metadata.items[0].value)'</strong></span></pre><ul class=""><li id="8850" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">SSH到实例中，</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="e06d" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud compute --project "helm-wso2" ssh --zone "us-east1-b" "singlefs-1-helm-wso2-vm"</strong></span></pre><p id="bfca" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">当系统询问时，输入上面获得的密码。</p><ul class=""><li id="2d59" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">装入卷</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="ea8f" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">sudo mount -t nfs singlefs-1-helm-wso2-vm:/data /mnt</strong></span></pre><ul class=""><li id="7c30" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">创建以下目录</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="5f82" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">mkdir -p /data/wso2is/deployment /data/wso2is/tenants /data/wso2is/analytics-data-1 /data/wso2is/analytics-data-2</strong></span></pre><ul class=""><li id="ca76" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">设置文件权限</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="6220" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">sudo useradd -u 802 wso2carbon &amp;&amp; \<br/>sudo groupadd -g 802 wso2 &amp;&amp; \<br/>sudo chown -R wso2carbon:wso2 /data/wso2is/</strong></span></pre><p id="5ab7" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">就是这样！！！！！。您已经成功配置了环境。现在让我们进入下一部分。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><p id="3643" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">在下面的步骤中，我们将使用Helm部署带有分析功能的WSO2 Identity server。</p><ol class=""><li id="e12f" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt kj kb kc kd bi translated">Git克隆<code class="du kk kl km kn b">wso2/kubernetes-is</code>库</li></ol><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="c71f" class="ks kt hi kn b fi ku kv l kw kx">git clone https://github.com/wso2/kubernetes-is.git</span></pre><p id="9871" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">2.转到目录<code class="du kk kl km kn b">kubernetes-is/helm/is-with-analytics</code></p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="5fcb" class="ks kt hi kn b fi ku kv l kw kx">cd <!-- -->kubernetes-is/helm/is-with-analytics</span></pre><p id="dfd5" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">3.<strong class="iy hj"> is-with-analytics-conf </strong>目录包含配置。我们可以使用<code class="du kk kl km kn b">is-with-analytics-conf<strong class="iy hj">/</strong>values.yaml</code>文件来输入配置值。</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="95e2" class="ks kt hi kn b fi ku kv l kw kx">username: "&lt;WSO2 subscription email&gt;"<br/>password:  "&lt;WSO2 subscription password&gt;"<br/>email:  "&lt;WSO2 subscription email&gt;"</span><span id="52c9" class="ks kt hi kn b fi lg kv l kw kx">namespace: "wso2"<br/>svcaccount: "wso2svc-account"<br/>serverIp: &lt;NFS Server IP&gt;<br/>sharedDeploymentLocationPath: "/data/wso2is/deployment"<br/>sharedTentsLocationPath: "/data/wso2is/tenants"<br/>analytics1DataLocationPath: "/data/wso2is/analytics-data-1"<br/>analytics2DataLocationPath: "/data/wso2is/analytics-data-2"</span></pre><p id="4ae7" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">用您选择的编辑器打开此文件。</p><ul class=""><li id="858d" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">用您的WSO2订阅凭证替换<code class="du kk kl km kn b">&lt;WSO2 subscription email&gt;</code> &amp; <code class="du kk kl km kn b">&lt;WSO2 subscription password&gt;</code>。如果您没有有效的WSO2订阅，请订阅<a class="ae ju" href="https://wso2.com/subscription/free-trial" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hj">免费试用订阅</strong> </a>。</li><li id="2c1e" class="jv jw hi iy b iz ke jd kf jh kg jl kh jp ki jt ka kb kc kd bi translated">替换<code class="du kk kl km kn b">&lt;NFS Server IP&gt;</code>并添加NFS服务器的私有IP地址</li></ul><p id="d182" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">您可以使用以下命令获取NFS服务器的私有IP地址，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="d6ff" class="ks kt hi kn b fi ku kv l kw kx"><strong class="kn hj">gcloud compute instances describe singlefs-1-helm-wso2-vm --zone=us-east1-b --format='value(networkInterfaces[0].networkIP)'</strong></span></pre><p id="30d6" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">4.让我们部署<strong class="iy hj">带分析配置的</strong>舵图</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="5c66" class="ks kt hi kn b fi ku kv l kw kx">helm install --name is-with-analytics-conf is-with-analytics-conf</span></pre><p id="68a6" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">5.接下来部署MySQL数据库，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="5035" class="ks kt hi kn b fi ku kv l kw kx">helm install --name wso2is-with-analytics-rdbms-service -f mysql/values.yaml stable/mysql --namespace wso2</span></pre><p id="cd37" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">通过执行以下命令验证MySQL服务器是否处于就绪状态，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="0252" class="ks kt hi kn b fi ku kv l kw kx">kubectl get pods -n wso2 | grep 'wso2is-with-analytics-rdbms-service-mysql' | awk '{print $2}'</span></pre><p id="4e76" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">检查直到<code class="du kk kl km kn b">0/1</code>变成<code class="du kk kl km kn b">1/1</code>。</p><p id="c25a" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">6.部署<strong class="iy hj">is-with-analytics-deployment</strong>掌舵图</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="af14" class="ks kt hi kn b fi ku kv l kw kx">helm install --name is-with-analytics-deployment  is-with-analytics-deployment/</span></pre><p id="c675" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">检查部署是否启动并运行，</p><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="7fdb" class="ks kt hi kn b fi ku kv l kw kx">kubectl get pods -n wso2 | awk '{print $2}'</span></pre><p id="bc18" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">等待直到服务器的就绪状态从状态<code class="du kk kl km kn b">0/1</code>变为<code class="du kk kl km kn b">1/1</code></p><p id="3db5" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">7.为主机名添加<code class="du kk kl km kn b">/etc/hosts</code>条目</p><ul class=""><li id="1642" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">获取主机名和IP地址</li></ul><pre class="in io ip iq fd ko kn kp kq aw kr bi"><span id="1e36" class="ks kt hi kn b fi ku kv l kw kx">kubectl get ing -n wso2</span></pre><figure class="in io ip iq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lh"><img src="../Images/892e1d5b547332984ee45d59065d68a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XbqGBGyy_Q6ca_1B_Lhu4A.png"/></div></div></figure><ul class=""><li id="c48e" class="jv jw hi iy b iz ja jd je jh jx jl jy jp jz jt ka kb kc kd bi translated">将上述两个主机条目添加到<code class="du kk kl km kn b">/etc/hosts</code>文件中</li></ul><p id="d3c6" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">8.现在您可以在<a class="ae ju" href="https://wso2is/carbon" rel="noopener ugc nofollow" target="_blank"> https://wso2is/carbon </a>中访问WSO2 Identity server管理控制台。</p></div></div>    
</body>
</html>