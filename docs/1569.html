<html>
<head>
<title>Managing payments in your app: setting up the website — the code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在你的应用中管理支付:设置网站-代码</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/managing-payments-in-your-app-setting-up-the-website-the-code-f4640c92b1e1?source=collection_archive---------1-----------------------#2020-08-24">https://medium.com/google-cloud/managing-payments-in-your-app-setting-up-the-website-the-code-f4640c92b1e1?source=collection_archive---------1-----------------------#2020-08-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3872" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们赶快做好这个网站吧！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/3ff4255ad6305222383780ced6d7d9b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cX3gHWFiJNezX3Ti"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">如果你还在和我一起踏上编码之旅，那么我知道你对支付充满热情！ <a class="ae jv" href="https://images.unsplash.com/photo-1455849318743-b2233052fcff?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1650&amp;q=80" rel="noopener ugc nofollow" target="_blank"> <em class="ju">来源</em> </a></figcaption></figure><p id="d182" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">你是这个系列的新手吗？查看</em> <a class="ae jv" href="https://bit.ly/33qptv1" rel="noopener ugc nofollow" target="_blank"> <em class="jd">第一篇博客</em> </a> <em class="jd">的介绍和目录！</em></p><p id="d651" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我们为美国袜子市场写的代码是后端的。在本帖中，我们终于解决了前端问题！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/596beeb9bd50dc6cd47410594084e7e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UVaQnH8O0pqkgt4C"/></div></div></figure><p id="47c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的<a class="ae jv" href="https://bit.ly/2CTBYEm" rel="noopener ugc nofollow" target="_blank">上一篇博文</a>中，我描述了店面的组成部分。在这篇文章中，我将介绍这个实现。转到<code class="du jw jx jy jz b">part-3-set-up-shop-website</code>文件夹，这样我们就可以检查代码了！</p><p id="dc77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在该文件夹中，您会找到另一个文件夹和一些文件:</p><ul class=""><li id="68f0" class="ka kb hi ih b ii ij im in iq kc iu kd iy ke jc kf kg kh ki bi translated">公共/</li><li id="4db4" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">firebase.json</li><li id="f8ab" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">firestore .规则</li><li id="d591" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">package.json</li><li id="492a" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">README.md</li></ul><p id="200c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有几个你可能不熟悉的文件:<code class="du jw jx jy jz b">firebase.json</code>和<code class="du jw jx jy jz b">firestore.rules</code>。我稍后会解释这些。现在，让我们假装它们不重要，即使它们实际上非常重要。</p><p id="23b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开<code class="du jw jx jy jz b">public/</code>文件夹，我们找到了将要探索的主要代码:</p><ul class=""><li id="d23c" class="ka kb hi ih b ii ij im in iq kc iu kd iy ke jc kf kg kh ki bi translated">img/</li><li id="fc22" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">404.html</li><li id="19f2" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">canceled.html</li><li id="4422" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">completed.html</li><li id="d2b8" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">global.css</li><li id="a782" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">normalize.css</li><li id="4107" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">index.html</li><li id="8fc3" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">索引. js</li></ul><p id="e0b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我建议打开所有的文件，看一看，只是为了了解这个应用程序是如何工作的。在Chrome窗口中打开<code class="du jw jx jy jz b">index.html</code>。最后，一个真正的网站来看看！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/8941d09e9dcab7ada737c5d2240f8de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*80B4GUT_H03F2JV9"/></div></div></figure><p id="bcf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是当然，这个网站还没有建立和运行。这只是HTML。所以如果你点击下拉菜单，你只会看到这个孤独的占位符袜子。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/2589f9a7cd54e306225e3af0d84a3a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ea_49TdN3MVjPt5l"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">这只袜子一定很悲伤，因为它是孤独的。也许这就是为什么它这么蓝。</figcaption></figure><p id="ab20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查HTML也没有表现出太多的兴奋。该页面特意保持简单，以便您可以轻松了解如何定制它来满足您的需求。让我们把注意力集中在我们发现一些脚本标签的主体底部。</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="5b71" class="ks kt hi jz b fi ku kv l kw kx">&lt;script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-firestore.js"&gt;&lt;/script&gt;<br/>&lt;script src="/__/firebase/init.js"&gt;&lt;/script&gt;</span></pre><p id="78e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些脚本用于将Firestore整合到应用程序中。我在这篇博客中展示的版本号是我发表这篇文章时的最新版本，但是从那以后它们可能已经改变了。请务必查看Firestore文档以找到最新版本号。</p><p id="60be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个脚本是核心Firebase SDK。所有使用Firebase的项目都需要它。第二个脚本添加了我们将要使用的Firebase产品:Firestore。第三个初始化Firebase，供这个特定的应用程序使用。它总是跟踪任何其他与Firebase相关的脚本。</p><h1 id="d2e8" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">为什么选择Firebase？</h1><p id="b72c" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">因此，云Firestore是云产品<em class="jd">，而</em>是Firebase产品。你可以在<a class="ae jv" href="https://bit.ly/2YdrK99" rel="noopener ugc nofollow" target="_blank"> Google Cloud </a>和<a class="ae jv" href="https://bit.ly/34aA9hE" rel="noopener ugc nofollow" target="_blank"> Firebase文档</a>中找到实现步骤，这些方向是相同的。要访问Firestore客户端，您可以使用Firebase SDKs。</p><p id="35bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，该网站是托管在Firebase托管。与其他托管选项相比，这种方法的优势在于Firebase应用程序的配置是由托管环境自动提供的，这意味着您不必提供配置细节。这使得在多个Firebase项目中使用相同的web应用程序代码变得很容易。</p><p id="daeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是<code class="du jw jx jy jz b">index.html</code>中所有令人兴奋的事情。同样，你可以随意阅读它。只要记住这是有意为之的基本原则。没有框架和优化。与支付相关的代码可以在<code class="du jw jx jy jz b">index.js</code>中找到，所以让我们花点时间浏览一下。</p><h1 id="e41e" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">代码</h1><p id="d9e3" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">好吧，让我们看看<code class="du jw jx jy jz b">index.js</code>。</p><p id="5151" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，像往常一样，我们有一些初始化器。</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="cef4" class="ks kt hi jz b fi ku kv l kw kx">const stripe = Stripe('pk_test_ABCde');<br/>const db = firebase.firestore();<br/>const sockRef = db.collection('socks');<br/>let selectedProduct;<br/>let productList = '';</span></pre><p id="d055" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，您将在这里提供您的Stripe公钥。因为这个密钥是公开的(顾名思义),所以您不必担心客户端可以访问它。当您部署应用程序时，请确保包含您的公钥，您可以在<a class="ae jv" href="https://bit.ly/2Yfkbio" rel="noopener ugc nofollow" target="_blank"> Stripe仪表板</a>中找到该公钥。</p><h1 id="ec7d" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">买最新的袜子</h1><p id="b8b0" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">接下来，在我们的代码中，我们从Cloud Firestore获取袜子图案的最新信息。</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="8131" class="ks kt hi jz b fi ku kv l kw kx">sockRef.get().then(querySnapshot =&gt; {<br/>  querySnapshot.forEach(doc =&gt; {<br/>    const data = doc.data();<br/>    let name = data.name;<br/>    // capitalize first letter for display purposes<br/>    let displayName = name.charAt(0).toUpperCase() + name.slice(1);<br/>    if (!selectedProduct) {<br/>      selectedProduct = name;<br/>    }<br/>    const amount = data.price;<br/>    const image = data.images[0];<br/>    productList = productList+`&lt;option data-amount="${amount}" data-id="${name}" data-img="${image}"&gt;${displayName}&lt;/option&gt;`<br/>    });<br/>    document.getElementById('select').innerHTML = productList;<br/>  });</span></pre><p id="45e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是该代码中采取的基本步骤:</p><ul class=""><li id="24b7" class="ka kb hi ih b ii ij im in iq kc iu kd iy ke jc kf kg kh ki bi translated">获取<code class="du jw jx jy jz b">socks</code>集合中的文档</li><li id="765c" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">遍历文档</li><li id="c765" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">从每个文档中获取数据</li><li id="a797" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">用它来填充一个HTML标签</li></ul><p id="1452" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请记住，我填充HTML的方式并不理想。在您自己的应用程序中，您可能正在使用某种JavaScript框架，它会以更优雅的方式更新您的HTML。</p><h1 id="88f3" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结账时间</h1><p id="06c8" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">一旦顾客选择了商品，就该结账了。在这里，我们通过调用我们的云运行端点来启动条带检出会话。</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="efb2" class="ks kt hi jz b fi ku kv l kw kx">fetch(<br/> 'https://[your_cloud_run_url]/session?product='+selectedProduct<br/>)<br/>.then(function(response) {<br/>  return response.json();<br/>})<br/>.then(function(session) {<br/>  document.getElementById(“spinner”).classList.add(“hidden”);<br/>  document.getElementById(“label”).classList.remove(“hidden”);<br/>  stripe<br/>  .redirectToCheckout({<br/>    sessionId: session.id<br/>  })<br/>//...<br/>});</span></pre><p id="e015" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在对云运行的调用中，我们将选择的产品作为查询参数传递。响应数据包括条带检出会话ID，我们需要它来完成检出。使用Stripe client SDK，我们重定向到Stripe Checkout页面。从那里开始，支付由Stripe处理，所以你不需要额外的编码！这就是开一个简单店面的全部内容。</p><h1 id="49bf" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">很好…但是你似乎掩饰了文件夹里的一些东西</h1><p id="ed71" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">你不认为我会忘记，是吗？在部署之前，我确实想谈谈项目文件夹中的几个文件:</p><ul class=""><li id="d3f8" class="ka kb hi ih b ii ij im in iq kc iu kd iy ke jc kf kg kh ki bi translated">firebase.json</li><li id="7a78" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">firestore .规则</li></ul><p id="d2ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些小文件在我们的项目中起着重要的作用。让我们逐一检查一下。</p><h1 id="0d59" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">firebase.json</h1><p id="598f" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">打开<code class="du jw jx jy jz b">firebase.json</code>文件。在里面，您会发现以下代码:</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="0ff8" class="ks kt hi jz b fi ku kv l kw kx">{<br/>  "firestore": {<br/>    "rules": "firestore.rules"<br/>  },<br/>  "hosting": {<br/>    "public": "public",<br/>    "ignore": [<br/>      "firebase.json",<br/>      "**/.*",<br/>      "**/node_modules/**"<br/>    ]<br/>  }<br/>}</span></pre><p id="497e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该文件包含通过Firebase CLI部署Firebase项目的配置。如果我运行命令<code class="du jw jx jy jz b">firebase deploy</code>，那么默认情况下，我将在这个文件的配置大纲中部署Firestore和主机。</p><p id="167b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于托管，配置告诉Firebase哪个文件夹是公共文件夹，哪些文件和文件夹要忽略。</p><p id="cf47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于Firestore，配置告诉我哪些文件将包含在部署中。在这种情况下，我们使用CLI来配置Firestore的安全规则。这似乎是进入那个<code class="du jw jx jy jz b">firestore.rules</code>文件的一个很好的继续！</p><h1 id="2eda" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">firestore .规则</h1><p id="64c0" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">在我解释这个项目的安全规则之前，我想强调的是，安全性不是可有可无的，在设计数据库模式时应该考虑安全性。安全规则是一个内容丰富的话题，我恳求你阅读<a class="ae jv" href="https://bit.ly/3iWuMGW" rel="noopener ugc nofollow" target="_blank">文档</a>，测试示例，并确保你对Firestore安全规则的工作原理有深刻的理解。我不是想教训你，但同时，我承认我在教训你。我不在乎你是否认为我是一个唠叨的人，如果这意味着你真的会认真对待安全问题！</p><p id="49d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">唷！好了，说完了，让我们回到美国袜子市场的规则上来。我们可以检查<code class="du jw jx jy jz b">firestore.rules</code>文件中的Firestore安全规则:</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="82c7" class="ks kt hi jz b fi ku kv l kw kx">rules_version = '2';<br/>service cloud.firestore {<br/>  match /databases/{database}/documents {<br/>    match /socks/{sock=**} {<br/>      allow read: if true;<br/>    }<br/>  }<br/>}</span></pre><p id="70ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你不熟悉安全规则的格式，那么一定要花些时间阅读这些文档。这些规则允许公众访问<code class="du jw jx jy jz b">socks</code>集合及其下的所有子集合。因为默认的安全条件是false，除非另外指定，否则任何客户端都不能读取或写入数据库的任何部分。因此，客户不能写入“socks”集合，也不能读写数据库的任何其他部分。</p><p id="10de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一套非常基本的规则，绝对不推荐用于生产应用程序。即使在测试中，通过将身份验证作为与数据库的任何部分进行交互的一项要求来保证数据库的安全也是一个好主意。我将<code class="du jw jx jy jz b">socks</code>集合设置为能够被公开读取，而实际上我更喜欢至少使用匿名认证。因此，正如你可能会怀疑的那样，我们将在未来的帖子中添加身份验证！如果听起来我又开始说教了，那就这样吧。你看过<a class="ae jv" href="https://bit.ly/3iWuMGW" rel="noopener ugc nofollow" target="_blank">规则文件</a>了吗？</p><h1 id="b194" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">部署到Firebase主机</h1><p id="c840" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">这是你一直在等待的时刻:是时候让这个应用程序发挥作用了！早在<a class="ae jv" href="https://bit.ly/33qptv1" rel="noopener ugc nofollow" target="_blank">这个系列的第一篇博文</a>中，我就概述了构建这个项目的需求。其中之一就是安装Firebase CLI。如果您还没有安装它，那么您可以按照<a class="ae jv" href="https://bit.ly/3kWfiV8" rel="noopener ugc nofollow" target="_blank"> CLI参考文档</a>中的步骤安装并运行它。</p><p id="71c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将默认项目设定为您正在使用的项目。</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="b6d6" class="ks kt hi jz b fi ku kv l kw kx">firebase use PROJECT_ID</span></pre><p id="325b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们运行的任何命令都将自动使用这个项目，除非您添加一个<code class="du jw jx jy jz b">--project</code>标志并包含另一个项目。</p><p id="ffb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过运行以下命令，将网站部署到主机，将安全规则部署到Firebase:</p><pre class="jf jg jh ji fd ko jz kp kq aw kr bi"><span id="730b" class="ks kt hi jz b fi ku kv l kw kx">firebase deploy</span></pre><p id="0feb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦部署，跟随链接到你的托管网页给它一个尝试！</p><h1 id="caf2" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">它还活着！</h1><p id="18fc" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">嗯，可能我们店面与其说是<em class="jd">活</em>不如说是<em class="jd">活</em>。继续点击，感受一下这款应用。当你准备好尝试结帐功能时，你可以使用Stripe的虚拟信用卡号码4242 4242 4242 4242。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ma mb l"/></div></figure><p id="dcb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过<a class="ae jv" href="https://bit.ly/2Yfkbio" rel="noopener ugc nofollow" target="_blank">条纹仪表盘</a>验证支付是否成功。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/def749e10dd8a7581ac12c77c67d750e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S9wsOyRYa-99pSRQ"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated"><em class="ju">您可以在客户列表下看到您使用的电子邮件</em></figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/4c9f7b34b9375a8da3fa8ebdea8fe06e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ch47rMGbODG-INT4"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated"><em class="ju">点击电子邮件，您将看到该客户的付款历史记录</em></figcaption></figure><h1 id="3034" class="ky kt hi bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">差不多完成了</h1><p id="ffa6" class="pw-post-body-paragraph if ig hi ih b ii lv ik il im lw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">我们现在拥有的是一个可以进行支付的独立应用程序，所以你可以说它已经完成了。但是还有很多其他事情需要考虑，比如验证支付是否成功，创建帐户以便客户可以保存他们的购买历史，退款管理等等。你可以打赌这个系列赛还远没有结束！请继续关注我，享受支付处理的乐趣！</p><p id="d126" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同时，继续玩你的项目。可以分叉回购，进行修改。如果你认为你正在做一件好事，那就提出一个拉取请求吧！</p><p id="a13e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，请确保:</p><ul class=""><li id="8d24" class="ka kb hi ih b ii ij im in iq kc iu kd iy ke jc kf kg kh ki bi translated">学习<a class="ae jv" href="https://bit.ly/3iWuMGW" rel="noopener ugc nofollow" target="_blank">云Firestore安全规则</a>(是的，我又提起了！)</li><li id="157f" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">查看<a class="ae jv" href="https://stripe.com/docs" rel="noopener ugc nofollow" target="_blank">条带文档</a></li><li id="2fe6" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">挖到<a class="ae jv" href="https://firebase.google.com/docs/firestore" rel="noopener ugc nofollow" target="_blank">云火店</a></li></ul></div></div>    
</body>
</html>