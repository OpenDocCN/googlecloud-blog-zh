<html>
<head>
<title>Serverless Eventing: Intro To Eventing At Google — Jason (Jay) Smith</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器事件:谷歌事件介绍——杰森·史密斯</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/serverlesss-eventing-intro-to-eventing-at-google-jason-jay-smith-8cd458d0eae8?source=collection_archive---------0-----------------------#2020-12-31">https://medium.com/google-cloud/serverlesss-eventing-intro-to-eventing-at-google-jason-jay-smith-8cd458d0eae8?source=collection_archive---------0-----------------------#2020-12-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/88ba5c092d7963c54ef5458c493303df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_actrVYzl9zMEdT1"/></div></div></figure><p id="7a43" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完全托管云运行的EventArc</p><p id="db4f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于那些熟悉我们名为Cloud Run的完全托管无服务器产品的人来说，你会很高兴地知道我们推出了<a class="ae jo" href="https://cloud.google.com/blog/products/serverless/build-event-driven-applications-in-cloud-run" rel="noopener ugc nofollow" target="_blank"> Eventarc </a>。这是目前在“预览”状态，但它现在可供所有人使用。它允许你通过<a class="ae jo" href="https://cloud.google.com/logging/docs/audit" rel="noopener ugc nofollow" target="_blank">云审计日志</a>接收来自<em class="jp"> 60+谷歌云资源</em>的事件。你需要更多吗？你可以通过使用<a class="ae jo" href="https://cloud.google.com/pubsub" rel="noopener ugc nofollow" target="_blank"> Google PubSub </a>作为你的<a class="ae jo" href="https://thejaysmith.com/blogroll/on-serverless/severless-eventing/serverless-eventing-why-you-need-an-eventing-bus/" rel="noopener ugc nofollow" target="_blank">事件总线</a>来进一步定制。</p><p id="6b60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不再有YAML的城墙来连接这些事件。你自己去试试吧。你可以在<a class="ae jo" href="https://console.cloud.google.com/run" rel="noopener ugc nofollow" target="_blank">你的云账户</a>中使用我们的<a class="ae jo" href="https://github.com/meteatamel/cloudrun-tutorial/blob/master/docs/image-processing-pipeline-eventarc.md" rel="noopener ugc nofollow" target="_blank"> GitHub演示</a>，我们的<a class="ae jo" href="https://codelabs.developers.google.com/codelabs/cloud-run-events#0" rel="noopener ugc nofollow" target="_blank"> CodeLab。</a></p><p id="06a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Anthos的云运行事件</p><p id="b250" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，如果你有一个托管在GKE的Kubernetes集群会怎么样？对你来说是个好消息。我们现在有针对Anthos 的云运行的<a class="ae jo" href="https://cloud.google.com/kuberun/docs/events/anthos/quickstart" rel="noopener ugc nofollow" target="_blank">事件。您将获得与使用Eventarc相同的好处，但是是在您的GKE集群上。人们不想完全接受管理的原因有很多。有时环境太固执己见，因此限制。有时，您希望通过使用开源平台来扩展您的经验。这里没有正确或错误的答案。好的一面是，不管你的理由是什么，你都可以选择在GKE使用可控的Knative Eventing。</a></p><p id="bf78" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不再有YAML的城墙来连接这些事件。你自己去试试吧。您可以在<a class="ae jo" href="https://console.cloud.google.com/run" rel="noopener ugc nofollow" target="_blank">您的云帐户</a>快速警告中完成，您需要在您的集群中启用事件以便使用该功能。我们在<em class="jp">下<a class="ae jo" href="https://cloud.google.com/kuberun/docs/events/quickstart" rel="noopener ugc nofollow" target="_blank">解释</a>为Anthos </em>初始化云运行事件。</p><p id="8ae5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">快速设置的方法是运行以下命令:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="27ca" class="jz ka hi jv b fi kb kc l kd ke">gcloud beta events init --platform gke</span></pre><p id="924c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后出现提示时，选择您的GKE集群。您还需要回答所有提示的<code class="du kf kg kh jv b">Y</code>,以创建和投标合适的服务帐户。要验证这是否有效，只需运行以下代码行:</p><pre class="jq jr js jt fd ju jv jw jx aw jy bi"><span id="6701" class="jz ka hi jv b fi kb kc l kd ke">kubectl get pods -n cloud-run-events kubectl get pods -n knative-eventing</span></pre><p id="863f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完成此操作后，您将需要创建一个事件代理。首先，创建一个<code class="du kf kg kh jv b">events</code>名称空间(确保您已经对您的集群进行了身份验证):nn<code class="du kf kg kh jv b">bashnkubectl create namespace eventsn</code>nn然后用默认密码对其进行初始化:n<code class="du kf kg kh jv b">bashngcloud beta events namespaces init events u002du002dcopy-default-secret u002du002dplatform gken</code>nn最后，创建事件代理:n<code class="du kf kg kh jv b">bashngcloud beta events brokers create default u002du002dnamespace events u002du002dplatform gken</code>nn您可以通过运行以下命令来检查您的工作:n<code class="du kf kg kh jv b">bashnkubectl get brokers -n eventsn</code>nn您还可以使用BigQuery来使用这个<a class="ae jo" href="https://github.com/meteatamel/cloudrun-tutorial/blob/master/docs/bigquery-processing-pipeline-gke.md" rel="noopener ugc nofollow" target="_blank"> GitHub演示</a>。如果你不想使用你的我们的项目，你可以使用<a class="ae jo" href="https://codelabs.developers.google.com/codelabs/cloud-run-events-anthos#0" rel="noopener ugc nofollow" target="_blank"> CodeLabs </a>。n</p><p id="d38f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">给你两个选择</p><p id="a3e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这两个选项都是在应用程序中实现无服务器事件的好方法。两者都利用了<a class="ae jo" href="https://cloudevents.io" rel="noopener ugc nofollow" target="_blank"> CloudEvents </a>规范，并且都与Google云服务无缝集成。</p><p id="6b76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，最终的好处是，它简化了用简单的事件触发器将服务绑定到事件的过程。要了解更多信息，我建议查看来自Google Cloud Next 2020的<a class="ae jo" href="https://www.youtube.com/watch?v=0N82S5fXpQEu0026feature=emb_logo" rel="noopener ugc nofollow" target="_blank">视频</a></p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="bf4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jp">原载于2020年12月31日https://thejaysmith.com</em><em class="jp">的</em> <a class="ae jo" href="https://thejaysmith.com/on-serverless/severless-eventing/serverlesss-eventing-intro-to-eventing-at-google/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">。</em></a></p></div></div>    
</body>
</html>