<html>
<head>
<title>Day #15 with Cloud Workflows: built-in cloud logging function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用云工作流的第15天:内置云日志记录功能</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/day-15-with-cloud-workflows-built-in-cloud-logging-function-823f5f77d5d6?source=collection_archive---------0-----------------------#2021-02-10">https://medium.com/google-cloud/day-15-with-cloud-workflows-built-in-cloud-logging-function-823f5f77d5d6?source=collection_archive---------0-----------------------#2021-02-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="39aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在前两集里，我们看到了如何<a class="ae jd" href="http://glaforge.appspot.com/article/day-14-with-cloud-workflows-subworkflows" rel="noopener ugc nofollow" target="_blank">创建和调用子工作流</a>，我们将这一技术应用于创建一个可重用的云日志记录例程。然而，已经有一个内置函数可以实现这个目的！所以让我们来看看这个整合。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><p id="7363" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要调用内置日志记录函数，只需创建一个新步骤，并调用sys.log函数:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="c3c5" class="jq jr hi jm b fi js jt l ju jv">- logString:<br/>    call: sys.log<br/>    args:<br/>        text: Hello Cloud Logging!<br/>        severity: INFO</span></pre><p id="4269" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个函数有一个强制参数:text。还有一个可选的:严重性。</p><p id="ae62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">text参数接受所有类型的受支持值，因此它不仅是字符串，还包括所有类型的数字，以及数组和字典。它们的字符串表示将被用作文本。</p><p id="3126" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可选的severity参数是一个枚举，它可以接受以下值:DEFAULT、DEBUG、INFO、NOTICE、WARNING、ERROR、CRITICAL、ALERT、EMERGENCY，如果没有指定severity，则默认值为！</p><p id="28fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是另一个例子，使用一个字典作为参数，它将以文本形式输出到日志中，并带有警告的严重性:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="148e" class="jq jr hi jm b fi js jt l ju jv">- createDict:<br/>    assign:<br/>        - person:<br/>            name: Guillaume<br/>            kids: 2<br/>- logDict:<br/>    call: sys.log<br/>    args:<br/>        text: ${person}<br/>        severity: WARNING</span></pre><p id="6d4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在云日志控制台中查看结果，您会看到两条消息:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/859850c86c5b2900e7e1bd1902ee24cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/0*vDgriebQUketYV1J.png"/></div></figure><p id="e454" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不要犹豫，看看<a class="ae jd" href="https://cloud.google.com/workflows/docs/reference/stdlib/sys/log" rel="noopener ugc nofollow" target="_blank">参考文档</a>，找到更多关于可用内置函数的信息。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="7c2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">【http://glaforge.appspot.com】最初发表于<a class="ae jd" href="http://glaforge.appspot.com/article/day-15-with-cloud-workflows-built-in-cloud-logging-function" rel="noopener ugc nofollow" target="_blank"><em class="kg"/></a><em class="kg">。</em></p></div></div>    
</body>
</html>