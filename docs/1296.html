<html>
<head>
<title>New GCP Essentials video “GCP vs. Firebase — Part 2”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新GCP精华视频“GCP vs. Firebase —第2部分”</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/new-gcp-essentials-video-gcp-vs-firebase-part-2-44bb09a20ff3?source=collection_archive---------2-----------------------#2020-02-20">https://medium.com/google-cloud/new-gcp-essentials-video-gcp-vs-firebase-part-2-44bb09a20ff3?source=collection_archive---------2-----------------------#2020-02-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d324" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae jd" rel="noopener" href="/google-cloud/new-gcp-essentials-video-gcp-vs-firebase-part-1-f6a0c73f680a">之前的帖子</a>中，我们讨论了Firebase项目实际上是一个GCP项目，存储在云存储中的数据可以通过Firebase支持的移动和网络客户端以及GCP托管的应用程序进行访问。</p><p id="9ee1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本帖中，我们将探索另外两个产品:云功能和云Firestore:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><p id="2b7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">云功能</strong></p><p id="662e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="http://cloud.google.com/functions" rel="noopener ugc nofollow" target="_blank">云功能</a>实际上是谷歌云产品，这也恰好可以从Firebase上看到。</p><p id="3c1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云功能是功能即服务范式的一种流行实现，其中系统中的一个事件(比如一个HTTP调用或一个上传到bucket的文件)触发一小部分代码(一个功能)的执行。查看“<a class="ae jd" rel="noopener" href="/google-cloud/gcp-essentials-serverless-overview-4b5c14ec49c1">无服务器概述</a>”一节，了解更多关于云功能的详细信息。</p><p id="5c6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Firebase和GCP云函数方法之间的一个重要架构差异是，Firebase将把您的函数包装成可调用的函数。可以通过Firebase SDK调用这些函数，并将用户令牌和设备实例id直接传播给该函数。</p><p id="9cf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个重要区别是支持的语言:</p><p id="5de0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Firestore时，节点。当直接使用GCP时，支持JS和TypeScript，而Go、Python和Java也是可用的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/eb852cfb0a38da7903ad173880b60372.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*I6jx2p-iVma9BHlG8gk8nw.png"/></div></figure><p id="0c0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们比较web控制台之前，您还可以使用命令行界面:<strong class="ih hj"> gcloud </strong>或<strong class="ih hj">Firebase CLI</strong>。两者都有自己的一套功能，我们建议你决定哪一个最适合你，并坚持下去。</p><p id="c9dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用Firebase部署功能，您需要使用npm安装Firebase命令行工具，因为从Firebase控制台部署是不可能的。但是，您可以使用API进行事件的强类型处理，并且能够一次部署多个功能。</p><p id="bbb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在GCP，您可以直接从控制台部署功能，与源代码库集成，甚至可以内联输入功能源代码。</p><p id="e484" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Firebase项目中创建的功能也可以使用云控制台进行管理。Firebase中的“详细使用统计”将带您到相同的功能，只是在云控制台中，您将获得额外的功能，如监控图形、测试功能的选项卡，以及设置功能的能力，如失败时重试、内存分配或超时。</p><p id="4baf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">云火店</strong></p><p id="174e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cloud Firestore是谷歌最先进的NoSQL文档数据库。它是无模式的，可以在集合的层次结构中存储包含属性的文档。它速度快、支持事务、高度可用、高度一致，并且不需要管理任何类型的基础架构。</p><p id="8a7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云Firestore的原生模式可以自动扩展到数百万个并发客户端，但更特别的是，它提供了近实时通知<strong class="ih hj"><em class="jo"/></strong>。这就是支持跨设备同步数据的原因。借助内置的<strong class="ih hj"> <em class="jo">离线支持</em> </strong>，您可以访问并更改您的数据，当客户端恢复在线时，这些更改将被同步到云端。</p><p id="762c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">存储在云Firestore中的数据可以使用Firebase SDKs来访问，当然，您可以使用任何一个控制台来查看和编辑数据和索引，并监控数据库访问使用情况。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="ab fe cl jp"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="ab fe cl jp"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><p id="8ec0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了Cloud Firestore，您可以直接从移动或web客户端查询数据库，而无需设置中间服务器来管理对数据的访问。这就是Firebase控制台有一个额外的安全访问规则选项卡的原因。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="ab fe cl jp"><img src="../Images/1c7fadd15410cab6201509a781e61219.png" data-original-src="https://miro.medium.com/v2/0*NNPm5fjZggeld6f_"/></div></figure><p id="79d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些规则从非常简单到非常复杂，通常结合使用用户身份、新文档内容(发送的数据)和Firestore中存储的现有数据。如果你是一个Firebase用户，发布了一个访问Firestore的应用程序，那么你真的应该使用Firebase身份验证，并仔细考虑你的安全访问规则。</p><p id="05da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在GCP方面，没有等效的安全规则，因为您通常使用服务帐户访问Firestore。一般来说，服务器端代码被认为是可信的，而不是来自移动应用程序的客户端代码。</p><p id="d47a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，支持的Firestore SDK语言包括Python、Node.js、Java、C#(。NET)、Go、PHP和Ruby，并添加了对Web、Android和iOS的支持。这些mobile Firebase SDKs包括本地缓存，这是一个独特的特性，有助于实现前面提到的离线功能。</p><p id="88b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，无论你是一个对用Firebase开发移动和网络应用感兴趣的GCP开发者，还是一个试图增加你对GCP服务使用的Firebase用户，你现在应该对什么是可能的有一个很好的感觉。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/ad4a43026fd12e09b16b92deaf0a4dbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*8P3l2IU6m9I1CQYy.png"/></div></div></figure><p id="e935" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也可以看看Doug关于这些主题的帖子:</p><ul class=""><li id="76fa" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated"><a class="ae jd" rel="noopener" href="/google-developers/whats-the-relationship-between-firebase-and-google-cloud-57e268a7ff6f">Firebase和Google Cloud是什么关系？</a></li><li id="a9c1" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><a class="ae jd" rel="noopener" href="/google-developers/firebase-google-cloud-whats-different-with-cloud-functions-612d9e1e89cb"> Firebase &amp;谷歌云:云功能有什么不同？</a></li><li id="bc79" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><a class="ae jd" rel="noopener" href="/google-developers/firebase-google-cloud-whats-different-with-cloud-firestore-40f1fc3e6d1e"> Firebase &amp;谷歌云:云Firestore有什么不同？</a></li></ul></div></div>    
</body>
</html>