# 让我为云开发运维工程师考试做好准备的经历

> 原文：<https://medium.com/google-cloud/experiences-that-prepared-me-for-the-cloud-devops-engineer-exam-bd7edee4ccaa?source=collection_archive---------9----------------------->

[![](img/e6e333204cc8dcb278e25337e1fb09bf.png)](https://www.credential.net/0dcec0e8-4eaf-466f-88ea-9966aa51b7cf#gs.iruubg)

*披露:我是谷歌的员工。这篇文章反映的观点是个人的，并不代表我的雇主的观点。*

几个月前，我作为云运营倡导者加入了谷歌。作为准备时间的一部分，我准备参加云开发运维工程师认证，因为它与我工作中关注的用例重叠最多。在不对职位或具体产品做任何假设的情况下，我想关注一下其他工程师在谷歌云上的*体验*。我看到自己的一些经历反映在考试内容中，这支持了任何技术认证的有效性。

谷歌的 [SRE 手册](https://sre.google/sre-book/table-of-contents/)与考试内容有很大关系，这让我很惊讶。我最想避免的是两个小时的“特性和配置琐事”，也就是众所周知的“参考文档中的多项选择”这不是这样的考试。知道一般的配置模式是很好的，但是基于经验的知识的最好标志是对事情如何出错有深刻的直觉。我喜欢考试问这方面的问题，我可以用我的经验来推理各种可能性。

> “请注意，成为专家不仅仅是理解一个系统应该如何工作。专业知识是通过调查系统不工作的原因获得的。”——[布莱恩·莱德曼](https://sre.google/sre-book/effective-troubleshooting/)

在这篇文章中，我将在未来几周内补充，我想分享加入谷歌之前的几个挑战性的经历，这些经历让我更深刻地理解了*为什么*以某种方式做事是有意义的。(对于那些来寻求一般学习技巧的人，我在最后一节增加了一些。)

我在为考试学习新材料时利用了这些经验，心想，“如果我过去做了 X 或者用了 Y，我会有更好的结果吗？”我发现这种方法帮助我整合新信息。这也有助于从其他人的经验中学习，我从阅读 SRE 手册中受益匪浅，我希望有些人也能从这里的阅读中受益。

## 隐藏的权衡

几年前，我与一位客户合作，集成了一个解决方案来防止用户帐户被接管。这些问题包括从机器人列举凭据到犯罪分子实施账户欺诈。由于活动发生在*应用程序中，因此有必要观察帐户级别的特定操作。*

开发人员通常需要将解决方案的 SDK 添加到他们的登录流程中，以便它可以记录常规尝试并拦截恶意尝试。开发人员不喜欢围绕 SDK 编写和维护额外的代码，因此解决方案提供商提出了一种“无代码”的变体:客户可以向他们最喜欢的 CDN 添加一个边缘功能，然后嘣，它就会*神奇地*关注相关请求。

实际上，仍然需要一些配置。只是应用程序开发人员不需要这么做。edge 函数依靠响应状态代码、自定义标头或响应正文中的内容来了解登录尝试是成功还是失败。由于应用程序之间的差异可能会很大，解决方案提供商的*人员*需要像普通用户一样手动浏览客户的应用程序，并测试各种请求和响应。他们只知道特定的应用程序如何表示成功和失败的登录，并拥有编写配置所需的信息。

为了理解这有多“定制”，请记住并不是每个开发团队都使用 [RFC 作为 HTTP 状态代码](https://datatracker.ietf.org/doc/html/rfc9110)。有时，*每个*登录尝试都会收到一个 200 响应。由此看来，反应的差异可能非常微妙。这种配置有时依赖于响应正文中包含的字符串“error”或“denied ”,或者不透明的头，因为失败的登录根本不存在。

那么，如果 *post* -configuration，应用程序开发人员决定更改失败登录尝试的响应，会发生什么呢？

如果他们无意中移除了配置工作所必需的指示器，该怎么办？

在这种情况下，解决方案检测和阻止恶意流量的能力可能会受到威胁。因为当没有不好的事情发生时，安全是成功的，所以事情可能看起来仍然在工作。

因此，开发人员最好至少编写一些测试来保留这些指标，这样他们就可以知道他们是否因为做了更改而潜在地破坏了解决方案。

但这需要编写代码，甚至可能不仅仅是实现 SDK。

另一个问题是，大多数客户只在*生产*环境中使用带有 edge 功能的 CDN。

他们没有办法证明 CDN 的可行性。因此，在生产之前，无法查看边缘功能是否正常工作，甚至无法手动查看*和*。

假设他们咬紧牙关，绝望地在代码中添加了一个注释，“在更改这个响应之前，请确保要求解决方案提供商更新 edge 功能的配置。”哎呀，我知道，但是，那个有用吗？

当公司部署最新版本的应用程序时，他们如何确保第三方解决方案提供商同时发布新的 edge 功能配置？如果公司需要回滚到最近的版本，该怎么办？因为没有更新配置的自动化，甚至配置文件的提交也完全是手工的，这将*永久地*对任何涉及登录响应的发布造成瓶颈。

这种操作上的差距可能会从测试或部署的裂缝中溜走，或者仅仅改变团队中的人员可能会导致这种配置被完全遗忘，这种可能性似乎与“无代码”方法的价值相违背。

它从开发中带走了一些初始编码，增加了手工工作和对发布过程缺乏信心。

结果，现实是“无代码”的方法*可能*对一些简单的场景和概念证明来说是不错的，但是大多数客户使用 SDK 会更好。

这是一个有助于考试的场景，因为它强化了以下几点:

*   如果开发人员无法测试某个特性，或者团队无法自动化应用程序部署的一部分，那么就要考虑由此产生的问题会如何影响生产。它们会如何影响用户？(1)意识到一个问题，然后(2)解决它需要多长时间？一些关键领域，如安全性和可用性，可能太敏感，不能冒险，即使你不能 100%保证它们。
*   总是从*权衡*的角度思考，而不是纯粹的改进。如果某样东西看起来很好(例如，“无代码”的附加产品)，问问你在讨价还价什么，以及你是否有能力这样做。你也许可以，但是如果你已经提交了，然后意识到它需要手工操作，更高的风险，和更低的发布速度，你不想感到惊讶。

## 现实 SLA

[现在就出！](/@aron_60636/realistic-slas-73685b96f8d0)

## 学习资源

我的同事 [Ammett](/@ammettw) 整理了一篇[关于云计算 DevOps 考试](/google-cloud/preparing-for-the-google-cloud-professional-cloud-devops-engineer-exam-30e9d5fe07e4)的精彩文章。特别是，我使用他创建的[准备表](https://drive.google.com/file/d/1cCCTwulZuSBa4XmEh9bGzEwotaaOz9Wt/view)来再次检查我是否覆盖了所有必要的部分。

另一位同事[卢克](/@lukeschlangen)建议仔细阅读 [SRE 手册](https://sre.google/sre-book/table-of-contents/)。就在考试前，他让我放心，即使中途感觉太难，也不要失去希望。

虽然我没有加入学习小组，也没有和任何准备考试的人一起工作，但和在相关领域有直接经验的人讨论考试主题确实有所帮助。

你可以加入的一个讨论组，[可靠性工程](https://sites.google.com/view/reliability-discuss/)，有一个精益咖啡的形式，你可以提出讨论的话题，人们可以投票选出他们最喜欢的。那个小组中关于 SLO 的讨论给了我一个很好的心理模型，在考试中帮助了我，并帮助我写了关于[为什么要优先考虑症状而不是原因](https://bootcamp.uxdesign.cc/operational-focus-why-symptoms-not-causes-e4af0e115e14)的帖子。

[![](img/cb2ba37628dbf4bdb5ecc3320cc38d47.png)](https://www.credential.net/0dcec0e8-4eaf-466f-88ea-9966aa51b7cf#gs.irxraz)