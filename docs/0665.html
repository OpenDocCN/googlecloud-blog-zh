<html>
<head>
<title>Building a Personal Genome Data Warehouse with Google Cloud, 23andMe and Family Tree DNA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用谷歌云、23andMe和家谱DNA构建个人基因组数据仓库</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/building-a-personal-genome-data-warehouse-with-google-cloud-23andme-and-family-tree-dna-e9869d8dc7a0?source=collection_archive---------1-----------------------#2018-06-26">https://medium.com/google-cloud/building-a-personal-genome-data-warehouse-with-google-cloud-23andme-and-family-tree-dna-e9869d8dc7a0?source=collection_archive---------1-----------------------#2018-06-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="28a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">这是我2017年5月的帖子的后续我</em> <a class="ae je" rel="noopener" href="/google-cloud/interpreting-23andme-raw-genome-data-with-google-genomics-bigquery-and-cloud-datalab-f8540b6b7ef9"> <em class="jd">用Google Genomics和BigQuery </em> </a> <em class="jd">解读23andMe原始基因组数据。</em></p><p id="c74f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> TLDR </strong>:在这篇文章中，我将使用Cloud Dataprep清理我的家谱DNA和23andMe原始数据，将这些原始数据导入BigQuery进行扩展基因组SNP识别，并导入Cloud Datalab处理我的基因组数据。理想情况下，我将更好地了解我的基因分型原始数据，并且我将有一个更强大的数据集，以便在未来了解更多关于我的DNA的信息。</p><h1 id="21a6" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">概述/我这样做的原因</h1><p id="2151" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">我们的基因组数据可以用来预测疾病风险、药物的副作用，并告诉我们更多关于我们是谁以及我们的未来可能会如何。在去年使用23andMe和Google BigQuery探索我的原始数据后，我想要更多的数据，并且能够用它做更多的事情。我想象了一个我的DNA的数据仓库，有多个原始数据源。通过这种方式，未来当我们对DNA标记(SNPs)了解更多时，我可以轻松地检查从多个服务机构获得的遗传数据，以验证我对自己健康的任何怀疑、风险或担忧。</p><p id="cbf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我之前的文章<a class="ae je" rel="noopener" href="/google-cloud/interpreting-23andme-raw-genome-data-with-google-genomics-bigquery-and-cloud-datalab-f8540b6b7ef9"> <em class="jd">用Google Genomics和BigQuery解读23andMe原始基因组数据</em> </a>中，我将23andMe原始数据txt文件转换为vcf，并使用Google Genomics load variants管道加载到BigQuery进行分析。在这篇文章中，我将准备2个不同的原始数据基因组(23andMe和FTDNA ),并直接复制到BigQuery进行分析。</p><p id="02db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一项名为<a class="ae je" href="https://promethease.com/" rel="noopener ugc nofollow" target="_blank"> Promethease </a>的服务可以获取你的原始基因组数据，并将其与在<a class="ae je" href="https://www.snpedia.com/" rel="noopener ugc nofollow" target="_blank">SNP media</a>上找到的SNP进行匹配，费用为12美元。如果你不想支付12美元，并且拥有一个你的基因组数据的个人数据仓库的想法很吸引你，你可以很容易地用谷歌云建立一个。</p><p id="eddd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果要建立一个个人基因组数据仓库，我需要更多关于我的DNA的数据。这次我尝试了家谱DNA的寻亲服务。有了第二组原始数据后，我就可以将我在23andMe原始数据中找到的任何数据与另一个数据源进行交叉引用，希望这能给我找到的任何数据增加信心。在未来，我会添加祖先原始数据，涵盖所有3个消费者定价的基因检测服务。理想情况下，这些数据可以让我更好地预测或计划未来可能发生的任何健康问题。这第二个来源会给我一个更准确的数据集吗？我也这么认为两种来源使用不同的排序:</p><p id="05b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://www.snpedia.com/index.php/23andMe" rel="noopener ugc nofollow" target="_blank"> 23andMe </a> —使用定制的Illumina Omniexpress+阵列，包括约600，000个SNP。</p><p id="eb93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://www.snpedia.com/index.php/FamilyTreeDNA" rel="noopener ugc nofollow" target="_blank">家谱DNA</a>Family finder——使用Illumina OmniExpress微阵列芯片。它包括总共711，424个SNP。<a class="ae je" href="https://www.snpedia.com/index.php/FamilyTreeDNA" rel="noopener ugc nofollow" target="_blank">其中只有大约13，913个在SNPedia中有注释。</a></p><p id="43c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于/r/23和me的SNP覆盖率分析/比较的更多信息<a class="ae je" href="https://www.reddit.com/r/23andme/comments/3dd3lp/snp_coverage_analysiscomparisons_23andme_v3v4/?st=jiuhq9iy&amp;sh=f2b65a3e" rel="noopener ugc nofollow" target="_blank"/></p><p id="37a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一篇很好的文章，介绍了DNA分析的许多选项<a class="ae je" rel="noopener" href="/neodotlife/dna-analysis-and-sequencing-from-23andme-veritas-ancestry-human-longevity-arivale-family-tree-and-others-20f5ce7a0786"> Neo.life你的测序指南</a></p><h1 id="7910" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">家谱DNA原始数据下载</h1><p id="8e77" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated"><a class="ae je" href="https://www.familytreedna.com/my/family-finder/downloads" rel="noopener ugc nofollow" target="_blank"> FamilyTreeDNa家庭探测器原始数据下载</a></p><p id="1faf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">家谱DNA以几种形式给你原始数据。可能会有点混乱。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ki"><img src="../Images/ff50d326617b1bf05e3bc48f134784d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4Sk6AND0WSRXwPd1"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">但是哪一个最好呢？</figcaption></figure><h1 id="d286" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">FTDNA 3种原始数据类型</h1><ul class=""><li id="51fe" class="ky kz hi ih b ii kd im ke iq la iu lb iy lc jc ld le lf lg bi translated">常染色体原始数据</li><li id="39e1" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">x染色体原始数据</li><li id="9970" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">原始数据串联</li></ul><p id="04a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人体内的每一个细胞都有DNA，它们被紧密地包装在称为染色体的结构中。有23对染色体，其中22对被称为常染色体，第23对被称为异体或性染色体。X染色体跨越大约1.55亿个DNA碱基对，代表细胞中大约5%的总DNA(<a class="ae je" href="https://ghr.nlm.nih.gov/chromosome/X" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p><p id="ddb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">FamilyTree DNA的串联文件结合了常染色体和X原始数据文件，因此如果您希望深入了解原始数据，您将需要使用串联文件。</p><h1 id="318c" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">FTDNA中的两个不同版本(版本36和版本37)</h1><p id="e85c" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">build是一个参考系统，用于描述一种典型的全序列人类基因组。构建37应该比构建36更准确地确定SNP的实际位置(<a class="ae je" href="http://forums.familytreedna.com/showthread.php?t=33862" rel="noopener ugc nofollow" target="_blank">来源</a>)。构建是一个基因组组装，随着对人类基因组了解的加深，新的基因组组装被释放出来。</p><ul class=""><li id="2710" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc ld le lf lg bi translated">每个构建都是人类基因组参考的一个版本</li><li id="83b8" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">更新构建微调SNP位置</li><li id="ac9e" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">如果手动比较两个原始数据文件，您需要确保它们使用相同的内部版本号</li><li id="2af5" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">23andMe原始数据是build 37，因此要手动比较您的FTDNA原始数据文件，您应该使用您的Build 37原始数据</li></ul><p id="ec61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要将FTDNA与另一个原始数据源(如23andMe)进行比较，您需要使用Build 37原始数据串联。</p><p id="24d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多关于参考基因组和建立37 <a class="ae je" href="https://en.wikipedia.org/wiki/Reference_genome" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h1 id="5bf2" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">原始数据格式和大小</h1><p id="1b94" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">家谱DNA为您提供了一个带有CSV的gzip，因此很容易加载到BigQuery中进行分析。我的家谱DNA原始数据是大约6.5MB压缩和大约22MB未压缩(CSV)。我的23andMe原始数据是5MB压缩的，大约15MB未压缩的(txt)。</p><p id="8458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从23andMe和家谱DNA下载您的原始数据，请点击此处:</p><ul class=""><li id="88cf" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc ld le lf lg bi translated"><a class="ae je" href="https://you.23andme.com/tools/data/download/" rel="noopener ugc nofollow" target="_blank"> 23andMe原始数据下载</a></li><li id="6ab6" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated"><a class="ae je" href="https://www.familytreedna.com/my/family-finder/downloads" rel="noopener ugc nofollow" target="_blank">家谱DNA家族探索者原始数据下载</a></li></ul><h1 id="5587" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">在Google Cloud BigQuery中使用这些数据</h1><p id="4f74" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">一旦有了原始数据的CSV文件，就可以直接导入BigQuery。我将从导入家谱DNA原始数据开始。</p><p id="73b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过BQ UI或bq CLI工具来完成此操作</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="f784" class="lu jg hi lq b fi lv lw l lx ly">mikekahn@cloudshell:<strong class="lq hj">~ </strong>(mikekahn-sandbox)$ bq --location=US load --source_format=CSV personalgenome.ftdna gs://pers-pixelbook/genome-ftdna.csv RSID:string,CHROMOSOME:string,POSITION:integer,RESULT:string<br/>Waiting on bqjob_r53ef916ab2e7d062_000001642f40dac6_1 … (0s) Current status: DONE<br/>BigQuery error in load operation: Error processing job ‘mikekahn-sandbox:bqjob_r53ef916ab2e7d062_000001642f40dac6_1’: Error while reading data, error message: CSV table encountered too many errors, giving up. Rows: 1;errors: 1. <br/>Please look into the error stream for more details.Failure details:- gs://pers-pixelbook/genome-ftdna.csv: Error while reading data,error message: Could not parse ‘POSITION’ as int for field POSITION(position 2) starting at location 0</span></pre><p id="8cb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果:无法导入位置字段为整数的FTDNA CSV数据集。这让我开始想我的数据有问题，位置行应该都是数字。</p><p id="1268" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我继续将所有字段作为字符串数据类型导入，继续前进，看看这里发生了什么。</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="6960" class="lu jg hi lq b fi lv lw l lx ly">mikekahn@cloudshell:<strong class="lq hj">~ </strong>(mikekahn-sandbox)$ bq --location=US load --source_format=CSV personalgenome.ftdna gs://pers-pixelbook/genome-ftdna.csv RSID:string,CHROMOSOME:string,POSITION:string,RESULT:string<br/>Waiting on bqjob_r7ffb8f22a9f140ad_000001642f461ba5_1 … (6s) Current status: DONE</span></pre><p id="310c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功，但最终我不希望所有列都是字符串数据类型。所以让我们在BigQuery中探索一下数据。</p><p id="e238" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发现从家谱DNA提供的CSV有些问题，使它没有完全净化，需要一些改变。</p><ol class=""><li id="018f" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc lz le lf lg bi translated">对于没有值的行，结果列有“—”</li></ol><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ma"><img src="../Images/0afcce6acb0278c823281122b306f083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PxAxuga9n_-xxREH"/></div></div></figure><p id="01c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.数据集中的最后2行有列名</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mb"><img src="../Images/d7c0cf7c24947560dd334c39d9cc17e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G8try3r0f-NcIKd_"/></div></div></figure><p id="799e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了清理这个数据集，并在我的2个不同的基因组数据集中标准化字段和列，我将使用Cloud Dataprep。</p><h1 id="2ebf" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">通过TRIFACTA输入Google Cloud Dataprep</h1><p id="5272" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">由于需要删除一些重复的行以及这个数据集中的一些其他变化，我认为这将是使用Google Cloud Dataprep的好时机。因为我使用了两个不同的原始数据源，所以我应该确保它们具有相同的列、列类型和格式，这样查询两个数据源就更容易了。我可以在Dataprep中轻松处理这项工作。</p><h1 id="b6f5" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">创建流并添加数据集</h1><p id="fe63" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">Dataprep中的第一步是创建一个流并添加一个数据集。这非常简单，给它一个名称，然后上传一个数据集，或者在GCS中导入一个数据集，或者在BigQuery中导入一个现有的表。我将在同一个流程中为我的FTDNA和23andMe原始数据添加数据集。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mc"><img src="../Images/94a14ea3068b6780509ae6564400db57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kUTo7lnhbzna0rMT"/></div></div></figure><p id="6b21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是我的第二个数据集(23andMe)</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/68e86d3b8b78c2f9bd6dec0b8bb67111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UNYesv3hksndx0Fk"/></div></div></figure><h1 id="45ab" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">创建一个食谱</h1><p id="8dbd" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">创建流程并导入数据集后，向其中一个数据集添加新配方。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/267735cf1c6a780c274c77d297af387a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1l6C3_NwCqECLCxE"/></div></div></figure><p id="1b5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你可以编辑你的食谱了</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/a6b0d3b574e284061d5fbd080a41896e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qhVPjhFJFhVD6UyP"/></div></div></figure><p id="8fba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太好了。加载数据集需要一些时间。既然您的数据集已经导入，您的配方也已经启动，那么您可以稍微研究一下您的数据集，并向配方添加步骤或转换。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/d65668ba5ef3415a3519c54fcbf771ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eXmERGl0q6t_Z6iP"/></div></div></figure><p id="4a49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于第一个数据集，我需要确保位置列是INT数据类型。我还可以通过将鼠标悬停在Dataprep中显示的类别上来浏览我的数据集。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es me"><img src="../Images/0496bac0f730122824e013651ed86b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/0*TPLaUaF6YAAKyOiM"/></div></figure><p id="2c5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我将在第一个FTDNA数据集上做的工作。</p><ol class=""><li id="f4c3" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc lz le lf lg bi translated">删除所有列中的符号</li><li id="17b6" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lz le lf lg bi translated">重命名列</li><li id="a7dd" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lz le lf lg bi translated">删除数据集顶部和底部的列名行</li><li id="0145" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lz le lf lg bi translated">对于结果中的空值，请更改为“不适用”</li></ol><p id="f362" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是食谱的样子:</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mf"><img src="../Images/467330cd663804a0d80e3a918908b97e.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/0*fTgaOTNSw-6g-QfS"/></div></figure><p id="7037" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">浏览包含配方的数据集，它看起来很干净:</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mg"><img src="../Images/4dd98042e1db81053e7ca6c32dbf78ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ge9Fw2hTO_eFarx8"/></div></div></figure><p id="7319" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击下载FTDNA wrangle文件<a class="ae je" href="https://storage.googleapis.com/pers-pixelbook/genome-ftdna.wrangle" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="86fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是运行作业并应用这些转换的时候了。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mh"><img src="../Images/2a412ba6d6d2332f6379aee3fc40d507.png" data-original-src="https://miro.medium.com/v2/resize:fit:308/0*VT-kJ9n13cd3Ng-M"/></div></figure><h1 id="a8fb" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">运行作业</h1><p id="56bd" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">如果您打算将这个清理后的数据集直接用于BigQuery，那么您需要在这里修改一些默认配置。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/78cceb2b36c3459a2dfe235a4f5043fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*57ZiSFnoibAPreGu"/></div></div></figure><p id="a387" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看需要改变什么。单击铅笔，让我们编辑此作业。让我们更改以下内容:</p><ol class=""><li id="0d57" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc lz le lf lg bi translated">文件名</li><li id="a502" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lz le lf lg bi translated">每次运行时替换文件</li></ol><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mg"><img src="../Images/48d966204609a266c30453955202eaac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E5c9sGpPHu8Rk-4P"/></div></div></figure><p id="1dd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在“更多选项”下的“每次运行时替换文件”</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mi"><img src="../Images/9f78dd184762de8dbdc12cba9450af46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/0*mq4_sUn0KeJScD3-"/></div></figure><p id="3b81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单个文件，以便我们可以轻松地导入新的。csv转换成BQ。</p><p id="5d0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">保存设置，然后返回到运行作业对话框。让我们运行作业。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mg"><img src="../Images/e662959deafe2490f47b87c1fcfd8257.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PsipkzOT-BSCUE3l"/></div></div></figure><p id="729d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个转换应该需要几分钟来启动数据流作业并输出我们的新CSV。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/bbf1df0189cf7b8017f7b7dc8e4bf7c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4eT4vYqUlf1QpnuA"/></div></div></figure><p id="9e7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的好处是，我们根本不需要编写任何apache beam代码来清理这个数据集。Dataprep基本上是云数据流之上的一层。当作业运行时，如果您愿意，您可以在数据流中查看它。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/a195a14ff8d48ac36479c1a838d20205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AC787a7DVtk6Ugx7"/></div></div></figure><p id="23e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行作业几分钟后(对于这个作业，大约7分钟)，转换应该完成。查看结果以确保您的数据是干净的。</p><h1 id="44bf" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">查看结果</h1><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mj"><img src="../Images/07562fb912b35de6549805bf7ebd4a9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/0*kiMKtQWtMhuydZW4"/></div></figure><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es md"><img src="../Images/4bb936ff30b9f3ac862f6ec2e1530029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VxmavBq_nb-tkec0"/></div></div></figure><p id="c304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们在此使用的原始数据具有我们的X染色体(X)和常染色体值(1–22 ),所以在此表中的染色体字段上有1%的不匹配是可以的。</p><p id="0696" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我觉得不错。</p><p id="81c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在导出您的结果。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mk"><img src="../Images/4b60c08429b48d9ed51c97b4e379a8a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/0*wiqejjZ6AEedccsT"/></div></figure><h1 id="ca38" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">导出结果</h1><p id="c19b" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">验证您之前设置的位置，然后单击“创建”</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es ml"><img src="../Images/fedb348e9685ca2a57bfb72fd848bfbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/0*Z2m4Cc841JW58pn_"/></div></figure><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mm"><img src="../Images/3b1e83b16b93d825ef44b86f5ea1bd02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/0*e6LQQwJFuxxPS7px"/></div></figure><p id="4418" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查您的云存储空间和新的。csv应该在那里。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mn"><img src="../Images/6ef2862060239245a487858c0f71c78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*snviFPGE8dmZdadf"/></div></div></figure><p id="da57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在您可以下载。csv或直接从GCS存储桶导入到BQ。</p><h1 id="f59b" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">将清理后的数据集导入BQ</h1><h1 id="b0ae" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">首先，我将删除具有错误数据类型的旧数据集:</h1><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="451f" class="lu jg hi lq b fi lv lw l lx ly">mikekahn@cloudshell:<strong class="lq hj">~ </strong>(mikekahn-sandbox)$ bq rm personalgenome.ftdna<br/>rm: remove table ‘mikekahn-sandbox:personalgenome.ftdna’? (y/N) y<br/>mikekahn@cloudshell:~ (mikekahn-sandbox)$</span></pre><h1 id="b747" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">现在导入dataprep清理的数据集</h1><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="f15f" class="lu jg hi lq b fi lv lw l lx ly">mikekahn@cloudshell:<strong class="lq hj">~ </strong>(mikekahn-sandbox)$ bq --location=US load --source_format=CSV personalgenome.ftdna gs://mikekahn-sandbox.appspot.com/jobrun/genome-ftdna-0623.csv RSID:string,CHROMOSOME:string,POSITION:integer,RESULT:string<br/>Waiting on bqjob_r5b939bcc2a5a3afa_000001639a154b19_1 … (6s) Current status: DONE</span></pre><p id="37ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功！现在我的FTDNA数据集被导入到BigQuery中。接下来，让我们为BQ准备好23andMe数据集。</p><h1 id="b42d" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">使用Google Cloud Dataprep进行23andMe文本文件数据转换</h1><p id="1411" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">由于23andMe原始数据列与FTDNA列不匹配，所以您还需要清除Dataprep中的23andMe原始数据基因组TXT文件。将其作为数据源导入，并在您的配方中进行以下转换:</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mo"><img src="../Images/5eeb9b28f562a945fbc64435a19737f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/0*tfhxfNxUDTiZIvRy"/></div></figure><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mp"><img src="../Images/683783eb8bafce2e7724778e3b345091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oJHlZBE64iWBd6EY"/></div></div></figure><p id="eb42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击下载23andMe Cloud Dataprep争论文件<a class="ae je" href="https://storage.googleapis.com/pers-pixelbook/genome-23andme.wrangle" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="500b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像我们在FTDNA数据集上做的那样运行作业，没有压缩，只有一个文件。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mq"><img src="../Images/1ccd32e25d21556a9b01cf2df73331e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x_OZ4xKs2BuMHpAr"/></div></div></figure><p id="2022" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看我们已完成的工作的结果，看看它是如何产生的:</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mr"><img src="../Images/4c92534c97a70e58a1fa1cee6d1e780f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GvqyuiK0_wpICWkJ"/></div></div></figure><p id="e17e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个数据集现在应该看起来类似于Dataprep清理的FTDNA数据集，并准备好导出到CSV，然后与FTDNA表一起加载到BigQuery中。导出结果的方式与我之前导出FTDNA的方式相同。</p><p id="9579" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行作业并导出结果后，非常容易导入到BQ。</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="7542" class="lu jg hi lq b fi lv lw l lx ly">mikekahn@cloudshell:<strong class="lq hj">~ </strong>(mikekahn-sandbox)$ bq --location=US load --source_format=CSV personalgenome.23andme gs://mikekahn-sandbox.appspot.com/jobrun/genome-23andMe.csv RSID:string,CHROMOSOME:string,POSITION:integer,RESULT:string<br/>Waiting on bqjob_r56a55846613e01c_000001639f213e24_1 … (6s) Current status: DONE</span></pre><h1 id="e22b" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">使用BQ探索您的基因组数据集</h1><p id="f265" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">我的BQ personalgenome数据集包括2个表和2个不同的基因组。我有一个祖先测试等待结果，所以最终我会从独特的个人遗传提供者那里得到3个不同的基因组副本。这是我的个人DNA数据集:</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es ms"><img src="../Images/8f98bfd374ceba183886f2186301b51e.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/0*2pQj8H8U7rYDRLAP"/></div></figure><h1 id="f9b8" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">找到两个基因组之间匹配的SNPs</h1><p id="a809" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">在BQ中，要查找总行数和匹配行，请使用以下查询:</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="6a82" class="lu jg hi lq b fi lv lw l lx ly">#standardsql<br/>SELECT COUNT(*) as totalrows, count(DISTINCT RSID) as rsidrowmatches<br/>FROM `mikekahn-sandbox.personalgenome.*`</span></pre><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mt"><img src="../Images/c4ff51e9b032954826140ad5457d6216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1znxtOLrSeRm4FVT"/></div></div></figure><p id="35c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">两个基因组总共有1，322，236行，其中1，009，997行是独特的。所以我有312，259个匹配行。我的23andMe和FTDNA基因组有23.6%的匹配。</p><p id="e8c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，尝试使用嵌套通配符查询来查找我的数据集中表之间匹配行的总数</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="0c7e" class="lu jg hi lq b fi lv lw l lx ly">#standardsql<br/>SELECT COUNT(*) as totalcount<br/>FROM (<br/> SELECT RSID from `mikekahn-sandbox.personalgenome.*` <br/> GROUP BY RSID HAVING ( COUNT(RSID) &gt; 1 )<br/>) AS total</span></pre><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mu"><img src="../Images/4bb07ea281157b01642aa62aff9bc6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Tq5Dtce3eFBy3ZNS"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">my 23andMe和FTDNA原始数据之间有312，259个RSID SNP匹配</figcaption></figure><p id="6d5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">截至2018年6月24日，SNPedia仅拥有<a class="ae je" href="http://snpedia.com/index.php/SNPedia" rel="noopener ugc nofollow" target="_blank"> 108，485个SNPs </a>的详细信息。因此，不要期望对你的DNA有一些强有力的答案，而是一些可能的见解。</p><h1 id="a173" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">跨Counsyl、23andMe、FTDNA数据的SNP检查</h1><p id="2850" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">我结婚前在一家名为Counsyl的公司做过携带者测试。不幸的是，Counsyl没有提供与23andMe和FTDNA可比的数据，因为它们主要提供一份将你的DNA与你的配偶相匹配的报告。我试图从Counsyl获得我的原始数据，他们确实给了我一个vcf，但它相当小，不包括参考基因组变异。关于Counsyl vs 23andMe的更多信息:</p><p id="afbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">couns yl Foresight screen对数百种可能导致遗传性疾病的基因进行全新一代测序。这构成了大约100万个碱基对位置，对其进行检测以发现新的变异。VCF主要表示具有罕见的非参考变量的位置，这给出了大约1200个条目的VCF。</em></p><p id="83aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd"> 23andme by comparison使用微阵列在大约600，000个已知常见祖先变异的位置进行基因分型。他们的VCF档案很可能包含每个位置的基因型，因此预计该档案会大500倍。</em></p><p id="ba51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的验血结果显示，我是一种叫做<a class="ae je" href="https://rarediseases.info.nih.gov/diseases/640/congenital-amegakaryocytic-thrombocytopenia" rel="noopener ugc nofollow" target="_blank">的先天性无巨核细胞血小板减少症</a>的携带者。我想验证在我基因组中发现的这种疾病的SNP也在23andMe和FTDNA的基因组中。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mf"><img src="../Images/73940659ce132a855baf960da4e7cb8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/0*HO0JbSRDkxL2hZLD"/></div></figure><p id="1636" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们在BigQuery中查询这些表。</p><h1 id="3a82" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">第一步，找到SNP。</h1><p id="154f" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">谷歌搜索先天性无单核细胞血小板减少症snp返回一个SNPedia结果:</p><p id="4b60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://www.snpedia.com/index.php/Rs12731981" rel="noopener ugc nofollow" target="_blank"> rs12731981 —媒体</a></p><p id="1145" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们在BigQuery中有了23andMe和ftdna数据集，让我们在我的个人基因组中检查这个SNP</p><p id="cc5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我已经使用Dataprep确保了两个表具有相同的列名，所以我可以在我的查询中使用一个<a class="ae je" href="https://cloud.google.com/bigquery/docs/querying-wildcard-tables" rel="noopener ugc nofollow" target="_blank">通配符表</a>来查询SNP的数据集中的所有表。我将使用_TABLE_SUFFIX让我知道哪个原始数据源正在显示SNP。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mv"><img src="../Images/47be9df49c486d39f6299ec7acc142ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wu-iU54OhYHZdzfT"/></div></div></figure><p id="0b0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那个SNP在我所有的3个原始数据来源上都是匹配的，分别是Counsyl(通过报告)、23andMe和ftdna。别担心，我的妻子也做了考恩西尔测试，她不是这种疾病的携带者，所以我们未来的孩子会没事的🙏🏼。</p><p id="cb6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我刚刚做的是在三个不同的DNA测试服务中验证一个基因标记。这让我对我DNA上的基因标记有了很大的信心。相当酷。</p><h1 id="820b" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">更多探索——前列腺癌</h1><p id="b591" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">在<a class="ae je" href="https://snpedia.com/index.php/Cancer" rel="noopener ugc nofollow" target="_blank">SNP media</a>上随机检查癌症的SNP</p><p id="02cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">前列腺癌有一个确定的SNP与侵略性前列腺癌<a class="ae je" href="https://snpedia.com/index.php/Prostate_cancer" rel="noopener ugc nofollow" target="_blank">此处</a>:</p><p id="6294" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">已经发现一个SNP不仅与一般的前列腺癌相关，而且还特别与侵袭性前列腺癌相关[</em><a class="ae je" href="https://www.ncbi.nlm.nih.gov/pubmed/18073375?dopt=Abstract" rel="noopener ugc nofollow" target="_blank"><em class="jd">PMID 18073375</em></a><em class="jd">]:</em></p><ul class=""><li id="dc0a" class="ky kz hi ih b ii ij im in iq lm iu ln iy lo jc ld le lf lg bi translated"><a class="ae je" href="https://snpedia.com/index.php/Rs1571801" rel="noopener ugc nofollow" target="_blank"> <em class="jd"> rs1571801 </em> </a></li></ul><p id="00a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的FTDNA和23andMe基因组中检查这个SNP</p><pre class="kj kk kl km fd lp lq lr ls aw lt bi"><span id="fbe1" class="lu jg hi lq b fi lv lw l lx ly">#standardsql<br/>SELECT rsid, chromosome, position, result, _TABLE_SUFFIX as table_id<br/>FROM `mikekahn-sandbox.personalgenome.*` <br/>WHERE rsid = 'rs1571801'</span></pre><p id="e7b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出现在我的两个原始数据源上:</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mw"><img src="../Images/8b53b18225c46adc9902aaa2169af168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wfuDtF21_fRuQg2f"/></div></div></figure><p id="de0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些<a class="ae je" href="https://www.ncbi.nlm.nih.gov/pubmed/18073375?dopt=Abstract" rel="noopener ugc nofollow" target="_blank">研究</a>已经证实了这一点:</p><h2 id="c8bb" class="lu jg hi bd jh mx my mz jl na nb nc jp iq nd ne jt iu nf ng jx iy nh ni kb nj bi translated">方法:</h2><p id="482b" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated"><em class="jd">我们对498名患有侵袭性前列腺癌的男性和494名对照受试者进行了探索性全基因组关联扫描，这些受试者选自瑞典的一项基于人群的病例对照研究。我们将这次扫描的结果与公开的癌症易感性遗传标记(CGEMS)研究中侵袭性前列腺癌的结果结合起来。在两个由欧洲人或非裔美国人组成的独立研究人群中，使用单侧检验和与探索性研究中最低值相关的遗传模型(显性或加性),检验了基于双侧等位基因检验显示与侵袭性前列腺癌风险具有统计学显著相关性的单核苷酸多态性(SNPs)与侵袭性前列腺癌的相关性。</em></p><h1 id="7d1c" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">在你紧张之前..</h1><p id="8970" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">幸运的是，这个标记在<a class="ae je" href="https://snpedia.com/index.php/Rs1571801" rel="noopener ugc nofollow" target="_blank">SNP media上的等位基因(基因的变体)是A；风险最高的a</a>而我的等位基因好像是G；t，所以希望我是清白的。但这向你展示了我们对DNA的了解。这项研究只在大约500名男性身上进行，SNPedia说A；一个变种患前列腺癌的风险是1.36倍。所以它不是很强或决定性的，但在另一种情况下对某人来说可能意味着什么。</p><h1 id="b615" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">数据实验室</h1><p id="04ea" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">接下来，我将使用Google Cloud Datalab为我的基因组数据仓库探索创建笔记本。</p><p id="aa13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/datalab/docs/quickstart" rel="noopener ugc nofollow" target="_blank">云数据实验室快速入门</a></p><p id="8c2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用云数据实验室，我可以使用%%bq query在笔记本中运行BigQuery查询</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nk"><img src="../Images/15554b9804fcfb206ed145c36a2aff9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mkWS1UCn_exBuqzy"/></div></div></figure><p id="82a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Datalab中，我可以编写python代码来进行分析。例如，在我的笔记本上，我用BeautifulSoup搜集了snpedia.com流行的SNPs。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es nl"><img src="../Images/28ad4697d9453136ccf151a7cda4eb54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JqUxW6qdaFFa_fDb"/></div></div></figure><p id="b82a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我添加了更多的原始数据源(祖先)，我将编写一些东西来为在多个表中找到的匹配给出一个分数。</p><p id="d894" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里下载这个云数据实验室ipython笔记本<a class="ae je" href="https://storage.googleapis.com/pers-pixelbook/personal%2Bgenome%2Bexploration.ipynb" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="cb7b" class="jf jg hi bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">结论</h1><p id="8af5" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kf is it iu kg iw ix iy kh ja jb jc hb bi translated">今天，我们可以以相对合理的成本从多个来源进行基因分型。23andMe、家谱DNA和祖先等服务是当今最受人们欢迎的进行祖先和健康数据探索的基因分型服务。这些数据可以帮助我们更好地了解我们的基因构成，了解疾病风险，并可能让人们更好地规划他们的生活方式。SNP标记仍在鉴定中，在某些情况下可能不准确。利用您的基因分型原始数据和谷歌云平台，您可以轻松构建个人数据仓库，并更好地了解大型数据集，如您自己的DNA。</p></div></div>    
</body>
</html>