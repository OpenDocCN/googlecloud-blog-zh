<html>
<head>
<title>5 key steps for building a centralized and secured Data Catalog on GCP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在GCP上构建集中且安全的数据目录的5个关键步骤</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/make-people-find-what-theyre-looking-for-aa178567ded7?source=collection_archive---------1-----------------------#2022-02-04">https://medium.com/google-cloud/make-people-find-what-theyre-looking-for-aa178567ded7?source=collection_archive---------1-----------------------#2022-02-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d059" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">让你的人找到他们要找的东西</h2></div><p id="9cd7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我和我的团队最近完成了一个漂亮的项目。我们的目标是让一家大公司的所有员工忘记思考<em class="jt">“我已经花了10分钟寻找这些数据，但仍然没有找到我要找的东西”</em>。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ju"><img src="../Images/fa742c433062da4e30a030ad88bfab04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g0DAqPQ0en7umJJaFgokEw.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated"><a class="ae kk" href="https://unsplash.com/@punttim" rel="noopener ugc nofollow" target="_blank">蒂姆·高来自Unsplash的照片</a></figcaption></figure><p id="5bd7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有人知道<strong class="iz hj">我们在工作中浪费了多少时间寻找数据吗？</strong></p><p id="2a1c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们中的许多人都经历过这样的噩梦，感觉我们在浪费时间寻找我们怀疑存在但却找不到的公司数据。根据Dresner在2020年进行的一项研究[ <a class="ae kk" href="https://hdresner.gumroad.com/l/YKFrv" rel="noopener ugc nofollow" target="_blank"> 1 </a> ]，51%的员工认为他们很难找到分析数据，这种趋势在最大的公司(&gt; 1000名员工)中不断增长。此外，还发现内容越难找到，业务计划失败的可能性就越大。为了证明这一点，让我们加入一些在各种研究中发现的令人沮丧的数据[<a class="ae kk" href="https://hdresner.gumroad.com/l/YKFrv" rel="noopener ugc nofollow" target="_blank">1</a>][<a class="ae kk" href="https://pages.alteryx.com/idc-infobrief-state-data-science-analytics" rel="noopener ugc nofollow" target="_blank">2</a>]关于大多数商业计划的第一阶段，即第一次信息搜索T25分析:</p><ul class=""><li id="8236" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js kq kr ks kt bi translated">90%的工作周花在与数据相关的活动上。</li><li id="e19f" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">92%的时间花在搜索数据资产上。</li><li id="e322" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">44%的时间浪费在数据工作者不成功的活动上。</li></ul><p id="76ba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">而且有一点我们是相当清楚的:<strong class="iz hj"> <em class="jt">时间就是金钱</em> </strong>。为了解决这个问题并大幅减少搜索时间，<strong class="iz hj">谷歌云创建了数据目录</strong>，并于2020年4月正式发布。</p><p id="d477" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae kk" href="https://cloud.google.com/data-catalog" rel="noopener ugc nofollow" target="_blank"> Data Catalog </a>是一个<strong class="iz hj">完全托管和高度可扩展的数据发现和元数据管理服务</strong>。在本文中，我将展示如何使用该产品构建端到端的企业数据目录。为了实现这一点，我将保持简单:只需5个步骤。</p><p id="1b5a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在此之前，我想做一个澄清——可能对某些人来说是显而易见的——来强调，为了构建我们的业务数据目录，最基本的(以及我们将使用该产品管理的)不是数据本身，而是描述我们数据的<strong class="iz hj">元数据</strong>。</p><p id="3746" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们使用该目录的基本目标是，我们的同事能够<strong class="iz hj">找到他们正在寻找的信息</strong>，如果他们无法访问数据本身，至少他们能够<strong class="iz hj">知道我们确实希望他们了解的关于该数据的具体信息</strong>。例如，我们可能希望我们的员工看到:</p><ul class=""><li id="6b9f" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js kq kr ks kt bi translated">谁创建了一个表或者谁负责一个文件(所以如果它不是敏感信息，这个人知道应该向谁请求访问它)</li><li id="9ca2" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">该信息何时生成以及何时更新</li><li id="47b0" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">它占用了多少存储空间</li><li id="a502" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">如果它包含敏感信息，是什么类型的</li><li id="3aef" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">诸如此类。</li></ul><p id="db3a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所有这些<strong class="iz hj">都不需要访问元数据下面的数据</strong>。</p><p id="9b1d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们已经了解了数据目录的使用情形，让我们看看如何从该产品中获得价值。为了更好地理解，我添加了<strong class="iz hj">演示视频来展示我们的5个步骤</strong>。该演示基于2个不同的项目(财务和人力资源)和3个不同的身份(在这种情况下，它们是3个单独的帐户，但在真实的用例中，它们可能是用户组，甚至是服务帐户)。在此找到授予这些身份的权限:</p><ul class=""><li id="7086" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js kq kr ks kt bi translated"><strong class="iz hj"> <em class="jt">数据分析师</em> </strong>可以<strong class="iz hj">发现</strong>财务项目<strong class="iz hj">中的数据，但不能访问该项目</strong>中的数据。这是通过<strong class="iz hj"> <em class="jt">数据目录查看器</em> </strong>角色授予的，该角色提供对所有数据资产的<strong class="iz hj">元数据读取访问</strong>以及对所有标签模板和标签的读取访问。<strong class="iz hj">数据分析师</strong>无权<strong class="iz hj">在人力资源项目</strong>中发现或访问数据。</li><li id="b009" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated"><strong class="iz hj"> <em class="jt">数据管理员</em> </strong>可以<strong class="iz hj">发现和访问<strong class="iz hj">项目</strong>财务和hr中的数据</strong>，通过<strong class="iz hj"> <em class="jt">项目查看器</em> </strong> <em class="jt"> </em>角色<em class="jt">授予。</em>它还可以<strong class="iz hj">通过使用驻留在两个项目中任何一个的标签模板来创建和附加标签</strong>(<strong class="iz hj"><em class="jt">数据目录标签模板用户</em> </strong>角色)，还可以编辑附加的标签(<strong class="iz hj"> <em class="jt">数据目录标签编辑</em> </strong>角色)。</li><li id="9303" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated"><strong class="iz hj"> <em class="jt">数据管理者</em> </strong>可以<strong class="iz hj">发现和访问<strong class="iz hj">项目</strong>财务和人力资源中的数据</strong>，通过<strong class="iz hj"> <em class="jt">项目查看者</em> </strong> <em class="jt"> </em>角色<em class="jt">授予。</em>此外，由于<strong class="iz hj"> <em class="jt">数据目录标签模板所有者</em> </strong>角色，它可以<strong class="iz hj">访问标签模板并在两个项目中</strong>创建/更新/删除标签模板和相关标签。</li></ul><p id="a4a9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">也就是说，让我们看看如何通过5个步骤在Google Cloud上构建我们的数据目录。</p><h2 id="e28a" class="kz la hi bd lb lc ld le lf lg lh li lj jg lk ll lm jk ln lo lp jo lq lr ls lt bi translated">1.检测并启用您想要发现的数据</h2><p id="0747" class="pw-post-body-paragraph ix iy hi iz b ja lu ij jc jd lv im jf jg lw ji jj jk lx jm jn jo ly jq jr js hb bi translated">开始使用数据目录时，只需打开<a class="ae kk" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> GCP控制台</a>，在这里启用产品的API <a class="ae kk" href="https://console.cloud.google.com/marketplace/product/google/datacatalog.googleapis.com" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="e556" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦你这样做了，谷歌云资源就会在你的目录中自动被发现。这包括<a class="ae kk" href="https://cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank"> BigQuery </a>(数据集、表格和BQML模型)<a class="ae kk" href="https://cloud.google.com/pubsub" rel="noopener ugc nofollow" target="_blank"> Pub/Sub </a>和<a class="ae kk" href="https://cloud.google.com/dataproc-metastore/docs" rel="noopener ugc nofollow" target="_blank"> Dataproc Metastore </a>数据。此外，您还可以将<a class="ae kk" href="https://cloud.google.com/dlp" rel="noopener ugc nofollow" target="_blank">数据丢失防护(DLP) </a>扫描结果发送到数据目录。</p><p id="6137" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">除了Google Cloud数据源，您还可以将内部数据源与您的数据目录集成，例如所有典型的RDBMS (MySQL、PostgreSQL、SQL Server、Teradata等)。)、BI工具(Looker、Qlik和Tableau)和Hive数据源。在此查看所有支持的信号源<a class="ae kk" href="https://cloud.google.com/data-catalog/docs/integrate-data-sources#integrate_on-premises_data_sources" rel="noopener ugc nofollow" target="_blank">。在<em class="jt">步骤3:使用条目组</em>中解释了集成这些来源的过程，这也使我们能够将Google云存储文件集成到我们的目录中。</a></p><p id="9c87" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦我们获取了所有的元数据，我们就可以将数据目录用于两个主要目的:</p><ul class=""><li id="3dd1" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js kq kr ks kt bi translated">通过搜索使我们的(元数据)数据可被发现(见<em class="jt">步骤2 </em>)。</li><li id="ce0b" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">通过标签用额外的业务元数据丰富我们的数据(参见<em class="jt">步骤4 </em>)。</li></ul><h2 id="022a" class="kz la hi bd lb lc ld le lf lg lh li lj jg lk ll lm jk ln lo lp jo lq lr ls lt bi translated">2.知道(并让你的用户知道)如何搜索数据</h2><p id="b04e" class="pw-post-body-paragraph ix iy hi iz b ja lu ij jc jd lv im jf jg lw ji jj jk lx jm jn jo ly jq jr js hb bi translated">一旦我们获取了所有元数据并设置了所有必要的权限，我们的用户就能够发现他们拥有元数据级别访问权限的所有资产。这种发现通常是通过在数据目录的搜索栏中进行查询来完成的。</p><p id="c116" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些搜索可能非常简单，能够搜索一个字符子串，返回以某种方式与该子串相关的所有资产。例如，如果我们简单地搜索“num ”,搜索引擎将返回包含“num”的所有资产:在资产名称中，在我们环境中的某个表的列中，在项目名称中，在描述中，在标签的值中，等等。如果我们想做更高级的查询，我们将不得不坚持数据目录搜索语法，其限定符(操作符)可以在<a class="ae kk" href="https://cloud.google.com/data-catalog/docs/how-to/search-reference#qualified_predicatesç" rel="noopener ugc nofollow" target="_blank">数据目录的文档</a>中找到。</p><p id="3dc8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了更好地理解这个搜索引擎有多强大，让我在这里试着解释一下(点击“在YouTube中查看”以便于阅读):</p><figure class="jv jw jx jy fd jz"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="c9b8" class="kz la hi bd lb lc ld le lf lg lh li lj jg lk ll lm jk ln lo lp jo lq lr ls lt bi translated"><strong class="ak"> 3。(可选)使用输入组</strong></h2><p id="903b" class="pw-post-body-paragraph ix iy hi iz b ja lu ij jc jd lv im jf jg lw ji jj jk lx jm jn jo ly jq jr js hb bi translated"><strong class="iz hj"> <em class="jt">条目</em> </strong>表示可以从数据目录中创建、搜索和管理的数据资源。这些资源可以是:</p><ul class=""><li id="9ace" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js kq kr ks kt bi translated"><strong class="iz hj"> Google云资源</strong>，比如BigQuery数据集或表、发布/订阅主题等。</li><li id="2ee4" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated"><strong class="iz hj">具有自定义数据类型的自定义资源</strong>。</li></ul><p id="7c71" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">条目包含在一个<strong class="iz hj"> <em class="jt">条目组</em> </strong>中，该条目组是一组逻辑上相关的条目以及IAM策略，这些策略指定了可以创建、编辑和查看这些条目的用户。</p><p id="cf46" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如前所述，我们可以<a class="ae kk" href="https://cloud.google.com/data-catalog/docs/how-to/custom-entries" rel="noopener ugc nofollow" target="_blank">使用自定义条目</a>创建条目组(例如，来自MySQL、Postgres或SQL Server DDBB、其他数据湖&amp;仓库(如Redshift、Teradata等)的文件。).我们还可以创建由我们定义的<strong class="iz hj"> Google云存储</strong> (GCS) <strong class="iz hj"> <em class="jt">文件集</em> </strong>组成的条目组。</p><p id="b638" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">GCS文件集只能由同一bucket的对象子集组成，但是一个条目组中可以有多个文件集。这些文件集允许使用(复杂的)通配符来定义它们。例如，我们可以通过指定模式<code class="du mb mc md me b">gs://data-emy/2021_*/**/file?.[xls,csv]</code>来定义文件集。这些图案的含义是:</p><ul class=""><li id="931a" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js kq kr ks kt bi translated">* —匹配该目录级别的任意数量的字符</li><li id="d6d7" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">** —跨目录边界匹配任意数量的字符。</li><li id="173b" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">？—匹配单个字符。例如gs://bucket/？？。txt只匹配两个字符后跟. txt的对象。</li><li id="ac21" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js kq kr ks kt bi translated">[]-匹配任意范围的字符。</li></ul><p id="e302" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有了这些，我们可以说指定的模式包括任何CSV或XML格式的文件，称为file？(文件1，文件2，…，文件9)，位于名称以“2021_”开头的“data-emy”存储桶内的文件夹的任何子目录中。</p><p id="9161" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个文件集可以有1到500个模式(更多信息参见<a class="ae kk" href="https://cloud.google.com/storage/docs/gsutil/addlhelp/WildcardNames" rel="noopener ugc nofollow" target="_blank">通配符名称</a>和<a class="ae kk" href="https://cloud.google.com/data-catalog/docs/reference/rest/v1/projects.locations.entryGroups.entries#GcsFilesetSpec.FIELDS.file_patterns" rel="noopener ugc nofollow" target="_blank">gcsfilesetspec . file patterns</a>API参考文档)。</p><h2 id="e76e" class="kz la hi bd lb lc ld le lf lg lh li lj jg lk ll lm jk ln lo lp jo lq lr ls lt bi translated">4.使用标签和模板</h2><p id="3ea1" class="pw-post-body-paragraph ix iy hi iz b ja lu ij jc jd lv im jf jg lw ji jj jk lx jm jn jo ly jq jr js hb bi translated">数据目录标签是业务元数据，更好的说法是，<em class="jt">云管理者- </em> <strong class="iz hj"> <em class="jt"> </em> </strong>可以创建和管理，以使信息对其他用户是可发现的和完整的。这些标签可以在列或表级别应用:</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es mf"><img src="../Images/2da63d60cf59f40a158718e680d75af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v0c81bRTqa5iwm_H.png"/></div></div></figure><p id="a6bd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在执行<a class="ae kk" href="https://cloud.google.com/dlp/docs" rel="noopener ugc nofollow" target="_blank">云数据丢失防护</a> (DLP)作业时，也可以自动创建标签，该作业用于扫描敏感信息。自动生成的标记将包含我们正在搜索的信息类型(敏感信息类型，如电子邮件地址或信用卡号)的所有字段，指定DLP API为这些信息类型中的每一种找到的结果的数量。</p><p id="392e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了实现元数据的一致性，<em class="jt">数据调控器</em>可以创建<strong class="iz hj"> <em class="jt">标签模板</em> </strong>。这些模板由元数据<strong class="iz hj"> <em class="jt">字段</em> </strong>和键值对组成，键值对可以是字符串、双精度、布尔、枚举或日期时间类型；并且可以是必需的或者不是必需的。</p><p id="f32e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据目录标签模板将允许我们的数据管理员用户使用我们需要的所有信息(元数据)来创建<strong class="iz hj">同类标签</strong>，从而拥有一个强大且一致的目录。</p><p id="1558" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于这是我们目录中最重要的主题之一，我制作了一个视频，您可以从中看到<em class="jt">数据管理器</em>如何创建一个<strong class="iz hj"> <em class="jt">标记模板</em> </strong>，其中包括哪些类型的业务信息与我们的数据分类相关。之后，<em class="jt">数据管理员</em>可以使用创建的模板将<strong class="iz hj"> <em class="jt">标签</em> </strong>附加到BigQuery表或列。你可以在这里看到:</p><figure class="jv jw jx jy fd jz"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="3004" class="kz la hi bd lb lc ld le lf lg lh li lj jg lk ll lm jk ln lo lp jo lq lr ls lt bi translated">5.(可选)利用策略标记来限制对BigQuery列的访问</h2><p id="c98c" class="pw-post-body-paragraph ix iy hi iz b ja lu ij jc jd lv im jf jg lw ji jj jk lx jm jn jo ly jq jr js hb bi translated">我们刚刚看到的四个步骤是我们实现完整的数据目录所需的全部，通过同质和一致的元数据标记来增强我们的数据治理。然而，数据目录中还有一个我们尚未探索的特性，它在BigQuery中为我们提供了列级安全性:策略标签<strong class="iz hj"><em class="jt"/></strong>。如果您不使用或者对使用BigQuery不感兴趣，那么您可以在这里停止阅读。如果您想了解如何在列级别控制对BigQuery表的访问，请继续阅读。</p><p id="cdb6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过应用这些策略标记，我们可以对不应该看到该信息的用户隐藏BigQuery列。这样，他们看到的表就好像特定的列不存在一样。</p><p id="664f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了定义对BigQuery表的列细粒度访问，我们需要执行三个步骤(请注意步骤2和3的顺序可以互换):</p><ol class=""><li id="ef9f" class="kl km hi iz b ja jb jd je jg kn jk ko jo kp js mg kr ks kt bi translated"><strong class="iz hj">在数据目录中定义一个分类，并在其中创建我们的策略标签</strong>。通过定义我们的分类法，我们定义了我们的策略标签所在的不同安全级别。例如，我们可以根据数据的敏感程度来定义级别，例如高、中或低敏感级别，然后为不同级别分配我们需要的策略标签。</li><li id="d4c4" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js mg kr ks kt bi translated"><strong class="iz hj">将策略标签应用到我们想要限制访问的列</strong>。由于我们现在处于数据层，而不是元数据层——我们控制的是访问数据本身的<strong class="iz hj">，而不是访问元数据</strong>的<strong class="iz hj">，这应该在BigQuery </strong>而不是数据目录中应用<strong class="iz hj">。我们应用策略标记的方法是编辑相应表的模式，并将策略标记应用到我们需要的特定列。</strong></li><li id="6bb7" class="kl km hi iz b ja ku jd kv jg kw jk kx jo ky js mg kr ks kt bi translated"><strong class="iz hj">通过在我们想要的分类级别应用</strong>IAM<strong class="iz hj"><em class="jt">【细粒度读者】角色</em> </strong>来控制访问。这个角色专门负责这个用例:在BigQuery列级别限制访问。注意:除了现有的数据集ACL之外，还实施列级安全性。用户需要数据集权限和策略标记权限才能访问受列级安全性保护的数据。</li></ol><p id="18b1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我知道你在想什么，这个过程在第一次应用时可能看起来有点麻烦。但是，如果定义一个很好的分类法，作为所有BigQuery表的基础，可以节省大量时间。如果您想了解如何通过遵循<a class="ae kk" href="https://cloud.google.com/bigquery/docs/best-practices-policy-tags" rel="noopener ugc nofollow" target="_blank">谷歌云使用策略标签的最佳实践</a>来创建和应用这些策略标签，请观看以下视频:</p><figure class="jv jw jx jy fd jz"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="efc2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们所见，在您的组织中查找数据并不一定是一场噩梦。通过这5个相当简单的步骤，您可以使您的数据更易访问、更丰富、更易共享和集中控制。</p><p id="51b6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望你喜欢这篇文章，并发现在Google Cloud上创建数据目录的实用指南。无论你是否成功地应用了这些步骤，我都很乐意听到你的意见——反馈是一份礼物——在评论中或者在LinkedIn上。</p><p id="8e0b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">非常感谢你读到这里！</strong></p></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><p id="09d6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">[1]数据目录研究，Dresner咨询服务有限责任公司—2020年6月15日，【https://hdresner.gumroad.com/l/YKFrv T4】</p><p id="2694" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">[2]数据科学和分析的现状，IDC IntroBrief，由Alteryx主办，2019年，<a class="ae kk" href="https://pages.alteryx.com/idc-infobrief-state-data-science-analytics" rel="noopener ugc nofollow" target="_blank">https://pages . Alteryx . com/IDC-info brief-State-Data-Science-Analytics</a></p></div></div>    
</body>
</html>