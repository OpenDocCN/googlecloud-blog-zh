<html>
<head>
<title>Setting Up Your GCP Foundations Through Terraform — Chapter 1 — Introduction &amp; First Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Terraform建立您的GCP基金会—第1章—简介和第一步</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/setting-up-your-gcp-foundations-through-terraform-chapter-1-introduction-first-steps-33bd11e949e5?source=collection_archive---------0-----------------------#2022-06-17">https://medium.com/google-cloud/setting-up-your-gcp-foundations-through-terraform-chapter-1-introduction-first-steps-33bd11e949e5?source=collection_archive---------0-----------------------#2022-06-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="c8bb" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">简介:</h1><p id="dc53" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">当我在大学时，我被介绍参加了<a class="ae kb" href="https://www.commonsense.org/education/lesson-plans/the-marshmallow-challenge#:~:text=The%20CHALLENGE%3A,to%20hold%20it%20in%20place." rel="noopener ugc nofollow" target="_blank">棉花糖挑战</a>——挑战是在18分钟内用不超过20根意大利面条、一码胶带、一码绳子和一个棉花糖建造最高的独立结构。棉花糖必须放在上面，不能变形来固定它。—通常，只有大约50%的团队在这项挑战中获得成功。</p><p id="0fbf" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这个练习的关键发现是:原型制作很重要——孩子们比大学生做得更好的原因是他们花更多的时间玩耍和制作原型。他们很自然地从棉花糖开始，然后粘在棍子上。大学生花了大量的时间计划，然后执行计划，一旦他们把棉花糖放在上面，几乎没有时间来修改设计。</p><p id="e01e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这与我们今天构建软件的方式非常相似——一家公司有一个想法，他们专注于构建该想法的工作原型。从那里，他们继续在原型上扩展，同时积累技术债务，这最终降低了系统的可靠性，减缓了开发和功能速度。</p><p id="6c19" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">挑战在于您优先考虑什么——交付功能或确保它是根据行业最佳实践构建的，使用IaC CI/CD等。—对于刚开始的公司/产品团队来说，这并不是一个真正的决定——你需要尽快交付价值——所以交付特性总是会赢。</p><p id="9d34" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">本系列的目标是帮助指导您如何通过Terraform和CI/CD最佳实践建立贵公司的GCP基金会，此外，我们还将遵循GCP最佳实践和<a class="ae kb" href="https://cloud.google.com/architecture/framework" rel="noopener ugc nofollow" target="_blank"> GCP架构框架</a>构建一个开源示例GCP基金会/登陆区。</p><p id="ca6b" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">希望这将使您能够专注于为您的客户提供价值，同时随着产品的扩展尽可能减少您的技术债务。</p><p id="4a77" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">为了设定期望，也为了让自己负责，我设定了一个目标，每周一次在欧洲中部时间周三中午12:00发布系列的新篇章</p><h1 id="452d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">场景:</h1><ul class=""><li id="f3c7" class="kh ki hi jf b jg jh jk jl jo kj js kk jw kl ka km kn ko kp bi translated">我们想要推出的产品是<a class="ae kb" href="https://github.com/GoogleCloudPlatform/microservices-demo" rel="noopener ugc nofollow" target="_blank"> GCP微服务演示</a>——这是一个在线精品店的演示，旨在运行在Kubernetes上。</li></ul><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kq"><img src="../Images/8ef3931b2f2d4fef871bb836a67b798f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fkznIR4E06WFYeVA.png"/></div></div></figure><ul class=""><li id="ea2f" class="kh ki hi jf b jg kc jk kd jo lc js ld jw le ka km kn ko kp bi translated">为了支持该产品，我们将按照<a class="ae kb" href="https://github.com/doitintl/secure-gcp-reference" rel="noopener ugc nofollow" target="_blank"> DoiT GCP安全参考架构</a>(归功于Mike Sparr)建立登陆区</li></ul><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kq"><img src="../Images/da7f08316b58c5b5785fa6bbdacbb231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*molZ1e4Ii5lhGHtU"/></div></div></figure><h1 id="daf2" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">第一步:</h1><p id="fb5a" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这个过程有两个主要部分。首先，在cloud identity中创建您的第一个超级管理员帐户，如果您拥有所有必需的凭据和访问权限，此过程应该不会超过30-60分钟；其次，验证您的域，根据Google文档，这可能需要几个小时—这将设置您的组织节点。</p><p id="de57" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="lf">在GCP需要注意的一些重要事情:</em> </strong></p><ul class=""><li id="2e1f" class="kh ki hi jf b jg kc jk kd jo lc js ld jw le ka km kn ko kp bi translated">对于云身份，您有免费层和高级层。对于大多数客户来说，从免费层开始，然后根据需要扩展到高级层就足够了，无论是否需要更多用户或更多功能。请注意，云身份的免费层可以通过申请表从50名用户扩大到50名用户，这取决于谷歌的批准。</li><li id="bef2" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">超级管理员和组织管理员是两种不同的角色。</li><li id="f142" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">超级管理员管理您的云身份环境，包括设置管理员、添加和删除用户以及添加和删除云身份服务。</li><li id="b61f" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">组织管理员—管理您的GCP环境中的访问权限。重要的是要了解，在您的GCP环境中，它们不是“上帝模式”权限，它们允许管理员为用户创建和分配角色，例如，如果组织管理员没有为自己提供计费管理员角色，他们就看不到计费数据。</li></ul><p id="3899" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="lf">工作检查表:</em> </strong></p><ul class=""><li id="fd2e" class="kh ki hi jf b jg kc jk kd jo lc js ld jw le ka km kn ko kp bi translated">如果你还没有域名——买一个——有很多方法可以通过像<a class="ae kb" href="https://www.godaddy.com/" rel="noopener ugc nofollow" target="_blank"> GoDaddy </a>、<a class="ae kb" href="https://domains.google/" rel="noopener ugc nofollow" target="_blank"> Google domains </a>等注册商来注册。</li><li id="3390" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">如果您的公司已经有域，请确保您拥有管理员凭据，这是设置您的GCP组织和云身份环境所必需的，这是IAM(身份和访问管理控制)的身份部分</li><li id="8080" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">阅读<a class="ae kb" href="https://cloud.google.com/docs/enterprise/setup-checklist#checklist-section-1" rel="noopener ugc nofollow" target="_blank">超级管理员帐户最佳实践</a>(3-5分钟阅读)</li><li id="3ace" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">按照<a class="ae kb" href="https://cloud.google.com/docs/enterprise/setup-checklist#checklist-section-1" rel="noopener ugc nofollow" target="_blank"> Google Cloud设置清单</a>第1部分中记录的步骤，设置您的GCP组织和第一个超级管理员用户以及恢复电子邮件地址。</li><li id="8169" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">请注意第1章文档末尾的故障排除步骤，通常情况下，客户会尝试验证他们的域，但收到错误消息，因为组织内部的某个人已经验证了该域。</li></ul><h1 id="80cb" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">下周发布:</h1><ul class=""><li id="bb07" class="kh ki hi jf b jg jh jk jl jo kj js kk jw kl ka km kn ko kp bi translated">建立我们的第一个用户组并给他们分配角色。</li><li id="0e7b" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated">设置Github环境以支持协作，并为CI/CD渠道奠定基础。</li></ul><h1 id="d54b" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">资源:</h1><ul class=""><li id="7ad7" class="kh ki hi jf b jg jh jk jl jo kj js kk jw kl ka km kn ko kp bi translated"><a class="ae kb" href="https://www.commonsense.org/education/lesson-plans/the-marshmallow-challenge#:~:text=The%20CHALLENGE%3A,to%20hold%20it%20in%20place." rel="noopener ugc nofollow" target="_blank">棉花糖挑战——常识教育</a></li><li id="64c4" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated"><a class="ae kb" href="https://github.com/GoogleCloudPlatform/microservices-demo" rel="noopener ugc nofollow" target="_blank"> GCP微服务演示</a></li><li id="1415" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated"><a class="ae kb" href="https://github.com/doitintl/secure-gcp-reference" rel="noopener ugc nofollow" target="_blank"> DoiT GCP安全参考架构</a></li><li id="214b" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated"><a class="ae kb" href="https://cloud.google.com/docs/enterprise/setup-checklist" rel="noopener ugc nofollow" target="_blank">谷歌云设置清单</a></li><li id="d8a3" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated"><a class="ae kb" href="https://cloud.google.com/docs/enterprise/best-practices-for-enterprise-organizations" rel="noopener ugc nofollow" target="_blank"> GCP企业组织最佳实践</a></li><li id="bc8b" class="kh ki hi jf b jg lg jk lh jo li js lj jw lk ka km kn ko kp bi translated"><a class="ae kb" href="https://cloud.google.com/architecture/framework" rel="noopener ugc nofollow" target="_blank"> GCP架构框架</a></li></ul></div></div>    
</body>
</html>