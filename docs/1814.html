<html>
<head>
<title>Getting started when forming a reliability program on Google Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google Cloud上构建可靠性计划时开始</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/getting-started-when-forming-a-reliability-program-on-google-cloud-aea5debeb532?source=collection_archive---------3-----------------------#2021-02-23">https://medium.com/google-cloud/getting-started-when-forming-a-reliability-program-on-google-cloud-aea5debeb532?source=collection_archive---------3-----------------------#2021-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/dcf1692a7ef720a41dbeec9f7d6e134c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FLFaUin-w6UOWOK1"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">泰勒·维克在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><p id="3542" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我观察到，当内部公司选择迁移或扩展到云中时，选择的一部分是增加可靠性，但获得可靠性的执行是分散的。为了帮助实现可靠性的整体方法，应该制定一个可靠性计划来建立一个可靠应用程序的模型。在与我们的Google Cloud客户合作的过程中，我看到了在建立一个成功的可靠性项目时出现的这些模式。</p><h1 id="03a7" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">建立最低可行的可靠性(MVR)</h1><p id="917c" class="pw-post-body-paragraph iv iw hy ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">大多数较旧的应用程序没有完全设计为云原生应用程序，仍然采用单片设计，但这并不意味着您不能利用Google Cloud提供的额外可靠性。为了充分利用云可靠性计划，您应该确定在云上高度可用的最低要求。这些要求应该等于或高于本地要求。根据您的SLA和组织目标，应为以下主题设置最低配置要求:</p><ul class=""><li id="04fa" class="kw kx hy ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">分区和区域部署</li><li id="3c6b" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">负载平衡流量</li><li id="9336" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">没有单点故障</li><li id="e1a5" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">备份</li><li id="4282" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">高可用性设计</li><li id="454f" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">检测故障</li><li id="9a9b" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">容量管理</li></ul><p id="fcce" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">例如，所有层的负载平衡、应用程序必须是多区域的、计划备份并定义RTO和RPO、在X时间内响应事件、消除瓶颈并预测高峰流量事件。这不是一个详尽的列表，但应该作为例子来确定在Google Cloud上启动的最低可靠性要求。</p><h1 id="2b19" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">拥有顶级可靠应用程序的评分矩阵</h1><p id="3b2f" class="pw-post-body-paragraph iv iw hy ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">为了建立应用程序的长期可靠性模型，应设计一个评分矩阵，以确定可靠性改进的领域。评分应包括基于对公司重要程度的加权指标。这些项目应该包括服务配置的最佳实践。包括设计模式，如负载平衡、水平扩展，以无状态为目标。添加运营流程，如将基础设施用作代码(IaC)、渐进式推广、自动化应急响应，以及消除辛劳。有关评分矩阵中应包含哪些内容的示例的更多详细信息，以下是谷歌最佳实践文档和可靠性文档的示例。</p><ul class=""><li id="d26f" class="kw kx hy ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated"><a class="ae hv" href="https://cloud.google.com/solutions/best-practices-compute-engine-region-selection" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/solutions/best-practices-compute-engine-region-selection</a></li><li id="f7c8" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><a class="ae hv" href="https://cloud.google.com/solutions/scalable-and-resilient-apps" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/solutions/scalable-and-resilient-apps</a></li><li id="a23a" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><a class="ae hv" href="https://cloud.google.com/solutions/disaster-recovery/architecture" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/solutions/灾难恢复/架构</a></li><li id="b6b1" class="kw kx hy ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated"><a class="ae hv" href="https://cloud.google.com/architecture/framework/reliability" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/architecture/framework/reliability</a></li></ul><p id="5124" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">拥有一个评分矩阵的最终结果是确定在你的应用中有多深的可靠性模式，以及如果想要增加它的可靠性，需要进一步改进的领域。</p><h1 id="a78d" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">找到应用程序的真正SLA，而不是观察到的SLA</h1><p id="ecab" class="pw-post-body-paragraph iv iw hy ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我多次听到公司说他们有一个“五个9”的应用程序，但是在审查设计、使用的组件和这些组件的SLA时，数学不可能达到“五个9”(例如，具有相互依赖的组件的单个区域部署)，相反，人们经常提到的是观察到的SLA，这完全是靠运气或一些真正优秀的工程师获得的。</p><p id="d54e" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了确定真正的SLA，请确定每个组件的SLA，然后确定它们是相互依赖还是独立于其他组件。例如，在连接到云SQL的单个区域中使用虚拟机。如果我们用下面的公式完成计算(99.5% * 99.95%) /100，您会看到我们获得了99.45%的SLA。如果我们在不包括全球平衡器的另一个地区将该模型翻倍，数学结果将是这样的100-((100–99.45%)*(100–99.45%))= 99.6975%。</p><p id="4b5b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有无限多的模式可以出现，我在这里的目标是给出如何使用公式来计算实际SLA的例子，以实现应用程序实际构建的可靠性。下表给出了不同服务的平均目标。</p><p id="8408" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">相互依赖公式= (SLA% * SLA%) / 100</p><p id="55e1" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">独立公式= (100-(100-SLA%) * (100-SLA%))</p><figure class="ll lm ln lo fd hk er es paragraph-image"><div class="er es lk"><img src="../Images/22ae311fe7154861af06d33141f9fb06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*y53JrmLZwtbEa0GG2YCMOA.png"/></div></figure><h1 id="6cd0" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">采用现场可靠性工程(SRE)工具</h1><p id="6bf6" class="pw-post-body-paragraph iv iw hy ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">虽然不是所有的公司都可以组建一个完整的SRE团队，但使用SRE提供的方法和工具有很高的价值。SRE提供的两个重要工具是识别应用程序的SLO/SLI和运行风险分析。定义您的SLO/SLI将帮助您理解什么对应用程序的可靠性真正重要。它将确定对您所服务的人重要的指标，而不是服务器一天24小时都在运行(可用性)。看一看<a class="ae hv" href="https://sre.google/sre-book/service-level-objectives/" rel="noopener ugc nofollow" target="_blank">谷歌的SRE图书</a>，以帮助确定SLO/SLI指标。我认为SRE剧本中最后一个非常有效的工具是创建风险分析。此<a class="ae hv" href="https://goo.gl/bnsPj7" rel="noopener ugc nofollow" target="_blank">风险分析表</a>帮助您确定可靠性风险目录，并根据您定义的SLA确定您是否可以在误差预算内接受某些风险。如果你不能接受风险，那么你需要增加你的错误预算或者找到一种方法来消除风险。关于SLO和错误预算的更多信息，请参考<a class="ae hv" href="https://sre.google/workbook/implementing-slos/" rel="noopener ugc nofollow" target="_blank">谷歌的SRE工作手册</a>。</p><h1 id="7f81" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">确定遍布整个公司的可靠性冠军</h1><p id="0e83" class="pw-post-body-paragraph iv iw hy ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">需要可靠性冠军来支持可靠性的执行。它们本质上更接近于应用程序的设计和部署。这些拥护者应该由建筑师、工程师或SRE组成，并且应该知道实现可靠性的最佳实践配置。他们将成为可靠性评分矩阵的成员，以确定最佳可能的解决方案。</p><h1 id="709a" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">为可靠性创建一个治理委员会</h1><p id="e27e" class="pw-post-body-paragraph iv iw hy ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">创建一个治理委员会来建立一个可靠性框架，一套与可靠性相关的规则/流程。这个团队将由工程师和商业领袖组成。他们的唯一职责是管理上面确定的项目，以便将它们融入公司的流程中。流程的执行可以由这个团队来完成，但也可以由可靠性倡导者、产品所有者、架构师和工程师来完成。该机构将建立最低可行可靠性的要求和可靠应用的长期目标。这两个需求都应该与业务目标的结果相一致。</p></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><p id="8150" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然可靠性计划中可以引入许多其他流程和主题，但这些似乎是重复出现的主题。我希望这些概念能够帮助您提高云的可靠性。</p></div></div>    
</body>
</html>