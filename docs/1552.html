<html>
<head>
<title>Big red button for incident response: How to approach security incidents in Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">事件响应的大红色按钮:如何处理云中的安全事件</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/big-red-button-for-incident-response-e17ea72d870f?source=collection_archive---------2-----------------------#2020-08-07">https://medium.com/google-cloud/big-red-button-for-incident-response-e17ea72d870f?source=collection_archive---------2-----------------------#2020-08-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8377" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我遇到了一个难题:在一次安全事故中，一个客户想要一个“大红色按钮”来完全关闭谷歌云平台(GCP)。但是怎么做呢？有没有正确的做法？让我们看看。</p><h1 id="9e7d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">问题是</h1><p id="63e3" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">想象一下，攻击者可以入侵我们的云系统，泄露敏感数据，或者滥用系统发起攻击。我们如何保持控制？我们能关掉GCP吗？它能阻止攻击并控制伤害吗？</p><p id="ae07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">受监管行业中的组织通常认为他们有义务展示这样的控制水平，因此监管机构认为该组织已经完成了尽职调查。如果GCP与内部系统进行通信，并且有可能成为返回内部核心网络的通道，情况尤其如此。</p><p id="b22e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">攻击可以通过许多面向外部的系统进行，如web服务器或内容管理系统(CMS)。其他场景包括泄漏/被盗的SSH密钥或被盗的IAM凭证文件遗留在公共存储库中。这些攻击假设有外力。然而，当我们将内部攻击者加入进来时，风险就增加了。</p><p id="18a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云中的安全性侧重于共享责任模型，该模型被证明是企业利用云技术取得成功的关键。通常，云服务提供商负责保护基础设施，客户负责保护数据和应用程序。谷歌云通过产品和服务帮助您保护您的系统和数据。但是不管你设置了多少防御措施，你都应该为不好的事情发生做好准备。</p><p id="337b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果不幸的事件发生，客户希望保持控制，并认为关闭GCP是一个很好的机制。这难道不能阻止攻击和控制伤害吗？</p><p id="aab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关闭GCP比看起来更困难。首先，我们应该定义“关闭”的真正含义。不同的客户可能有不同的解释，但这可能意味着阻止对资源的访问、隔离系统或破坏资源。让我们更深入地看看这个问题和可能的解决方案。</p><h1 id="7f70" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">技术方面</h1><p id="e6bf" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我们可以用传统的方式来思考这个问题。内部基础架构利用的典型保护之一是网络。就像用户在受到攻击时可能会拔掉计算机的以太网电缆一样，一些公司在检测到他们的系统受到威胁时，可能会立即限制对关键系统和互联网的访问。在GCP，我们可能希望用“ripcord”这样的标签来标记关键的防火墙规则，这样，在紧急情况下，我们可以一次性快速识别并删除这些规则。</p><p id="89f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然这种数字版本的“拉线”可能会阻止流量离开您的系统，但尚不清楚它将如何实施，以及它是否在所有情况下都有帮助。攻击者可能使用公共存储桶或其他托管服务来转储敏感信息，当严格考虑防火墙规则时，这会使安全分析变得复杂。</p><p id="bd93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，在Cloud中，您可以利用Cloud IAM限制访问的便捷性。例如，如果您使用我们的解决方案<a class="ae kg" href="https://cloud.google.com/kms" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> CMEK </em> </a>来管理您的加密密钥，您可以通过撤销CMEK密钥链的IAM权限来有效阻止对您数据的访问。您可以将这一概念类似地应用于其他关键角色。但是，就像上面的防火墙规则示例一样，可能不清楚如何确切地利用IAM来阻止攻击。如果您遭受勒索软件攻击，该攻击的目标是通过加密来阻止数据访问，取消IAM对CMEK的访问将不会帮助您。此外，如果攻击者使用您的平台向其他系统发起DDoS或其他类型的目标攻击，IAM也不会有所帮助。</p><p id="ecee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谷歌云为您提供<a class="ae kg" href="https://cloud.google.com/vpc-service-controls" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> VPC服务控制</em></a><em class="kh">【VPC SC】</em>，它允许定义安全边界，以减轻由于错误配置的访问控制、恶意用户将数据复制到未经授权的云资源以及攻击者试图从互联网访问GCP资源中的敏感数据而导致的数据泄露风险。VPC SC是增强您的安全状况的强大机制，我鼓励您探索如何在您的环境中使用它。提醒一句，VPC供应链不是一个简单的解决方案，需要在架构阶段采用。假设我们已经受到攻击的情况，在事实发生后应用VPC SC是不现实的。</p><p id="2484" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了VPC SC之外，你还可以在实践中使用更多更激烈的机制。在云原生环境中，代码为<em class="kh">的<em class="kh">基础设施用于管理您的部署，您可以考虑自动化一切，只需按一下按钮即可移除所有资源，允许以后重新部署。请注意，该解决方案严格地指的是基础设施，而不是会丢失的实时数据。</em></em></p><p id="8f95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能已经意识到，没有单一的解决方案，因为每种情况都需要不同的方法，或者它们的组合，以适应特定的环境。一种解决方案可能会引发一种机制，这种机制不仅不能解决问题，而且还隐藏或破坏了真实发生的证据，使您暴露无遗。更糟糕的是，一些解决方案可能会影响未来的业务。阻止客户端访问服务、失去对您系统的控制或访问可能会对您的商业信誉产生负面影响，这种影响可能比攻击本身更严重。</p><p id="8731" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请记住，在创建安全程序时，您应该确保数据的机密性、完整性和可用性。到目前为止讨论的有限机制可能有助于保护您的系统，但仍有许多未解决的问题:</p><ul class=""><li id="0017" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">您应该计划应对什么类型的事件或攻击？你不能保护你不知道的东西。</li><li id="649f" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">您如何识别和限定事件？</li><li id="468a" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">决定是否应该应用解决方案的流程是什么？</li><li id="40a0" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在事故期间，您将如何保护您的系统和数据？</li><li id="3a42" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">你将如何恢复？</li><li id="6f23" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">您能否满足法规和合规性要求？</li></ul><p id="e081" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你管理事件的唯一工具是一个大红色按钮，你最终会按下它。这样，你的按钮可能会成为攻击者武器化的完美工具，也是让你的公司上头条的最快方法。</p><p id="9cc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了避免“大红色按钮计划”的灾难性后果，您应该有一个有效的<em class="kh">事件响应计划</em>。该计划利用系统、团队和流程来管理安全事件。定义此计划时，应考虑前面的问题及更多问题:</p><ul class=""><li id="48f6" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">你将如何进行法医分析？</li><li id="9c22" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">应该有哪些团队参与，他们将如何协调？</li><li id="2d13" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">您将如何向客户传达这一事件？</li><li id="56a6" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">你如何从事件中吸取教训并改进？</li></ul><p id="7c1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">投资一项计划将使您在安全事故发生时处于更有利的位置来管理安全事故，降低相关风险，并提高您的信心和安全态势。</p><p id="26b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Google有一个严格的事件响应流程，分为以下几个阶段:</p><ul class=""><li id="f19a" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">身份证明。这一阶段的重点是监控安全事件，以检测潜在的漏洞和事件，并向事件响应小组报告。</li><li id="3eeb" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">协调。当报告事故时，将进行分类，以评估事故的性质和严重性，并在需要时让响应团队参与。</li><li id="aa01" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">分辨率。在此阶段，我们将调查根本原因，解决当前的安全问题(如果有)，并协调控制和恢复任务。如果需要，还会制定沟通计划。</li><li id="3c08" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">关闭和持续改进。我们分析每个事件以获得新的见解并吸取教训，从而为我们的整体安全改进我们的工具、培训和流程。</li></ul><p id="18f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这份<a class="ae kg" href="https://services.google.com/fh/files/misc/data_incident_response_2018.pdf" rel="noopener ugc nofollow" target="_blank">白皮书</a>中，你可以更深入地了解谷歌的事件响应方法。</p><h1 id="4db3" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">心理方面</h1><p id="5584" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">我们已经讨论了处理事件时遇到的挑战。如前所述，从技术上讲，最好的方法是制定一个事件响应计划来管理这些情况。然而，有一个合适的计划并不容易。投资计划的成功需要时间、努力、资源、合格人员和cxo的承诺。在这种情况下，一些客户可能会认为有一个大红色按钮比没有按钮更安全。我们已经讨论了为什么这不是一个好主意的技术原因。但是这个问题不仅仅是一个技术问题；也是心理上的。</p><p id="b062" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">布鲁斯·施奈尔<a class="ae kg" href="https://www.schneier.com/blog/archives/2008/04/the_feeling_and_1.html" rel="noopener ugc nofollow" target="_blank">写道</a>:<em class="kh">安全既是一种感觉，也是一种现实，它们是不同的。即使你没有安全感，你也能感到安全；即使你没有安全感，你也能感到安全。</em>“遗憾的是，有时人们做出决定是基于安全感，而不是安全感的实际情况。当安全感与现实不符时，感觉可能会成为敌人。</p><p id="ab91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设您发现系统上的恶意行为或数据遭到破坏。你没有事件响应计划，也没有关于攻击和发生了什么的大量信息。但是你有那个按钮。在这种情况下，你在拿自己的生意冒险，这是一种情绪过山车，尤其是在没有计划的情况下。</p><p id="5ce2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能会觉得按下按钮更安全。你知道这样做有风险，但许多人更喜欢已知的风险，而不是未知的风险。我们<em class="kh">根据几个因素感知</em>风险，比如(不)熟悉和恐惧；我们将较高的风险分配给新的和不为人所知的威胁。当我们必须在压力下做出快速决策时，这种感知风险的现象更加明显。我们不禁会对各种选择产生情绪反应。这很有可能导致不恰当的决策。</p><h1 id="7635" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="c196" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">安全事故和如何响应会产生许多后果。如果您彻底评估过去的事件并考虑未来的威胁，您可以改进您的安全状况。您应该有一个事件响应计划，包括几个组成部分。首先，包括书面流程和具体程序，以便在各种情况下遵循。第二，培训你的员工遵守流程和程序。当他们必须执行时提供支持，最后，完成回顾以从经验中学习。你的最终目标是提前计划以确保安全！</p></div></div>    
</body>
</html>