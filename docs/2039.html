<html>
<head>
<title>Apache APISIX Integrates with Google Cloud Logging to Improve Log Processing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache APISIX与Google Cloud Logging集成，以改进日志处理</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/apache-apisix-integrates-with-google-cloud-logging-to-improve-log-processing-c638f4c7fa0f?source=collection_archive---------0-----------------------#2021-12-22">https://medium.com/google-cloud/apache-apisix-integrates-with-google-cloud-logging-to-improve-log-processing-c638f4c7fa0f?source=collection_archive---------0-----------------------#2021-12-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/da8151b60488fb69cc40fae9160db2ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXDBF95LYH59p6JeYAxWpg.png"/></div></div></figure><p id="970e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">日志记录是分布式系统的重要基础设施。可以帮助开发者观察服务运行的状态，提高服务故障排查和诊断的效率，进行多维度分析，提高系统的整体稳定性和运行效率。</p><p id="abd2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://cloud.google.com/logging/" rel="noopener ugc nofollow" target="_blank"> Google Cloud Logging </a>是Google Cloud提供的实时日志管理服务，提供EB级的存储、搜索、分析、告警服务。Google Cloud Logging的日志浏览器可以让您轻松高效地搜索、排序和分析日志，Google Cloud Logging还提供了保存的查询和丰富的图形功能，使日志筛选结果可检索且更加直观。</p><p id="8664" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Apache APISIX此前已经支持集成<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/http-logger.md" rel="noopener ugc nofollow" target="_blank"> HTTP Logger </a>、<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/tcp-logger.md" rel="noopener ugc nofollow" target="_blank"> TCP Logger </a>、<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/kafka-logger.md" rel="noopener ugc nofollow" target="_blank"> Kafka Logger </a>、<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/udp-logger.md" rel="noopener ugc nofollow" target="_blank"> UDP Logger </a>、<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/rocketmq-logger.md" rel="noopener ugc nofollow" target="_blank"> RocketMQ Logger </a>、<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/skywalking-logger.md" rel="noopener ugc nofollow" target="_blank"> SkyWalking Logger </a>、<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/sls-logger.md" rel="noopener ugc nofollow" target="_blank">阿里云云日志(SLS) </a>等众多开源和云日志服务解决方案。</p><p id="ab0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近，Apache APISIX还增加了对Google Cloud Logging的支持，为用户在使用Apache APISIX作为网关时提供了新的日志解决方案:使用<a class="ae jo" href="https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/google-cloud-logging.md" rel="noopener ugc nofollow" target="_blank"> google-cloud-logging </a>将Apache APISIX请求日志转发到Google Cloud Logging服务进行分析和存储。</p><p id="d224" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当插件启用时，Apache APISIX将在日志阶段获取请求上下文信息，并将其序列化为Google Cloud Logging的<a class="ae jo" href="https://cloud.google.com/logging/docs/reference/v2/rest/v2/LogEntry" rel="noopener ugc nofollow" target="_blank"> LogEntry </a>，然后将序列化的日志数据提交给批处理队列，当批处理队列触发用户设置的时间或条目阈值时，日志数据将通过Google Cloud API转发给Google Cloud Logging service。</p><p id="7f17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文将解释如何在Apache APISIX中配置和使用Google Cloud Logging服务。</p><h1 id="e7ae" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">配置谷歌云</h1><ul class=""><li id="5a69" class="kn ko hi is b it kp ix kq jb kr jf ks jj kt jn ku kv kw kx bi translated">打开浏览器，访问<a class="ae jo" href="https://console.cloud.google.com/home/dashboard" rel="noopener ugc nofollow" target="_blank">谷歌云主页</a>。</li><li id="2b7e" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn ku kv kw kx bi translated">输入您的用户名和密码以登录Google Cloud控制台。</li><li id="839e" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn ku kv kw kx bi translated">点击Google Cloud控制台左侧菜单，选择“IAM &amp; Admin &gt;创建项目”开始创建项目。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/fcdfff5326c8837179194ab05755bbc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qSyEWFBGTHLgN45e"/></div></div></figure><ul class=""><li id="2aff" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">输入项目名称，选择组织名称，然后单击“创建”创建项目。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/431b808ad3d2f24dd6758fb60d022994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WaY35S1Pb5lHChEr"/></div></div></figure><ul class=""><li id="acf6" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">成功创建项目后，控制台的右上角会显示创建成功。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/ac1407ee5dfa38d91aecc3e04e6441e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TQafJZSLfB6wIbrw"/></div></div></figure><ul class=""><li id="75ed" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">在窗口中单击选择项目，或者在控制台主页的顶部导航栏中选择项目操作路径。选择项目后，您将被重定向到控制台主页，在这里您已经可以在顶部导航栏中看到有关当前项目的数据，并在信息中心中看到项目信息。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/3c1d89e4c2abc910f7b1b9a2bee7bfee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pZqC3RNVaykOX6gO"/></div></div></figure><ul class=""><li id="52fe" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">创建完项目后，您需要为项目创建一个服务帐户。请返回Google Cloud console主页，点击左侧菜单中的“IAM &amp; Admin &gt;服务帐户”,开始创建服务帐户。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/f20adbad8a70bf366a569dab44bae2c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ntsiu8_i_NJGI4y7"/></div></div></figure><ul class=""><li id="c24a" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">单击“创建服务帐户”创建服务帐户。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/41e7a2efced0b356b8645f23966f4f83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b30WYSOogInB3ciu"/></div></div></figure><ul class=""><li id="8908" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">输入服务帐户名和ID(ID通常跟在帐户生成之后)，然后单击“创建并继续”。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/059aa0d7f656ea15cd694a714a55693c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4kQpqFjuobZV2mTw"/></div></div></figure><ul class=""><li id="8ce8" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">单击“Role ”,在搜索框中键入“Logging Admin ”,搜索该角色，并选择“Logging Admin”作为角色。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/1089525424a516118baf7f20e56f53ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4B_Xmz-0tz3juixK"/></div></div></figure><p id="46c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">单击“完成”以完成服务帐户创建，并跳转到服务帐户主页。此时，您可以在列表中看到您刚刚创建的帐户及其详细信息。</p><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/a4ab64f409db87be4d4cb307e23f882c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ao9WbHFLc9gfhg1-"/></div></div></figure><ul class=""><li id="9527" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">点击服务账号最后一栏的“管理密钥”进入密钥管理界面。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/dc37d9e8109e4df08a7900bef593e1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OPV9IZI8b0wj0Yvg"/></div></div></figure><ul class=""><li id="6d56" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">点按“添加密钥”&gt;“创建新密钥”以开始创建新的密钥。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/4eb23f920a820c49de5ed8c79150d217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RbSD73PSEK1yY6do"/></div></div></figure><ul class=""><li id="ab04" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">在弹出的页面中选择密钥类型为“JSON”，然后点击“创建”创建一个新的密钥。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/f9f0e26c02dbca129b73f6c33ce67e1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*krPjJ9BMGkZOgDRj"/></div></div></figure><ul class=""><li id="f8bc" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn ku kv kw kx bi translated">私钥信息将通过您的浏览器自动下载到系统默认下载目录。当您启用google-cloud-logging插件时，您需要使用此私钥中的信息，因此请保存私钥文件。</li></ul><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/f48a9240fdeef3bf49f576f223598d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0bdJ6NxSItrRBU-9"/></div></div></figure><h1 id="5837" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">配置Apache APISIX</h1><h2 id="1bfd" class="lw jq hi bd jr lx ly lz jv ma mb mc jz jb md me kd jf mf mg kh jj mh mi kl mj bi translated">启用谷歌云日志插件</h2><p id="432c" class="pw-post-body-paragraph iq ir hi is b it kp iv iw ix kq iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hb bi translated"><strong class="is hj">选项1:上传密钥文件配置</strong></p><ol class=""><li id="dd98" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn mn kv kw kx bi translated">将私钥文件上传到Apache APISIX节点服务器。</li><li id="9965" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn mn kv kw kx bi translated">配置<code class="du mo mp mq mr b">google-cloud-logging. auth_file</code>配置项的文件路径。</li></ol><pre class="le lf lg lh fd ms mr mt mu aw mv bi"><span id="2552" class="lw jq hi mr b fi mw mx l my mz">curl <a class="ae jo" href="http://127.0.0.1:9080/apisix/admin/routes/1" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:9080/apisix/admin/routes/1</a>  -H 'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1' -X PUT -d '</span><span id="06b4" class="lw jq hi mr b fi na mx l my mz">{</span><span id="56ea" class="lw jq hi mr b fi na mx l my mz">    "uri":"/logging.do",</span><span id="1c04" class="lw jq hi mr b fi na mx l my mz">    "upstream":{</span><span id="7e1c" class="lw jq hi mr b fi na mx l my mz">        "type":"roundrobin",</span><span id="819b" class="lw jq hi mr b fi na mx l my mz">        "nodes":{</span><span id="e6d4" class="lw jq hi mr b fi na mx l my mz">            "127.0.0.1:1980":1</span><span id="7415" class="lw jq hi mr b fi na mx l my mz">        }</span><span id="724f" class="lw jq hi mr b fi na mx l my mz">    },</span><span id="0c70" class="lw jq hi mr b fi na mx l my mz">    "plugins":{</span><span id="d57f" class="lw jq hi mr b fi na mx l my mz">        "google-cloud-logging":{</span><span id="e902" class="lw jq hi mr b fi na mx l my mz">            // Google Cloud Logging Private Key File</span><span id="b277" class="lw jq hi mr b fi na mx l my mz">            "auth_file":"/path/to/apache-apisix-fcafc68c2f41.json",</span><span id="a473" class="lw jq hi mr b fi na mx l my mz">            // Maximum number of entries per batch queue.</span><span id="2b56" class="lw jq hi mr b fi na mx l my mz">            "batch_max_size": 1,</span><span id="5475" class="lw jq hi mr b fi na mx l my mz">            // Maximum time to refresh the buffer in seconds.</span><span id="9460" class="lw jq hi mr b fi na mx l my mz">            "inactive_timeout": 10</span><span id="7cf9" class="lw jq hi mr b fi na mx l my mz">        }</span><span id="84b6" class="lw jq hi mr b fi na mx l my mz">    }</span><span id="e0e4" class="lw jq hi mr b fi na mx l my mz">}'</span></pre><p id="88da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">选项2:在JSON中声明配置</strong></p><ol class=""><li id="970d" class="kn ko hi is b it iu ix iy jb li jf lj jj lk jn mn kv kw kx bi translated">打开私钥文件。</li><li id="6685" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn mn kv kw kx bi translated">将“项目标识”的值配置为<code class="du mo mp mq mr b">google-cloud-logging. auth_config.project_id</code>。</li><li id="ebc3" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn mn kv kw kx bi translated">将“私有密钥”的值配置为<code class="du mo mp mq mr b">google-cloud-logging. auth_config. private_key</code>。</li></ol><pre class="le lf lg lh fd ms mr mt mu aw mv bi"><span id="f610" class="lw jq hi mr b fi mw mx l my mz">curl <a class="ae jo" href="http://127.0.0.1:9080/apisix/admin/routes/1" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:9080/apisix/admin/routes/1</a>  -H 'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1' -X PUT -d '</span><span id="7383" class="lw jq hi mr b fi na mx l my mz">{</span><span id="ba00" class="lw jq hi mr b fi na mx l my mz">    "uri":"/logging.do",</span><span id="2b41" class="lw jq hi mr b fi na mx l my mz">    "upstream":{</span><span id="16f4" class="lw jq hi mr b fi na mx l my mz">        "type":"roundrobin",</span><span id="a846" class="lw jq hi mr b fi na mx l my mz">        "nodes":{</span><span id="f5e4" class="lw jq hi mr b fi na mx l my mz">            "127.0.0.1:1980":1</span><span id="99c6" class="lw jq hi mr b fi na mx l my mz">        }</span><span id="7c8c" class="lw jq hi mr b fi na mx l my mz">    },</span><span id="b8f4" class="lw jq hi mr b fi na mx l my mz">    "plugins":{</span><span id="dd53" class="lw jq hi mr b fi na mx l my mz">        "google-cloud-logging":{</span><span id="3ed1" class="lw jq hi mr b fi na mx l my mz">            // Google Cloud Logging Private Key File</span><span id="9768" class="lw jq hi mr b fi na mx l my mz">            "auth_config":{</span><span id="380a" class="lw jq hi mr b fi na mx l my mz">            "project_id":"apache-apisix",</span><span id="c9c4" class="lw jq hi mr b fi na mx l my mz">            "private_key":"-----BEGIN RSA PRIVATE KEY-----your private key-----END RSA PRIVATE KEY-----"</span><span id="f426" class="lw jq hi mr b fi na mx l my mz">             },</span><span id="08bb" class="lw jq hi mr b fi na mx l my mz">            // Maximum number of entries per batch queue.</span><span id="3183" class="lw jq hi mr b fi na mx l my mz">            "batch_max_size": 1,</span><span id="47ef" class="lw jq hi mr b fi na mx l my mz">            // Maximum time to refresh the buffer in seconds.</span><span id="e0c8" class="lw jq hi mr b fi na mx l my mz">            "inactive_timeout": 10</span><span id="927c" class="lw jq hi mr b fi na mx l my mz">        }</span><span id="9503" class="lw jq hi mr b fi na mx l my mz">    }</span><span id="ff4c" class="lw jq hi mr b fi na mx l my mz">}'</span></pre><p id="29e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">参数</strong></p><p id="2e80" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">插件参数可以在<a class="ae jo" href="https://apisix.apache.org/blog/2021/12/22/google-logging/#parameters" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h2 id="c1a2" class="lw jq hi bd jr lx ly lz jv ma mb mc jz jb md me kd jf mf mg kh jj mh mi kl mj bi translated">验证插件运行正常</h2><ol class=""><li id="1d07" class="kn ko hi is b it kp ix kq jb kr jf ks jj kt jn mn kv kw kx bi translated">运行以下命令向Google Cloud Logging发送请求。</li><li id="790a" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn mn kv kw kx bi translated">打开浏览器，访问<a class="ae jo" href="https://console.cloud.google.com/home/dashboard" rel="noopener ugc nofollow" target="_blank">谷歌云主页</a>。</li><li id="e4e0" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn mn kv kw kx bi translated">输入您的用户名和密码以登录Google Cloud控制台。</li><li id="eaea" class="kn ko hi is b it ky ix kz jb la jf lb jj lc jn mn kv kw kx bi translated">查看通过日志浏览器发送的请求日志，返回的结果如下所示。</li></ol><pre class="le lf lg lh fd ms mr mt mu aw mv bi"><span id="5669" class="lw jq hi mr b fi mw mx l my mz">curl -i http://127.0.0.1:9080/logging.do</span><span id="e401" class="lw jq hi mr b fi na mx l my mz">HTTP/1.1 200 OK</span><span id="1118" class="lw jq hi mr b fi na mx l my mz">Content-Type: text/html; charset=utf-8</span><span id="b1ab" class="lw jq hi mr b fi na mx l my mz">Transfer-Encoding: chunked</span><span id="a508" class="lw jq hi mr b fi na mx l my mz">Connection: keep-alive</span><span id="c21d" class="lw jq hi mr b fi na mx l my mz">Date: Fri, 10 Dec 2021 09:57:52 GMT</span><span id="9c78" class="lw jq hi mr b fi na mx l my mz">Server: APISIX/2.11.0</span><span id="64d7" class="lw jq hi mr b fi na mx l my mz">Hello, Google Cloud Logging</span></pre><figure class="le lf lg lh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/e8cf821755371ec204faf787e64f895f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*v89XesoC3Wvpxsu6"/></div></div></figure><h2 id="8c34" class="lw jq hi bd jr lx ly lz jv ma mb mc jz jb md me kd jf mf mg kh jj mh mi kl mj bi translated">禁用谷歌云日志插件</h2><p id="aedd" class="pw-post-body-paragraph iq ir hi is b it kp iv iw ix kq iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hb bi translated">如果您使用完插件，您可以移除<code class="du mo mp mq mr b">google-cloud-logging</code>相关的配置块来停用插件。</p><pre class="le lf lg lh fd ms mr mt mu aw mv bi"><span id="3300" class="lw jq hi mr b fi mw mx l my mz">curl <a class="ae jo" href="http://127.0.0.1:9080/apisix/admin/routes/1" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:9080/apisix/admin/routes/1</a>  -H 'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1' -X PUT -d '</span><span id="571b" class="lw jq hi mr b fi na mx l my mz">{</span><span id="3413" class="lw jq hi mr b fi na mx l my mz">    "uri":"/logging.do",</span><span id="3f9c" class="lw jq hi mr b fi na mx l my mz">    "upstream":{</span><span id="abc0" class="lw jq hi mr b fi na mx l my mz">        "type":"roundrobin",</span><span id="1a69" class="lw jq hi mr b fi na mx l my mz">        "nodes":{</span><span id="261d" class="lw jq hi mr b fi na mx l my mz">            "127.0.0.1:1980":1</span><span id="a9bb" class="lw jq hi mr b fi na mx l my mz">        }</span><span id="4abf" class="lw jq hi mr b fi na mx l my mz">    },</span><span id="72b3" class="lw jq hi mr b fi na mx l my mz">    "plugins":{</span><span id="bcaf" class="lw jq hi mr b fi na mx l my mz">    }</span><span id="b3b1" class="lw jq hi mr b fi na mx l my mz">}'</span></pre><h1 id="8d03" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">摘要</h1><p id="0e19" class="pw-post-body-paragraph iq ir hi is b it kp iv iw ix kq iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hb bi translated">本文描述了连接Apache APISIX和Google Cloud Logging的详细步骤。我们希望这篇文章能让你对在Apache APISIX中使用Google Cloud Logging有一个更清晰的认识，方便后续的动手操作。</p><p id="cdcf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Apache APISIX不仅致力于保持自身的高性能，也一直非常重视开源生态的建设。目前，Apache APISIX拥有10+个日志相关插件，支持与业界主流开源日志项目接口。</p><p id="174b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您需要与其他日志进行交互，请访问Apache APISIX的<a class="ae jo" href="https://github.com/apache/apisix/issues" rel="noopener ugc nofollow" target="_blank"> GitHub </a>并通过issue留下您的建议；或者订阅Apache APISIX <a class="ae jo" href="https://apisix.apache.org/zh/docs/general/subscribe-guide" rel="noopener ugc nofollow" target="_blank">邮件列表</a>，通过邮件表达自己的想法。</p></div></div>    
</body>
</html>