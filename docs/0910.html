<html>
<head>
<title>How to set up Anaconda under Google Cloud VM and transfer files on Windows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Google Cloud VM下设置Anaconda并在Windows上传输文件</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/set-up-anaconda-under-google-cloud-vm-on-windows-f71fc1064bd7?source=collection_archive---------0-----------------------#2019-02-08">https://medium.com/google-cloud/set-up-anaconda-under-google-cloud-vm-on-windows-f71fc1064bd7?source=collection_archive---------0-----------------------#2019-02-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b20c815c5186d583a98fb383e2cc47f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lyGHwLeJ3QiCG43PA5395g.png"/></div></div></figure><div class=""/><p id="fd00" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本文将介绍设置Google Cloud Linux VM实例的整个过程，以便在Windows平台上安装用于Python开发和传输文件的Anaconda。</p><h1 id="98c7" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">先决条件:</h1><ul class=""><li id="53fa" class="km kn ht is b it ko ix kp jb kq jf kr jj ks jn kt ku kv kw bi translated">谷歌账户(当然你需要这个开始)</li><li id="72a3" class="km kn ht is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">谷歌云平台项目(<a class="ae lc" href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" rel="noopener ugc nofollow" target="_blank">查看快速入门教程</a>)</li><li id="c7e9" class="km kn ht is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">Google Cloud Linux VM ( <a class="ae lc" href="https://cloud.google.com/compute/docs/quickstart-linux" rel="noopener ugc nofollow" target="_blank">查看快速入门教程</a>)</li><li id="558f" class="km kn ht is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated"><a class="ae lc" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" rel="noopener ugc nofollow" target="_blank"> PuttyGen </a>(为虚拟机实例生成SSH密钥的工具)</li><li id="b822" class="km kn ht is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated"><a class="ae lc" href="https://winscp.net/eng/download.php" rel="noopener ugc nofollow" target="_blank"> WinSCP </a>(从/向VM实例传输文件的简单GUI)</li></ul><blockquote class="ld le lf"><p id="e90e" class="iq ir lg is b it iu iv iw ix iy iz ja lh jc jd je li jg jh ji lj jk jl jm jn hb bi translated"><strong class="is hu"> <em class="ht">注:</em> </strong> <em class="ht">我假设你已经创建了一个google cloud项目，并创建了一个VM实例。</em></p></blockquote><h1 id="a300" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">安装Anaconda</h1><p id="b058" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">首先，我们通过SSH启动并连接到VM实例</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ln"><img src="../Images/e4df85f5764e1fa2dc9e3020e1609170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5RzN4rfQt7yzt2q78v3Fg.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">从Google云平台通过SSH连接到虚拟机</figcaption></figure><p id="a57f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们应该会看到下面的屏幕。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es lw"><img src="../Images/d07147b4905f11b4c970d5901991d5a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*IHESj_vM7sZMRv6R6Jk-QA.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">来自SSH终端的系统消息</figcaption></figure><p id="3031" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们运行以下命令来更新Anaconda的系统包和核心依赖项。</p><ul class=""><li id="f91b" class="km kn ht is b it iu ix iy jb lx jf ly jj lz jn kt ku kv kw bi translated">bzip2，安装迷你/蟒蛇</li><li id="73a8" class="km kn ht is b it kx ix ky jb kz jf la jj lb jn kt ku kv kw bi translated">libxml2-dev，安装更多的Python库</li></ul><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="7963" class="mf jp ht mb b fi mg mh l mi mj">$ sudo apt-get update<br/>$ sudo apt-get install bzip2 libxml2-dev</span></pre><p id="1ce6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">安装更轻的Miniconda分配</strong></p><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="f829" class="mf jp ht mb b fi mg mh l mi mj">$ wget <a class="ae lc" href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</a><br/>$ bash Miniconda3-latest-Linux-x86_64.sh<br/>$ rm Miniconda3-latest-Linux-x86_64.sh<br/>$ source .bashrc<br/>$ conda install scikit-learn pandas jupyter ipython</span></pre><p id="65f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">安装一个完整的Anaconda发行版</strong></p><p id="7791" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们首先下载Anaconda的最新版本。</p><blockquote class="ld le lf"><p id="b5f6" class="iq ir lg is b it iu iv iw ix iy iz ja lh jc jd je li jg jh ji lj jk jl jm jn hb bi translated">下面的链接是写这篇文章时Anaconda的最新版本，请查看最新版本:<a class="ae lc" href="https://www.anaconda.com/distribution/#linux" rel="noopener ugc nofollow" target="_blank">https://www.anaconda.com/distribution/#linux</a></p></blockquote><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="0336" class="mf jp ht mb b fi mg mh l mi mj">$ wget <a class="ae lc" href="https://repo.anaconda.com/archive/Anaconda3-2018.12-Linux-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo.anaconda.com/archive/Anaconda3-2018.12-Linux-x86_64.sh</a></span></pre><p id="2b96" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后运行shell脚本。</p><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="fe43" class="mf jp ht mb b fi mg mh l mi mj">$ bash Anaconda3–2018.12-Linux-x86_64.sh</span></pre><p id="b35a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装完成后，我们可以删除shell脚本以节省磁盘空间。</p><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="f3bc" class="mf jp ht mb b fi mg mh l mi mj">$ rm Anaconda3–2018.12-Linux-x86_64.sh</span></pre><p id="44ca" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们重新初始化shell以识别conda命令。</p><blockquote class="ld le lf"><p id="4cfe" class="iq ir lg is b it iu iv iw ix iy iz ja lh jc jd je li jg jh ji lj jk jl jm jn hb bi translated">这将在同一个shell上下文中加载和执行它的内容。结果和把<code class="du mk ml mm mb b">.bashrc</code>的内容放到<code class="du mk ml mm mb b">.bash_profile</code>里是一样的。</p></blockquote><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="2020" class="mf jp ht mb b fi mg mh l mi mj">$ source .bahsrc</span></pre><p id="a5b6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者更简短的版本</p><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="2b84" class="mf jp ht mb b fi mg mh l mi mj">$ . ~/.bashrc</span></pre><p id="431a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">验证所有东西都安装正确。</p><pre class="lo lp lq lr fd ma mb mc md aw me bi"><span id="8741" class="mf jp ht mb b fi mg mh l mi mj">$ python --version<br/>$ which python<br/>$ which conda<br/>$ conda list conda$</span></pre><figure class="lo lp lq lr fd hk er es paragraph-image"><div class="er es mn"><img src="../Images/1546b317eaf09eca4df6dbe4cdf0b793.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*vyRvcvnuho_K0kNFP1wNnw.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">Miniconda是作为一个例子安装的</figcaption></figure><p id="8f2e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在有了一个安装了Anaconda的工作Python环境:)</p><h1 id="23ac" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">在Windows上传输文件</h1><h2 id="d148" class="mf jp ht bd jq mo mp mq ju mr ms mt jy jb mu mv kc jf mw mx kg jj my mz kk na bi translated">生成SSH密钥</h2><p id="0346" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">启动PuttyGen，点击<strong class="is hu">生成。</strong>我们需要在@之前将关键评论改为我们的谷歌用户名(例如<strong class="is hu">用户名</strong> @gmail.com，那么关键评论就是<strong class="is hu">用户名</strong>)</p><div class="lo lp lq lr fd ab cb"><figure class="nb hk nc nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/d5226bbcb3d36c9d40674a160c7acb4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*KY7o3K0m3UP5hQORkNmJJg.png"/></div></figure><figure class="nb hk nh nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/b2c863ccadf707a345ae01319779fc6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*aPlX0rzsOcvyQPOzFryeMg.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx ni di nj nk translated">生成一个密钥，并将私钥和公钥保存到所需的目录。</figcaption></figure></div><p id="45dc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进入<strong class="is hu">谷歌云平台</strong> &gt; <strong class="is hu">元数据</strong> &gt; <strong class="is hu"> SSH密钥</strong></p><blockquote class="ld le lf"><p id="145b" class="iq ir lg is b it iu iv iw ix iy iz ja lh jc jd je li jg jh ji lj jk jl jm jn hb bi translated">您可能会看到一些SSH密钥已经存在，这些是默认的SSH密钥，允许您从Google云平台(浏览器)访问虚拟机实例。</p></blockquote><div class="lo lp lq lr fd ab cb"><figure class="nb hk nl nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/35b909a677ad0bb8da290c6bf872b08d.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*3BkFM3wmU4_wZzNPPL4w_w.png"/></div></figure><figure class="nb hk nm nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/7ea07eb4f7e7e145fd16fdf51ff8a761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*TVNCgOzl2eGu9Wf-MePGNg.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx nn di no nk translated">SSH密钥表</figcaption></figure></div><p id="5e09" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们从PuttyGen复制公钥并粘贴到<em class="lg"> &lt;中，输入完整的密钥数据&gt; </em>，然后保存。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es np"><img src="../Images/084bc096450e436c30aa4e23530cf517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ooaQ93u0odeFMHtICpYYkg.png"/></div></div></figure><h2 id="4668" class="mf jp ht bd jq mo mp mq ju mr ms mt jy jb mu mv kc jf mw mx kg jj my mz kk na bi translated">支持虚拟机和Windows之间的文件传输</h2><p id="3e28" class="pw-post-body-paragraph iq ir ht is b it ko iv iw ix kp iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">现在我们启动WinSCP，在登录窗口的用户名字段中输入我们的<strong class="is hu">虚拟机的外部IP </strong> <strong class="is hu">地址</strong>为主机名，输入我们的<strong class="is hu">用户名</strong>(在@ gmail.com之前)。点击<strong class="is hu">高级…</strong>&gt;<strong class="is hu">SSH</strong>&gt;<strong class="is hu">认证</strong>上传我们之前保存的私钥文件。</p><div class="lo lp lq lr fd ab cb"><figure class="nb hk nq nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/fa473e6d8bb12232d14ab25cc71d3d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*b2JXXOfAELx2FQusTy7a_g.png"/></div></figure><figure class="nb hk nr nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/cb779695ecd736b1872992b8ae3ba8a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*g7urEwlq3Wi7ApmXDljuPg.png"/></div><figcaption class="ls lt et er es lu lv bd b be z dx ns di nt nk translated">WinSCP登录窗口</figcaption></figure></div><p id="4d76" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们有了一个FTP GUI，允许在两个系统之间传输文件。</p><figure class="lo lp lq lr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nu"><img src="../Images/a724270728e50f0bcb5951b9676e6cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BraX0qKKRAMs63HuBi0ysg.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">WinSCP FTP GUI</figcaption></figure><h1 id="dc43" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">参考</h1><ol class=""><li id="d0f2" class="km kn ht is b it ko ix kp jb kq jf kr jj ks jn nv ku kv kw bi translated"><a class="ae lc" href="https://unix.stackexchange.com/questions/182219/what-does-bashrc-command-do" rel="noopener ugc nofollow" target="_blank">https://UNIX . stack exchange . com/questions/182219/what-does-bashrc-command-do</a></li></ol></div></div>    
</body>
</html>