<html>
<head>
<title>A to Z of Google Cloud Platform a personal selection — V — VPNs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台的a到Z个人精选—V—VPN</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-v-vpns-a8ba8471f37b?source=collection_archive---------0-----------------------#2016-05-15">https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-v-vpns-a8ba8471f37b?source=collection_archive---------0-----------------------#2016-05-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="447c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在别人说什么之前，我知道我又回到了网络中:-)！</p><p id="88cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">能够从您自己的网络安全地访问您的GCP资源是一个常见的要求，要做到这一点，您通常会在您的场所(从现在开始，我将把这一端称为本地)和GCP之间设置一个VPN。</p><p id="65d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GCP提供<a class="ae jd" href="https://cloud.google.com/compute/docs/vpn/overview" rel="noopener ugc nofollow" target="_blank">云VPN </a>，允许你建立<a class="ae jd" href="https://wikipedia.org/wiki/IPsec" rel="noopener ugc nofollow" target="_blank">IPsec</a>T4】VPN连接。在两个网络之间传输的流量由一个VPN网关加密，然后由另一个VPN网关解密</p><p id="3d1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以及将您的网络连接到GCP网络。你还可以使用云VPN将不同地区的<a class="ae jd" href="https://cloud.google.com/compute/docs/networks-and-firewalls#networks" rel="noopener ugc nofollow" target="_blank"> GCP网络</a>连接在一起。</p><p id="e286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我不打算详述配置VPN的细节和您可以拥有的排列，因为文档已经清楚地列出，请参见<a class="ae jd" href="https://cloud.google.com/compute/docs/vpn/creating-vpns" rel="noopener ugc nofollow" target="_blank">此处的</a>了解详细的设置说明，但在较高层次上，步骤如下:</p><ol class=""><li id="a3a6" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">确定您的GCP网络配置，即哪个区域、多少个子网。</li><li id="43b0" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">决定您需要多少个隧道(如果您确实需要一个以上的隧道(通常用于冗余，请注意，额外的隧道必须指向不同的本地网关。)</li><li id="36a7" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">确保您有本地硬件网关的详细信息</li><li id="16ab" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">创建GCP VPN网关</li><li id="8742" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">设置防火墙规则</li><li id="4c7b" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">设置您的本地网关详细信息(对等方)</li></ol><p id="1496" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是两个直接来自文档的示例图，展示了云VPN配置的样子。简单的1:1设置和具有冗余通道的设置。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es js"><img src="../Images/0ac4546dc5ac2c467813189587794673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*uZNfeZ_Kv-I2xJ8-iVfNNQ.png"/></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es ka"><img src="../Images/6c876c4bb979015220586cc6f57012bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*ZjpDknAuS4pWr-vUCr9o-Q.png"/></div></figure><p id="785d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，一切都很简单(如果你对网络感兴趣的话！)但在结束这个话题之前，我只想提一下<a class="ae jd" href="https://cloud.google.com/compute/docs/cloudrouter" rel="noopener ugc nofollow" target="_blank">云路由器</a>。</p><p id="55d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云路由器支持Google云平台网络和内部网络之间的动态<a class="ae jd" href="https://www.wikipedia.org/wiki/Border_Gateway_Protocol" rel="noopener ugc nofollow" target="_blank">边界网关协议(BGP) </a>路由更新。为什么这很酷？很好地解释了直接来自文件的好处:</p><ul class=""><li id="4ac4" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc kb jk jl jm bi translated">启用动态路由VPN。动态路由意味着您不需要手动创建和删除与隧道两端的网络配置变化相对应的静态路由</li><li id="2241" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc kb jk jl jm bi translated">消除了为VPN隧道配置静态路由的需要。实际上，使用BGP的动态路由提供了一种自动、快速和可互操作的方式来发现网络拓扑变化。</li><li id="aea6" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc kb jk jl jm bi translated">无需在拓扑变化时重启VPN隧道。因此，云路由器可以实现无缝的网络拓扑变化，而不会造成流量中断。</li></ul><p id="46ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从文档中截取的下图显示了使用云路由器的VPN配置的典型情况:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kc"><img src="../Images/b8ffe1ec1762f2f40670bee80ca31c30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jcC8T_HylRS7npwsfp3Zjg.png"/></div></div></figure></div></div>    
</body>
</html>