<html>
<head>
<title>Kubernetes Best Practices — Season One</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes最佳实践—第一季</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/kubernetes-best-practices-season-one-11119aee1d10?source=collection_archive---------1-----------------------#2018-06-19">https://medium.com/google-cloud/kubernetes-best-practices-season-one-11119aee1d10?source=collection_archive---------1-----------------------#2018-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="710c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kubernetes很复杂，而且一天比一天复杂。如果你刚开始使用Kubernetes，或者已经在生产中运行了一段时间，那么很难跟上快速发展的步伐。当你有一个基于Kubernetes的团队时，这就更难了，因为你必须确保每个人都是最新的和高效的。</p><p id="7117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然有大量关于“Hello World”体验的内容，但使用Kubernetes要比运行部署并通过服务公开它复杂得多。Kubernetes本身提供了一个空白的石板，在这里你基本上可以做任何你想做的事情，但真的很难知道从哪里开始！</p><p id="9047" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑到这一点，我开始准备一个题为“Kubernetes最佳实践”的演讲(这里有<a class="ae jd" href="https://speakerdeck.com/thesandlord/kubernetes-best-practices" rel="noopener ugc nofollow" target="_blank">张幻灯片</a>和<a class="ae jd" href="https://www.youtube.com/watch?v=BznjDNxp4Hs" rel="noopener ugc nofollow" target="_blank">段视频</a>)，这些都是基于我在野外与日常生活中的人们交谈时收到的问题和反馈。这个演讲非常受欢迎，所以我决定深入到各个主题。我最终为这第一次运行制作了七集(<a class="ae jd" href="https://cloudplatform.googleblog.com/2016/07/from-Google-to-the-world-the-Kubernetes-origin-story.html" rel="noopener ugc nofollow" target="_blank">，这很合适</a>)，我真的认为它们可以帮助你和你的团队快速提升Kubernetes。</p><p id="cec4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以这七集都是为了让你看得开心！我现在正在制作下一批视频，希望你能就你想看的内容提供反馈。请在Twitter 上发表评论或给我发消息<a class="ae jd" href="https://twitter.com/SandeepDinesh" rel="noopener ugc nofollow" target="_blank">提出你的建议！</a></p><h1 id="ef55" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">第一季剧集</h1><ul class=""><li id="c6bf" class="kc kd hi ih b ii ke im kf iq kg iu kh iy ki jc kj kk kl km bi translated"><a class="ae jd" href="https://www.youtube.com/playlist?list=PLIivdWyY5sqL3xfXz5xJvwzFW_tlQB_GB" rel="noopener ugc nofollow" target="_blank">所有视频</a></li></ul><h2 id="e7f6" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">如何以及为什么构建小容器</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/41fd7e1916052227ca52e91bcc2c834b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K0GIlb657-3AF8XC.jpg"/></div></div></figure><p id="2939" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你能使用Kubernetes之前，你必须建造一些容器。Docker使构建容器变得非常容易，但这也意味着构建低效和不安全的容器也很容易。构建更小的容器是从Kubernetes集群中获得更多好处的一种简单方法，不需要做很多工作。</p><ul class=""><li id="4fd0" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/04/Kubernetes-best-practices-how-and-why-to-build-small-container-images.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="61be" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/wGz_cbtCiEA" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><h2 id="b057" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">用名称空间组织</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/b55bc92ed00631e33e89d0cc1005028d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oE_d_44cAUSJ_wmg.jpg"/></div></div></figure><p id="8d19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你超越了“hello world”，当你试图管理运行在Kubernetes上的微服务时，你可能会遇到组织问题。当你的团队成长，你需要更多的可见性和控制力时，情况会变得更糟。名称空间为管理Kubernetes中的资源提供了一种强大的方法，并为策略和管理提供了基础。</p><ul class=""><li id="cf64" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/04/Kubernetes-best-practices-Organizing-with-Namespaces.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="00e7" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/xpnZX3if9Tc" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><h2 id="00d6" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">通过就绪和活性探针进行健康检查</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/6edb149ed810b0ae5b03babffe170d46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rtpkUtv66zDCEUUX.jpg"/></div></div></figure><p id="2774" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">健康检查是创建健壮可靠的服务所必需的。虽然Kubernetes有默认的内置健康检查，但对许多应用程序来说还不够。就绪性和活性探测使您能够轻松地为您的应用程序定制这些健康检查。</p><ul class=""><li id="9354" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/05/Kubernetes-best-practices-Setting-up-health-checks-with-readiness-and-liveness-probes.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="7cc7" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/mxEvAPQRwhw" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><h2 id="27e5" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">资源请求和限制</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/df9a19e972b37b030fb24db2aa3dffcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tiEgL6ffA_sqY7Ub.jpg"/></div></div></figure><p id="fa1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">内存泄漏、无限循环、不良行为者、过度供应，天哪！Kubernetes为您提供了一个强大的平台来运行您的服务，但是如果您不围绕资源定义规则，最终您将会陷入困境。幸运的是，Kubernetes给了你很多对资源以及如何使用它们的控制权。</p><ul class=""><li id="e241" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/05/Kubernetes-best-practices-Resource-requests-and-limits.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="9408" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/xjpHggHKm78" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><h2 id="6067" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">优雅地结束</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/95a47ca9df178fe48fc7079ea5fbf4ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CkNz3GlnZGhyycfY.jpg"/></div></div></figure><p id="8099" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kubernetes中的豆荚和容器需要优雅地处理终止。Kubernetes可以出于各种原因决定终止一个完全健康的Pod，干净地关闭是为您的用户提供良好体验的关键。</p><ul class=""><li id="11d8" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/05/Kubernetes-best-practices-terminating-with-grace.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="ce83" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/Z_l_kE1MDTc" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><h2 id="ff1d" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">映射外部服务</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/f94c90d623f17c3e8bb2684dad47ea9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BXOE0v4yChNM2i9s.jpg"/></div></div></figure><p id="3535" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能有位于Kubernetes集群之外的服务。其中一些可能是第三方服务，其他可能是您的团队或公司运行的服务。不管怎样，生活在混合世界里会带来它的复杂性。Kubernetes为您提供了映射这些外部服务的能力，使它们看起来和感觉上像本地的Kubernetes服务，从而更容易弥合世界之间的差距。</p><ul class=""><li id="f5be" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/05/Kubernetes-best-practices-mapping-external-services.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="a6be" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/fvpq4jqtuZ8" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><h2 id="b7e1" class="kn jf hi bd jg ko kp kq jk kr ks kt jo iq ku kv js iu kw kx jw iy ky kz ka la bi translated">零停机升级您的集群</h2><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/65fa95e13a57305fd2f5a058b84759bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UdMc07JcvGnbtudO.jpg"/></div></div></figure><p id="c875" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您需要做的最重要的事情之一是让您的集群保持最新。使用像GKE这样的托管服务可以使这变得容易得多，但仍然有一些方法可以让升级过程更顺利。</p><ul class=""><li id="41c7" class="kc kd hi ih b ii ij im in iq ln iu lo iy lp jc kj kk kl km bi translated"><a class="ae jd" href="https://cloudplatform.googleblog.com/2018/06/Kubernetes-best-practices-upgrading-your-clusters-with-zero-downtime.html" rel="noopener ugc nofollow" target="_blank">博文</a></li><li id="7f07" class="kc kd hi ih b ii lq im lr iq ls iu lt iy lu jc kj kk kl km bi translated"><a class="ae jd" href="https://youtu.be/ajbC1yTW2x0" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><p id="ea31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mc">感谢让这一切成为可能的所有人，从审查内容的人到使这个系列成为现实的视频和博客编辑团队！</em></p></div></div>    
</body>
</html>