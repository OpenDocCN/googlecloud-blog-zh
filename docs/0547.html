<html>
<head>
<title>Creating Build Triggers in Google Cloud Container Engine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google云容器引擎中创建构建触发器</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/creating-build-triggers-in-google-cloud-container-engine-20028aa04ed6?source=collection_archive---------2-----------------------#2018-03-28">https://medium.com/google-cloud/creating-build-triggers-in-google-cloud-container-engine-20028aa04ed6?source=collection_archive---------2-----------------------#2018-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6734" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在平台中使用Google云平台，将ML模型作为容器部署到云中，并使用Kubernetes引擎为它们提供服务。对于开发人员来说，将代码更改推送到GitHub / BitBucket，然后必须运行<code class="du jd je jf jg b">docker build</code>和<code class="du jd je jf jg b">gcloud</code>流程来部署代码的过程远非理想。幸运的是，有了构建触发器，在第一次部署后，当更改被推送到GitHub或BitBucket时，您可以自动执行在云中重建映像的过程。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/a107f845f16804f28d8f5156e6d65e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p6Nc3zVTadBSQDd7cXvzDw.png"/></div></div></figure><p id="7a0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个过程相当简单。进入谷歌云控制台和容器引擎。然后选择构建触发器和添加触发器。选择您想要同步的远程存储库中心，例如，我们在这里选择BitBucket。你需要通过一些授权步骤来获得账户链接。选择您想要链接的存储库，Google Cloud将开始镜像它。一旦这个过程完成，您将看到一些额外的配置。给它起一个容易记忆的名字，在图像名称部分，我们选择使用:</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="a6fd" class="jx jy hi jg b fi jz ka l kb kc">gcr.io/alixir-199021/myimage:new</span></pre><p id="dd85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">new</code>标签让我们很容易辨别哪个图像是最新的版本。最后，只需完成提示并创建触发器。</p><p id="4d93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，对您的本地代码进行更改，并像往常一样将其推送到您的远程repo，如果幸运的话，在Container Registry的“Build History”部分，您将看到由于远程代码的更改，您的容器映像正在被动地重新构建。厉害！</p><p id="0a29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦构建完成，您就可以对您的Kubernetes部署执行滚动更新并将其实时发送。当然，还有很多其他的方法可以利用构建触发器，比如推送到一个临时服务器，但是对于我们的工作流来说，这使它变得简单和易于管理。</p></div></div>    
</body>
</html>