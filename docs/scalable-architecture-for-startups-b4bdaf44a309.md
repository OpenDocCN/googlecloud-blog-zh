# 初创企业的可扩展架构

> 原文：<https://medium.com/google-cloud/scalable-architecture-for-startups-b4bdaf44a309?source=collection_archive---------3----------------------->

现在是 2016 年。创业无处不在。然而，很少看到科技初创公司在一开始就提出了为可扩展性而设计的工程堆栈。如果我们一开始就考虑可伸缩性，许多人会认为这是过度工程化。所以像 Ruby On Rails(Ruby)、Play(Java)、Spring(Java)、Symfony(PHP)、Laravel(PHP)等框架。已成为最佳选择，原因如下:

1.  开发速度更快，因为有很多可用的库。
2.  社区支持更好，因为你会遇到的很多问题已经有了解决方案。
3.  招聘相对容易，因为大多数工程师倾向于框架。

但是我对过度工程环境的观点是:当必须满足市场需求的快速变化时，如何保证有时间处理可伸缩性需求？还要记住，不是所有的初创公司都有大把的钱来雇佣尽可能多的工程师来扩展平台和开发新功能，更不用说花在团队之间沟通上的努力了。

那么，我真正的提议是什么？在这里，我向您展示了 **Appist** 框架(它是**固执己见的**)，就像作为一个整体存储库的 Rails，但是 web 应用程序/服务/api 网关可以通过使用 **Kubernetes** 部署到同一集群上的不同机器上，以及在 **GitLab CI** 上的**持续部署**。整体文件夹结构如下:

```
|-- db (Managed by `standalone-migrations`)
|    |-- migrate
|    |     |-- ...
|    |-- seed
|    |     |-- ...
|    |-- config.yml
|-- gateway (API gateway with GraphQL)
|    |-- gen_codes (GRPC client code generated by `protoc`)
|    |-- tests
|    |-- .babelrc
|    |-- index.js
|    |-- ...
|-- mobile (Using React Native)
|    |-- ...
|-- protos (Protocol Buffer files)
|    |-- auth.proto (defines auth services and messages)
|    |-- user.proto (defines user services and messages)
|    |-- ...
|-- scripts
|    |-- ... (Python scripts for development/deployment)
|-- services
|    |-- auth
|    |     |-- main.go
|    |     |-- ...
|    |-- gen_codes (GRPC server code generated by `protoc`)
|    |-- user
|    |     |-- main.go
|    |     |-- ...
|    |-- ...
|-- web (Using React with Relay)
|    |-- ...
|-- ...
|-- .gitlab-ci.yml
|-- cli
|-- ...
```

简而言之，下面是我们将要使用的库/框架/工具的列表:

1.  [独立-迁移](https://github.com/thuss/standalone-migrations)
    管理数据库的迁移。
2.  [create-react-app](https://github.com/facebookincubator/create-react-app)
    创建没有构建配置的新 web 项目。
3.  [GRPC](http://www.grpc.io/)
    一个高性能、开源的通用 RPC 框架，减少 API 网关和服务之间的 HTTP 延迟。
4.  协议缓冲区
    一种语言中立、平台中立的可扩展机制，用于在 API 网关和服务之间序列化结构化数据。
5.  用于 web/移动应用的 API 的更高效的查询层。
6.  [Relay](https://facebook.github.io/relay/)
    一个用于构建数据驱动 react 应用的 Javascript 框架。
7.  Gitlab
    一个托管的版本控制服务，提供无限的私有存储库，强大的&灵活的 CI，保存 docker 映像和构建工件的注册表。全部免费！
8.  Kubernetes
    一个非常强大的工具，用于自动化部署、扩展和管理容器化的应用程序。
9.  由 Google 提供的 Google 云平台
    基础设施与 Kubernetes 配合得非常好，并提供了大量的生产监控工具。

该框架目前正在积极开发中，并用于试验一些宠物项目。希望一旦有更多的事情解决了，我会尽快把它发布到开源社区。