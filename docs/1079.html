<html>
<head>
<title>Deconstructing Chatbot: Integrate Dialogflow with Twilio Messaging Service</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解构聊天机器人:集成Dialogflow和Twilio消息服务</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/deconstructing-chatbot-integrating-dialogflow-with-twilio-messaging-service-34ccabec3fb5?source=collection_archive---------1-----------------------#2019-07-17">https://medium.com/google-cloud/deconstructing-chatbot-integrating-dialogflow-with-twilio-messaging-service-34ccabec3fb5?source=collection_archive---------1-----------------------#2019-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1e5106cebd06dbc964e0dad7986cc482.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B-OTKU025ATWsEOb.png"/></div></div></figure><div class=""/><h1 id="6c40" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="f69a" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在本文中，我们将了解Dialogflow如何与Twilio短信服务集成，从而轻松创建具有自然语言理解能力的Twilio机器人。Twilio的可编程短信服务使发送和接收短信变得简单。如果您正在关注解构聊天机器人系列，我们将使用我们在<a class="ae km" rel="noopener" href="/@pvergadia/deconstructing-chatbots-build-an-appointment-scheduler-with-dialogflow-2ee08614b630">之前的实验“预约调度程序”</a>中创建的相同代理。尽管您可以使用任何Dialoglfow代理并通过本文来创建集成。我们最后将通过聊天发送请求来测试集成。</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kn"><img src="../Images/31050e87700fbccc513dc2e25f1a2e3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ZN9tpUcjkPql44U5R5tjA.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">Dialogflow与Twilio消息服务的集成</figcaption></figure><h1 id="6aba" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">你会学到什么</h1><ul class=""><li id="5200" class="kw kx ht jq b jr js jv jw jz ky kd kz kh la kl lb lc ld le bi translated">如何从Dialogflow启用Twilio集成</li><li id="e1d7" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">如何测试集成了Twilio的Dialogflow bot</li></ul><h1 id="a716" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">先决条件</h1><ul class=""><li id="1369" class="kw kx ht jq b jr js jv jw jz ky kd kz kh la kl lb lc ld le bi translated">对话流的基本概念和结构。关于介绍基本对话设计的Dialogflow教程视频，请查看<a class="ae km" href="https://www.youtube.com/watch?v=O00K10xP5MU&amp;list=PLIivdWyY5sqK5SM34zbkitWLOV-b3V40B&amp;index=1" rel="noopener ugc nofollow" target="_blank">解构聊天机器人系列</a>。</li><li id="9029" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">我们将使用我们在这篇文章中构建的相同的约会调度聊天机器人。</li><li id="ce65" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">还可以浏览youtube视频“<a class="ae km" href="https://www.youtube.com/watch?v=t6ecd3Hi_hY&amp;list=PLIivdWyY5sqK5SM34zbkitWLOV-b3V40B&amp;index=7" rel="noopener ugc nofollow" target="_blank">解构聊天机器人:将Dialogflow与Twilio Messaging Service </a>”以获得关于设置这种集成的更多说明。</li></ul><figure class="ko kp kq kr fd hk"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h1 id="fa51" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">从Dialogflow启用Twilio集成</h1><p id="1095" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我们将使用我们在之前的codelab中构建的相同的约会调度聊天机器人，并通过集成来工作。</p><ul class=""><li id="9753" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">导航到<a class="ae km" href="https://console.dialogflow.com/api-client/" rel="noopener ugc nofollow" target="_blank">对话流控制台</a>。</li><li id="f253" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">选择我们之前创建的AppointmentScheduler代理。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div class="er es lr"><img src="../Images/a09a84af9256caa36fa11edacbbd0507.png" data-original-src="https://miro.medium.com/v2/resize:fit:120/0*Mfgl8-jLWaiaa8jy"/></div></figure><figure class="ko kp kq kr fd hk er es paragraph-image"><div class="er es ls"><img src="../Images/7c0d904c7739897893203e859eb6fad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/0*CyUqppsmkyzO92L5"/></div></figure><ul class=""><li id="d87e" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">点击集成，然后点击“Twilio(短信)”集成设置。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/d60460c8f4bca0bc1d6a1f84ee5fda1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B3FwoIrYTTUul0VB-vvGXw.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">对话流集成</figcaption></figure><ul class=""><li id="6f20" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">弹出有指示:点击开始，复制请求网址，并把它在Twilio可编程短信。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/6afa9edbee694fd33e9f613da199ed34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7RiYoipm073-4-r9DKwooQ.png"/></div></div></figure><ul class=""><li id="912b" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">首先你需要一个Twilio账户，如果你没有的话，创建一个并登录。</li><li id="dfe7" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">从控制面板中，单击所有产品并导航至可编程SMS。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div class="er es lv"><img src="../Images/9d91902e2902170d3996ac457bc97972.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*YEsuplzgXnNkwVpsE6EsAQ.png"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">Twilio控制台中的可编程SMS</figcaption></figure><ul class=""><li id="2f43" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">进入可编程短信仪表板后，点击短信</li><li id="03f2" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">如果您已经设置了约会计划程序消息服务，请使用它，如果没有，您可以创建一个。提供一个名称，在用例中，选择聊天机器人/交互式2路。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/1052733bff91cb07b20c3bad075124f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nZDHM-YNBjruGWjaUqpuw.png"/></div></div></figure><ul class=""><li id="4701" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">单击创建的消息服务来分配电话号码。</li><li id="7ff6" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">使用添加按钮购买新号码或使用现有号码。</li><li id="65a3" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">点击通过美国选择，你应该有一个号码分配。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lx"><img src="../Images/3f93175a30f75e890702dfb60fb77169.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wsm8TGBcOSBXox9bDXm1Bw.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">Twilio控制台中的电话号码分配</figcaption></figure><ul class=""><li id="7e72" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">此时，我们单击“配置”来集成Dialogflow。</li><li id="8d28" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">启用入站设置</li><li id="2243" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">在请求URL中，复制并粘贴由集成部分中的Dialogflow生成的URL，然后保存。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ly"><img src="../Images/ef355b55995c2a131b838f4a3d1203fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D12OxC0ra9BjU6xpr5qa7w.png"/></div></div></figure><ul class=""><li id="e023" class="kw kx ht jq b jr lm jv ln jz lo kd lp kh lq kl lb lc ld le bi translated">从Twilio仪表板复制服务ID、电话号码和AuthToken，并将其粘贴到Dialogflow集成控制台中。完成后，点击开始。</li></ul><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/6c55826331597ddcfd2a5b686d461a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7nKd_o-W8hBY78FstWesWw.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">从Twilio控制台复制这些项目</figcaption></figure><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/f707bd617b991427f3cbc0acde41d751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6LBz6EWeVxGAURO_F979Q.png"/></div></div></figure><p id="a3ec" class="pw-post-body-paragraph jo jp ht jq b jr lm jt ju jv ln jx jy jz ma kb kc kd mb kf kg kh mc kj kk kl hb bi translated">您会注意到bot已经成功启动。</p><h1 id="e1ed" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">测试代理</h1><p id="ed24" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">为了测试代理和Twilio集成，请在手机上使用短信。向分配给Twilio消息服务的号码发送文本消息，并运行适合您的代理的示例。</p><p id="3476" class="pw-post-body-paragraph jo jp ht jq b jr lm jt ju jv ln jx jy jz ma kb kc kd mb kf kg kh mc kj kk kl hb bi translated">对于约会调度程序代理，您可以尝试以下测试:</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es md"><img src="../Images/9c52e5bd8db7543c00218f7bb3449acf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*on4SrC334YDEjdfUnxS1EA.png"/></div></div></figure><h1 id="014a" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">恭喜你！</h1><p id="794f" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">您使用Twilio消息服务为文本消息启用了Dialoglfow代理！</p><h1 id="e433" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">后续步骤</h1><ul class=""><li id="093f" class="kw kx ht jq b jr js jv jw jz ky kd kz kh la kl lb lc ld le bi translated">点击此处查看Dialogflow网站<a class="ae km" href="https://cloud.google.com/dialogflow-enterprise/" rel="noopener ugc nofollow" target="_blank">获取文档、集成、API等。</a></li><li id="d47b" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">关注<a class="ae km" href="https://www.youtube.com/watch?v=O00K10xP5MU&amp;list=PLIivdWyY5sqK5SM34zbkitWLOV-b3V40B&amp;index=1" rel="noopener ugc nofollow" target="_blank">解构聊天机器人</a>视频系列，订阅谷歌云平台youtube频道</li><li id="1151" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">想要更多的故事？查看我的<a class="ae km" rel="noopener" href="/@pvergadia/">媒体</a>，<a class="ae km" href="https://twitter.com/pvergadia" rel="noopener ugc nofollow" target="_blank">在twitter上关注我</a>。</li><li id="b8e2" class="kw kx ht jq b jr lf jv lg jz lh kd li kh lj kl lb lc ld le bi translated">试试<a class="ae km" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank"> Dialogflow </a>，它是<strong class="jq hu">免费</strong>打造的一个bot！看看这个。</li></ul></div></div>    
</body>
</html>