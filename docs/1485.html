<html>
<head>
<title>7 gcloud Tricks You Probably Didn’t Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你可能不知道的7个云技巧</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/7-gcloud-tricks-you-probably-didnt-know-7f64a16869e7?source=collection_archive---------1-----------------------#2020-06-24">https://medium.com/google-cloud/7-gcloud-tricks-you-probably-didnt-know-7f64a16869e7?source=collection_archive---------1-----------------------#2020-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ik il im in er es paragraph-image"><div role="button" tabindex="0" class="io ip di iq bf ir"><div class="er es ij"><img src="../Images/3a20af35f17cf129dfffdd735c23a38b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zhjt8TU6EZXc3IpPbYaVuQ.png"/></div></div></figure><p id="677e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Cloud SDK包括一组用于与Google Cloud产品和服务交互的工具和库，其中<code class="du if ig ih ii b">gcloud</code> CLI工具是主要命令。</p><p id="3b01" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以下是我经常使用的一些命令/技巧:</p><h1 id="8d46" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">1.阻止提示。设置默认值。</h1><p id="894e" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">为您的<code class="du if ig ih ii b">gcloud</code> CLI设置默认配置会阻止<code class="du if ig ih ii b">Y/n</code>提示:</p><pre class="kv kw kx ky fd kz ii la lb aw lc bi"><span id="ec48" class="ld jt hi ii b fi le lf l lg lh">gcloud config set compute/region us-west1<br/>gcloud config set run/platform managed</span></pre><p id="a8c7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">使用<code class="du if ig ih ii b">gcloud config list</code>或<a class="ae li" href="https://cloud.google.com/sdk/gcloud/reference/config/set" rel="noopener ugc nofollow" target="_blank">查看您的现有配置查看所有配置📄</a>。</p><h1 id="01d9" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">2.获取/更改项目id</h1><p id="e12f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">使用<code class="du if ig ih ii b">gcloud</code>时，大多数命令使用<em class="lj">当前配置的项目</em>发出API请求。有些命令要求在命令参数中包含项目名称。</p><p id="c084" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我喜欢将当前项目保存在这样的环境变量中:</p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="7818" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">那么在命令中使用这个名字就很容易了。例如:</p><pre class="kv kw kx ky fd kz ii la lb aw lc bi"><span id="a9a4" class="ld jt hi ii b fi le lf l lg lh">gcloud builds submit --tag gcr.io/$PROJECT/helloworld</span></pre><h1 id="597d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">3.查看是否启用了计费</h1><p id="8945" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">许多云服务要求在使用之前启用计费。</p><p id="6ce4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">快速检查您当前在<code class="du if ig ih ii b">gcloud</code>的项目是否已启用计费:</p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h1 id="3403" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">4.认证测试云运行</h1><p id="7e6f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">未经授权的请求无法访问未部署有<code class="du if ig ih ii b">--allow-unauthenticated</code>的云运行服务。测试服务的一个快速方法是在<code class="du if ig ih ii b">gcloud</code>的帮助下添加一个HTTP授权承载令牌:</p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h1 id="333f" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">5.谷歌云项目_ID🔁项目编号</h1><p id="4940" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">有时一个API需要一个项目编号，但是你只有一个项目id。用一点<code class="du if ig ih ii b">gcloud</code>符，你就可以从另一个中得到一个值:</p><h2 id="d462" class="ld jt hi bd ju lm ln lo jy lp lq lr kc jf ls lt kg jj lu lv kk jn lw lx ko ly bi translated">ID到号码</h2><p id="2507" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated"><em class="lj">需要设置</em> <code class="du if ig ih ii b"><em class="lj">PROJECT_ID</em></code> <em class="lj">。</em></p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h2 id="d7d2" class="ld jt hi bd ju lm ln lo jy lp lq lr kc jf ls lt kg jj lu lv kk jn lw lx ko ly bi translated">要标识的号码</h2><p id="1a1b" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated"><em class="lj">需要设置</em> <code class="du if ig ih ii b"><em class="lj">PROJECT_NUMBER</em></code> <em class="lj">。</em></p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h1 id="9934" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">6.查看原始HTTP请求</h1><p id="90c7" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">每个调用服务的<code class="du if ig ih ii b">gcloud</code>命令都使用Google API。通过记录原始的HTTP请求，很容易准确地看到我们正在调用的API。</p><p id="ba8d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里有一个例子:</p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="bf75" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你会得到这样的回应:</p><figure class="kv kw kx ky fd in"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h1 id="73d9" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">7.对话方式</h1><p id="9225" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">Cloud SDK有一个交互式CLI模式，这是学习和编写轻量级命令的一个很好的工具。此模式显示提前键入自动完成以及终端内文档。</p><p id="9341" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">只需键入<code class="du if ig ih ii b">gcloud alpha interactive</code>即可开始。</p><figure class="kv kw kx ky fd in er es paragraph-image"><div class="er es lz"><img src="../Images/cf100c0e2f2483e7730a57ff3ea5bae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*Jupy_1arTeqJqRHs.gif"/></div><figcaption class="ma mb et er es mc md bd b be z dx translated">Cloud SDK交互模式的预览。</figcaption></figure><p id="1ab5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">那就是“你可能不知道的7个gcloud招数”。你可能知道一些，但是我希望你能学到一两个新的技巧！</p><p id="16b7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">格兰特</p></div><div class="ab cl me mf gp mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hb hc hd he hf"><p id="467f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您喜欢这篇文章，您可能也会喜欢阅读这些备忘单:</p><ul class=""><li id="1d4d" class="ml mm hi iw b ix iy jb jc jf mn jj mo jn mp jr mq mr ms mt bi translated"><a class="ae li" href="https://github.com/dennyzhang/cheatsheet-gcp-A4" rel="noopener ugc nofollow" target="_blank">https://github.com/dennyzhang/cheatsheet-gcp-A4</a></li><li id="2d89" class="ml mm hi iw b ix mu jb mv jf mw jj mx jn my jr mq mr ms mt bi translated"><a class="ae li" href="https://gist.github.com/pydevops/cffbd3c694d599c6ca18342d3625af97" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/pydevops/cffbd 3c 694d 599 c6ca 18342d 3625 af 97</a></li></ul></div></div>    
</body>
</html>