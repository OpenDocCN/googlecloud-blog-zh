<html>
<head>
<title>Secure Google Cloud Platform Connections and TLS 1.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">保护谷歌云平台连接和TLS 1.0</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/secure-google-cloud-platform-connections-and-tls-1-0-d1ad16851dfb?source=collection_archive---------1-----------------------#2018-11-13">https://medium.com/google-cloud/secure-google-cloud-platform-connections-and-tls-1-0-d1ad16851dfb?source=collection_archive---------1-----------------------#2018-11-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2ad3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">禁用和缓解TLS 1.0连接</p><h1 id="a2f9" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">介绍</h1><p id="2e11" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">谷歌云平台(GCP)支持TLS 1.0以及1.1和1.2；它将使用客户端浏览器支持的最高TLS级别执行身份验证握手。一些组织认为TLS 1.0不安全，并希望确保使用其他机制来保护连接。</p><p id="cc7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文提供了有关禁用和缓解谷歌云平台TLS 1.0认证的信息。</p><h1 id="946f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">安全连接组件</h1><p id="1d3d" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">本文档描述了满足这些要求的四个核心组件。</p><ul class=""><li id="12f8" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">将浏览器配置为禁用TLS 1.0。</li><li id="0850" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">使用专用网络来确保安全。</li><li id="0790" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">通过Apigee这样的代理公开公共API。</li><li id="805a" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">代理被认为不安全的Google云平台服务，并将代理配置为禁用TLS 1.0。</li></ul><p id="648d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下部分在基于API的管理访问和其他服务的安全特性的上下文中描述了这些组件。</p><h1 id="1742" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">基于API的管理访问</h1><p id="f6d7" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">通过代理API，如Apigee和HTTPS/SSL负载平衡器。</p><h2 id="b613" class="ku je hi bd jf kv kw kx jj ky kz la jn iq lb lc jr iu ld le jv iy lf lg jz lh bi translated"><strong class="ak">API gee API</strong></h2><p id="5fc2" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Apigee是一个全生命周期的API管理平台，支持API提供商设计、保护、部署、监控和扩展API。它用OAuth 2.0、SAML、双向TLS保护传输中的数据，用加密保护静态数据；<a class="ae li" href="https://status.apigee.com/incidents/hk8ztlkpxynx" rel="noopener ugc nofollow" target="_blank"> TLS 1.0和1.1已于8月</a>针对<a class="ae li" href="https://community.apigee.com/questions/57036/retiring-tls10-and-11.html" rel="noopener ugc nofollow" target="_blank">北向流量</a>弃用。</p><h2 id="79f8" class="ku je hi bd jf kv kw kx jj ky kz la jn iq lb lc jr iu ld le jv iy lf lg jz lh bi translated"><strong class="ak">云和开发者API</strong></h2><p id="937d" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">通过<a class="ae li" href="https://cloud.google.com/vpc/docs/configure-private-google-access" rel="noopener ugc nofollow" target="_blank"> VPC私有访问</a>用<a class="ae li" href="https://cloud.google.com/load-balancing/" rel="noopener ugc nofollow" target="_blank"> HTTPS/SSL负载平衡器</a>代理<a class="ae li" href="https://developers.google.com/apis-explorer/#p/" rel="noopener ugc nofollow" target="_blank">这些API</a>，并在负载平衡器上选择<a class="ae li" href="https://cloud.google.com/load-balancing/docs/ssl-policies-concepts#defining_an_ssl_policy" rel="noopener ugc nofollow" target="_blank">受限配置文件。</a></p><h1 id="ed11" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">其他服务的安全功能</h1><h2 id="2550" class="ku je hi bd jf kv kw kx jj ky kz la jn iq lb lc jr iu ld le jv iy lf lg jz lh bi translated"><strong class="ak">客户端/浏览器</strong></h2><p id="ff64" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用现代浏览器并禁用TLS 1.0。Chrome Enterprise从<a class="ae li" href="https://support.google.com/chrome/a/answer/7679408?hl=en" rel="noopener ugc nofollow" target="_blank"> Chrome 66 </a>开始支持<a class="ae li" href="https://www.chromium.org/administrators/policy-list-3#SSLVersionMin" rel="noopener ugc nofollow" target="_blank"> SSLVersionMin策略</a>。</p><p id="3d57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，基于客户端/浏览器的实施具有挑战性，尤其是在不同的浏览器环境中，例如对于远程和SaaS用户。</p><h2 id="1f27" class="ku je hi bd jf kv kw kx jj ky kz la jn iq lb lc jr iu ld le jv iy lf lg jz lh bi translated"><strong class="ak">网络</strong></h2><p id="5d36" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><a class="ae li" href="https://cloud.google.com/interconnect/" rel="noopener ugc nofollow" target="_blank">谷歌云互联</a>提供你的网络和谷歌云平台之间的安全连接；您可以通过VPN等机制将这一点扩展到您的远程用户。这些机制可以在开放的公共网络上提供比TLS更安全的连接。</p><h2 id="5610" class="ku je hi bd jf kv kw kx jj ky kz la jn iq lb lc jr iu ld le jv iy lf lg jz lh bi translated"><strong class="ak">服务器</strong></h2><p id="c2c3" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><strong class="ih hj"> GCE和</strong> <a class="ae li" href="https://cloud.google.com/vpc/docs/private-access-options#pga-supported" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">托管服务</strong> </a> <strong class="ih hj">如GCS </strong></p><p id="5249" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在HTTPS负载平衡器上选择<a class="ae li" href="https://cloud.google.com/load-balancing/docs/ssl-policies-concepts#defining_an_ssl_policy" rel="noopener ugc nofollow" target="_blank">“受限”配置文件以实施现代TLS。</a></p><ul class=""><li id="20bc" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">使用<a class="ae li" href="https://cloud.google.com/vpc/docs/configure-private-google-access" rel="noopener ugc nofollow" target="_blank"> VPC私有访问</a>，GCS等托管服务可以与负载均衡器进行前端连接。</li></ul><p id="10e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">GCE上的GKE/K8S</strong></p><p id="acfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GCE上GKE/K8S的入口控制器利用GCP HTTPS负载平衡器；Ingress目前不支持SSL配置文件的管理。</p><ul class=""><li id="a20d" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">您可以在HTTPS负载均衡器上设置<a class="ae li" href="https://cloud.google.com/load-balancing/docs/ssl-policies-concepts#defining_an_ssl_policy" rel="noopener ugc nofollow" target="_blank">“受限”配置文件，Ingress支持这一点，但是这种行为不受支持，将来可能会改变，因此只能依靠适当的回归测试和治理。</a></li></ul><p id="7f80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Istio使用Envoy负载平衡器。适当设置<a class="ae li" href="https://www.envoyproxy.io/docs/envoy/latest/configuration/network_filters/client_ssl_auth_filter#config-network-filters-client-ssl-auth." rel="noopener ugc nofollow" target="_blank"> TLS认可证书</a>。</p><h2 id="bca3" class="ku je hi bd jf kv kw kx jj ky kz la jn iq lb lc jr iu ld le jv iy lf lg jz lh bi translated">应用引擎标准和灵活</h2><p id="804e" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">要么:</p><ul class=""><li id="beaf" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">带有反向代理的前端应用引擎，如NGINX和<a class="ae li" href="http://nginx.org/en/docs/http/configuring_https_servers.html" rel="noopener ugc nofollow" target="_blank">适当地配置SSL协议。</a></li><li id="5ede" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated">为支持设置特定项目/域的应用引擎最低TLS级别建立案例(仅适用于自定义域，即不是*。<a class="ae li" href="http://appspot.com/" rel="noopener ugc nofollow" target="_blank">appspot.com</a>)。</li></ul><p id="0b20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">谷歌云端点</strong></p><ul class=""><li id="21f6" class="kg kh hi ih b ii ij im in iq ki iu kj iy kk jc kl km kn ko bi translated">云端点的TLS是由托管服务的平台提供的，因此请根据您的端点类型和代理，或者使用Apigee代理端点，参见上文。</li></ul></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="90e1" class="jd je hi bd jf jg lq ji jj jk lr jm jn jo ls jq jr js lt ju jv jw lu jy jz ka bi translated">下一步是什么</h1><ul class=""><li id="e8fa" class="kg kh hi ih b ii kb im kc iq lv iu lw iy lx jc kl km kn ko bi translated"><a class="ae li" href="https://cloud.google.com/solutions/pci-dss-compliance-in-gcp" rel="noopener ugc nofollow" target="_blank">PCI数据安全标准合规架构指南</a>帮助您了解如何在谷歌云平台(GCP)上为您的企业实施支付卡行业数据安全标准(PCI DSS)。该指南提供了有关该标准的背景，解释了您在基于云的合规性中的角色，然后为您提供了使用PCI DSS设计、部署和配置支付处理应用程序的指南。本教程还讨论了监控、记录和验证应用程序的方法。</li><li id="531e" class="kg kh hi ih b ii kp im kq iq kr iu ks iy kt jc kl km kn ko bi translated"><a class="ae li" href="https://cloud.google.com/files/GCP_Client_Facing_Responsibility_Matrix_PCI_2018.pdf" rel="noopener ugc nofollow" target="_blank">谷歌云平台:PCI客户责任矩阵</a>可以作为您追求PCI DSS合规性和进行自己的PCI DSS审计的有用参考。</li></ul></div></div>    
</body>
</html>