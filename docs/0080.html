<html>
<head>
<title>A to Z of Google Cloud Platform a personal selection — O — Object store</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台的a到Z个人选择— O —对象商店</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-o-object-store-2f7cf508780d?source=collection_archive---------3-----------------------#2016-03-27">https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-o-object-store-2f7cf508780d?source=collection_archive---------3-----------------------#2016-03-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="48b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有两个GCP的产品，我觉得是基本的基石，因此他们往往得到很少的关注，因为他们只是在那里做他们的规模。</p><p id="dbf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以在接下来的两篇文章中，我会给他们一点爱，并关注他们。从云存储开始。</p><p id="4359" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云存储(GCS)是GCP的对象存储。它被用于如此多的用例，我真的无法给出一个简单的列表。用例范围从存储图片，GCPs awesome数据产品处理大量数据的来源，作为备份目标，到托管静态网站(我在本系列的<a class="ae jd" rel="noopener" href="/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-h-hosting-static-sites-1d0db2eb5d89#.h5jsivn75"> H </a>和<a class="ae jd" rel="noopener" href="/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-j-is-for-jenkins-7a718d1f458#.s3eeear7i"> J </a>中介绍过)嗯，任何你能想到的东西，但请不要把它设计成数据库，所以请不要这样做！</p><p id="1be0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文档中有大量关于使用GCS的信息，所以我不会像承诺的那样重复！不过，我会拿出一些我觉得你应该知道的东西，让你在几分钟内了解一些基本概念和如何使用GCS。</p><h2 id="5360" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">物体识别/位置:</h2><ul class=""><li id="ab8e" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated">物体被放在称为桶的容器中</li><li id="ba53" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储桶可以是多区域的，这意味着它们跨越一个区域内的多个区域位置。还可以在一个区域内的特定地理位置创建存储桶(基本上，它们的范围缩小到比多区域位置更窄的位置，比如美国东部1或美国中部1，而不是美国多区域位置)</li><li id="8f55" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">对象有两个部分:对象数据和对象元数据</li><li id="835a" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">关于地点的更多信息，请查看<a class="ae jd" href="https://cloud.google.com/storage/docs/bucket-locations" rel="noopener ugc nofollow" target="_blank">文档</a></li></ul><h2 id="a502" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">限制:</h2><ul class=""><li id="2121" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated">您可以在一个项目中创建的存储桶数量没有限制</li><li id="ecf7" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">您可以在一个存储桶中创建的对象数量没有限制</li><li id="eb52" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">最大对象大小= 5 TB</li></ul><h2 id="36f0" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">名称空间考虑因素:</h2><p id="b82b" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我在之前关于命名的文章中提到过这个问题，但是为了完整起见，如果你只对云存储感兴趣，并且发现自己在这里，我在这里重复了一遍。</p><ul class=""><li id="370e" class="jz ka hi ih b ii ij im in iq ks iu kt iy ku jc kg kh ki kj bi translated">激活云存储与项目相关联，但是项目名称或ID与存储在云存储上的对象的名称空间无关</li><li id="345e" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">在整个Google云存储名称空间中，每个存储桶都必须有一个唯一的名称</li><li id="fdee" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">在整个Google云存储名称空间中，每个存储桶都必须有一个唯一的名称</li><li id="a03b" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储桶名称只能包含小写字母、数字、破折号(-)、下划线(_)和点(。).包含点的名称需要验证</li><li id="660e" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储桶名称必须以数字或字母开头和结尾</li><li id="e92e" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储桶名称必须包含3到63个字符。包含点的名称最多可包含222个字符，但每个点分隔的部分不能超过63个字符</li><li id="bb97" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储段名称不能用点分十进制表示法表示为IP地址(例如，192.168.5.4)</li><li id="ad9a" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储桶名称不能以“goog”前缀开头</li><li id="6320" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储桶名称不能包含“google”或接近“google”的拼写错误</li><li id="a1f0" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">如果创建带有自定义域的存储桶(如ending。然后域名验证将是该过程的一部分</li><li id="d6b5" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">为了DNS合规性和未来的兼容性，您不应该使用下划线(_)或让句点与另一个句点或破折号相邻</li><li id="42fd" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">对象命名</li><li id="d81a" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">存储对象的平面命名空间</li><li id="5077" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">对象名可以包含长度小于1024字节的Unicode字符(UTF 8编码)的任意组合</li><li id="5ac0" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">通过在对象名称中使用“/”，您可以使对象看起来好像存储在分层结构中。</li><li id="5edc" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">用于访问对象storage.googleapis.com/yourbucket/yourobject或yourbucket.storage.googleapis.com/yourobject的URI</li><li id="dd7d" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">自定义域支持—需要使用CNAMES。如果使用CNAME别名重定向请求，请在CNAME记录的主机名部分使用c.storage.googleapis.com</li></ul><h2 id="0051" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">传输数据:</h2><p id="04f5" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">除了将数据传输到GCS的标准方法(<a class="ae jd" href="https://cloud.google.com/storage/docs/getting-started-gsutil" rel="noopener ugc nofollow" target="_blank"> gsutil </a>和api调用)之外，我只想提到两个可能不太为人所知的方法</p><p id="31e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://cloud.google.com/storage/transfer/" rel="noopener ugc nofollow" target="_blank">云存储传输</a> —将数据从<em class="kv">数据源</em>传输到<em class="kv">数据宿</em>。您的<em class="kv">数据源</em>可以是S3存储桶、HTTP/HTTPS位置或GCS存储桶。您的<em class="kv">数据接收器</em>(目的地)总是一个GCS桶。它使数据源和数据接收器之间的数据传输和同步变得更加容易，因为它允许您轻松地</p><ul class=""><li id="82ae" class="jz ka hi ih b ii ij im in iq ks iu kt iy ku jc kg kh ki kj bi translated">安排一次性转账或定期转账。</li><li id="d23b" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">使用基于文件创建日期、文件名过滤器和您希望导入数据的时间的高级过滤器，计划从数据源到数据接收器的定期同步。</li><li id="6410" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">转移源对象后将其删除。</li></ul><p id="f09f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://cloud.google.com/storage/docs/streaming" rel="noopener ugc nofollow" target="_blank">流式传输</a> — GCS基于HTTP分块传输编码，使用gsutil工具或boto库支持流式传输。</p><h2 id="7942" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">存储类别:</h2><p id="93d4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">云存储有三个<a class="ae jd" href="https://cloud.google.com/storage/docs/storage-classes" rel="noopener ugc nofollow" target="_blank">存储类</a>。<a class="ae jd" href="https://cloud.google.com/storage/docs/storage-classes" rel="noopener ugc nofollow" target="_blank">文档</a>有一个很好的表格，概括了两者的不同之处:</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es kw"><img src="../Images/d95a05973d324b6b5fc7ee7fde52ddaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/0*7PB9keT802KoxCcl."/></div></figure><h2 id="2b01" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated"><a class="ae jd" href="https://cloud.google.com/storage/docs/lifecycle" rel="noopener ugc nofollow" target="_blank">生命周期管理</a>:</h2><ul class=""><li id="b00e" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated">版本控制</li><li id="329b" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">对象删除策略</li><li id="d267" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">老化到近线</li></ul><p id="6c94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">近线旨在用作归档和备份用例的“近线”存储，因此作为分层存储解决方案的一部分，从标准存储中淘汰过时对象是一种典型配置。</p><p id="e4d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用存储传输服务创建一个作业，在对象上传到标准存储桶后，按照您指定的时间间隔将数据从标准存储桶传输到近线存储桶。您可以使用<a class="ae jd" href="https://cloud.google.com/storage/transfer/getting-started" rel="noopener ugc nofollow" target="_blank">控制台</a>或<a class="ae jd" href="https://cloud.google.com/storage/transfer/create-transfer" rel="noopener ugc nofollow" target="_blank">编程设置</a></p><h2 id="1a26" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">安全性:</h2><ul class=""><li id="bc80" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated">通过访问控制列表<a class="ae jd" href="https://cloud.google.com/storage/docs/access-control" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/storage/docs/access-control</a>管理对对象和存储桶的访问</li><li id="f6f1" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">签名的URL</li><li id="69d7" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">自动服务器端加密，谷歌代表你管理加密密钥</li><li id="4ab5" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">客户端加密，您管理自己的加密密钥，并在将数据写入GCS之前对其进行加密。在这种情况下，你的数据被加密两次，一次用你的密钥，一次用谷歌的密钥</li><li id="b451" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">日志记录—访问(请求)和存储日志</li><li id="acc5" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">GCS还支持<a class="ae jd" href="https://cloud.google.com/storage/docs/iam" rel="noopener ugc nofollow" target="_blank"> IAM </a>，它允许您控制每个用户在项目级别访问存储桶和对象的能力。我在这里真正喜欢的是，Google通过将权限捆绑到常见用例的预定义角色(管理角色)中，使事情变得简单。文档中的表格显示了这种情况:</li></ul><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es le"><img src="../Images/0b1de868f48cc8023f684e5f60eb2254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EC_6tfs3hNzgrW12."/></div></div></figure><h2 id="e941" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated"><a class="ae jd" href="https://cloud.google.com/storage/docs/consistency" rel="noopener ugc nofollow" target="_blank">对象一致性</a>:</h2><ul class=""><li id="1c6a" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated">所有写后读、更新后读和删除后读操作的强全局一致性(注意，如果缓存控制元数据未明确设置为禁用对象缓存，则可以覆盖删除后读)</li><li id="7b51" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">列表操作最终是一致的</li></ul><h2 id="10b4" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">其他材料:</h2><ul class=""><li id="80b4" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated"><a class="ae jd" href="https://cloud.google.com/storage/docs/interoperability" rel="noopener ugc nofollow" target="_blank">与AWS S3的兼容性</a> —这真的很好，如果您需要在AWS S3和GCS之间传输数据，或者需要在多个供应商之间实现多样化，这一点值得注意。该API是可互操作的，您只需要为提供者使用适当的密钥，并将uri端点改为指向S3或GCS。</li><li id="a5c6" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">可恢复上传—适用于上传可能因网络故障而中断的大型对象。</li><li id="f3a0" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">您不能嵌套存储桶</li><li id="669d" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">要以编程方式访问，请使用GCloud SDK。支持各种语言</li><li id="7e13" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">与其他GCP产品紧密集成参见<a class="ae jd" href="https://cloud.google.com/storage/docs/google-integration" rel="noopener ugc nofollow" target="_blank">此处</a></li><li id="ef8f" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated"><a class="ae jd" href="https://cloud.google.com/storage/docs/object-change-notification" rel="noopener ugc nofollow" target="_blank">对象更改通知</a> —当新对象添加到存储桶、现有对象的内容或元数据被修改或者对象从存储桶中被删除时，发送通知事件。</li></ul><p id="7fd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望这能让您对GCS的灵活性和强大功能有一个很好的了解，以及为什么我将它视为基础构件。</p><p id="f896" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我离开这篇文章之前，我想感谢我的同事Karan @sdksb，他帮助我下定决心,“Object store”将是我进入O。</p></div></div>    
</body>
</html>