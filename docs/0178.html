<html>
<head>
<title>Building Actions for the Google Assistant with No Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不用代码就能为谷歌助手构建动作</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/building-actions-for-the-google-assistant-with-no-code-35ad5adb7448?source=collection_archive---------4-----------------------#2016-12-18">https://medium.com/google-cloud/building-actions-for-the-google-assistant-with-no-code-35ad5adb7448?source=collection_archive---------4-----------------------#2016-12-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="65ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:我是一名负责谷歌助手的产品经理，很高兴看到开发者们开始在谷歌上构建动作。</p><p id="4620" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但不仅仅是开发人员，每个人都是某方面的专家，现在你可以在Google Home上通过Google Assistant和API分享这些专业知识。AI不需要编码！绝对免费，不到1小时。</p><p id="4ae5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有三个步骤:</p><ol class=""><li id="5361" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj">设计</strong>对话式体验</li><li id="a654" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><strong class="ih hj">开发</strong>API中的动作。AI(记住，我承诺过，不需要编码，你可以做到这一点！)</li><li id="06b8" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated"><strong class="ih hj">通过谷歌动作控制台发布</strong>动作</li></ol><p id="8c0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始吧。</p><p id="5082" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<a class="ae jd" href="https://developers.google.com/actions/develop/conversation" rel="noopener ugc nofollow" target="_blank">https://developers.google.com/actions/develop/conversation</a>查看完整文档</p><h1 id="eb4b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">第一步:设计</h1><p id="0bcc" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">首先决定你能与世界分享什么知识、激情或经验。只有几个很适合这种形式的想法:</p><p id="dddc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">猫的事实，振奋人心的报价，莎士比亚的侮辱，育儿技巧，律师笑话，历史事实，乐高事实，励志报价，一天的补充，节税提示，海洋的声音，电影报价，算命，股市预测，名人八卦，科学事实，天空是极限…</p><p id="6210" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在这篇文章中探讨的对话格式是一种“一次性”模式。在一次性模式中，最终用户与你的行为对话，你立即带着用户需要的东西返回。当然是API。AI支持的远不止这些，但是让我们从简单的开始吧。</p><p id="d7e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将使用我略知一二的东西作为我们的例子:道格拉斯·亚当斯的《银河系漫游指南》。用户要求从系列图书中随机引用一段话，我的操作返回一段话。因此，对话框看起来像这样:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/155eaee77a7f5b75b6c1d531a7aa7a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gabN7D2OMuQ_kDCJ."/></div></div></figure><p id="ca00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">显然，这是一个非常简单的流程。用户通过说“好吧，谷歌，让我谈谈大多数无害的报价”来访问他们的谷歌主页。然后谷歌助手会向他们介绍你的行动。每次用户谈到这个行动，他们将得到一个不同的报价。</p><h1 id="f629" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">第二步:发展</h1><h2 id="b9c0" class="lh jt hi bd ju li lj lk jy ll lm ln kc iq lo lp kg iu lq lr kk iy ls lt ko lu bi translated"><strong class="ak">转到</strong><a class="ae jd" href="https://eap.api.ai/" rel="noopener ugc nofollow" target="_blank"><strong class="ak">https://api.ai/</strong></a><strong class="ak">，创建一个账号，并创建大部分无害的代理。</strong></h2><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/3eaa5ac99285b466db0f3f75a571f6d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*to9RaKN3nErovSqL."/></div></div></figure><p id="d18c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要一个意图。意图将用户所说的映射到一个动作。默认情况下，我们有两个意图:</p><p id="172f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">欢迎意向</strong> —当我们的代理被调用时将做出响应</p><p id="6475" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认回退意图——如果用户说了不被任何其他意图处理的话，将会做出响应</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lw"><img src="../Images/3bb5647536d53d29f0339a5cfcb55523.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e9WmcUBjs6sT1ziPw_IQeQ.png"/></div></div></figure><p id="deb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来我们需要给出一个用户可以说什么的例子。我们将暂时在用户声明行中明确添加这一点，稍后我们将在谷歌集成上用一些特定的操作来替换这一点。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lx"><img src="../Images/f0fea2552f61c169a3193329e7be5492.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8_fBIy1mo3mOT94aKkwIWA.png"/></div></div></figure><p id="4c7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，在删除默认报价后，我们可以在此意向表底部输入我们的第一个报价方式。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es ly"><img src="../Images/daca0d56643a3c2945bb21fd1ff168f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6yZTM4RtEr_X1eUx7j9oYw.png"/></div></div></figure><p id="fc1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在点击保存，在右边的测试控制台中测试一下。你可以看到，当用户说“与大多数无害的报价交谈”时，他们得到了我们的答案。您甚至可以单击“播放”来听听它的声音。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lz"><img src="../Images/4541043ea0ccb0a916da3e0c36cb8d24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l56zYyM7F5PFcY_-PxQdYw.png"/></div></div></figure><p id="a8bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好，再补充几个例子。我的建议是至少给10。这些回答是随机给用户的，所以用户每次都有可能得到不同的答案。</p><p id="cc57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我添加了几个引号后的意图。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/b5bb1201b4b75c922166532aa22102ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XNnEeuHCoeRBI9ra."/></div></div></figure><p id="f432" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">额外收获:想加点音效？和SSML打交道很容易。你可以阅读<a class="ae jd" href="https://developers.google.com/actions/reference/ssml" rel="noopener ugc nofollow" target="_blank">完整的文档</a>，但是，这里有一个在引用的结尾添加一些很酷的声音效果的例子。你也可以让整个响应无非是播放一个声音。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es ma"><img src="../Images/9dded6f49730f82015e6bc3b48c0cbf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oXFt5F1zhXPb5_TI."/></div></div></figure><p id="15f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你需要帮助将声音文件存储在一个公共场所，请查看<a class="ae jd" href="https://cloud.google.com/storage/docs/how-to" rel="noopener ugc nofollow" target="_blank">谷歌云存储</a>。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/94f770a7ae9c234742431e9a5abc44d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6H3wCIV9gb6KZlpV."/></div></div></figure><p id="1901" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们只需要准备好与谷歌助手集成的意图。为此，请转到“集成”选项卡，并在Google上启用操作。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mb"><img src="../Images/149f1150689b9c6977b5089dcdffe4f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j28oLpe5c0xJ-6vH4KH0jQ.png"/></div></div></figure><p id="f643" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们在google元数据上填写动作。我们可以从给出一个调用名(用户将对google assistant说什么来与这个动作对话)开始，并将welcome-intent设置为我们唯一的意图，方便地命名为welcome-intent。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mc"><img src="../Images/3a9fe6189942a3e31243b3ae0af3dcc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_Pry0_07VSnBka8Z."/></div></div></figure><p id="8bc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，有一个小问题要解决。在welcome intent的底部，有一个复选框，在我们说出其中一个表达式后，就可以结束对话。(您可能需要点击Google上的操作来显示该选项)。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es md"><img src="../Images/7cf57515f34fe6ba5fd02264ba02f9f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cSW0vkE19ME9qvcI."/></div></div></figure><p id="b08c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在只需授权，通过权限流程。然后点击预览，看看这将是什么样子的谷歌主页。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/fafc405b5a231a0eede5d63cfbdca93f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zdGJe41ZYwLT6acr."/></div></div></figure><p id="d7ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一点上，如果你有一个用同样的Google身份登录的Google Home，你可以简单地说:“Ok Google talk to most unless quotes”然后你应该会听到你的一个引用！</p><p id="ddfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你也可以看看网络模拟器。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es me"><img src="../Images/90134e1861e0c1b8fd1dcf9e05e6895c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vhGNX7xSQpxwi3XL."/></div></div></figure><p id="9578" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这一点上，它看起来很棒！我们应该出版它！</p><h1 id="c14b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">第三步:分发</h1><h2 id="44b2" class="lh jt hi bd ju li lj lk jy ll lm ln kc iq lo lp kg iu lq lr kk iy ls lt ko lu bi translated">你已经建立了一个伟大的行动，是时候确保全世界都能找到它了(至少是拥有Google Home的人的世界)。</h2><p id="5d41" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">去console.developers.google.com<a class="ae jd" href="https://console.developers.google.com" rel="noopener ugc nofollow" target="_blank">创建一个新项目</a></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mf"><img src="../Images/2d3feda6ea7572e6915878fff0a81888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*loi0-kqXzcB1Svcf."/></div></div></figure><p id="b5dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给项目取一个有意义的名字，注意项目ID对于可读性来说是最重要的，编辑它使之易于输入和记忆。另外，请注意，系统会提示我们输入一个账单账户。这是不需要的。无论你的交通流量有多大，步行都是免费的！</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mg"><img src="../Images/bb5f142446961add8d97a8c2edca894c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5BarPl7TcGeq3rrZ."/></div></div></figure><p id="9f4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">项目创建完成后(大约需要1分钟)，你会看到一个很大的API列表。您正在寻找“操作API”。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mb"><img src="../Images/149f1150689b9c6977b5089dcdffe4f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j28oLpe5c0xJ-6vH4KH0jQ.png"/></div></div></figure><p id="c3ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后只需点击启用:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/7efd356350a87398bcfaed537314c906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mpjp4sNP5meG6Bmt."/></div></div></figure><p id="13aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">切换到目录列表选项卡显示如下:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mh"><img src="../Images/751e0df6c5c552d8f622385170a413a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ntnQAinc4q653mKr."/></div></div></figure><p id="352c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你只需要填写这张表格。这是最终用户发现您的行为的方式。所以花一分钟让它看起来不错。这是我为我的例子想到的。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/31c08e59a86eda26aa387c474b86841b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Nksd7cSSXLLYDvV0."/></div></div></figure><p id="4469" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们只需要公布我们的行动。只需获取项目ID</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mi"><img src="../Images/6bdd7394272ed3c289e5bfbe95a52185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ucIdTQSYIDuJSu66."/></div></div></figure><p id="6c9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并将项目ID粘贴到API中Google项目ID字段。你创建的AI项目。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mj"><img src="../Images/3b16f28bfc8c2adddeca58e904540f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ootRukOuRsv6O-92."/></div></div></figure><p id="d82b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后单击部署！现在你都准备好了。只需等待您的行动被审查和部署。(可能需要几天)。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lw"><img src="../Images/950fd3a276aa740b03dcec6038d3f2c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hRZvg7FLWaPxetpp."/></div></div></figure><p id="3345" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你有乐趣建立一个行动！请给我写信，告诉我你建造了什么。</p><h1 id="6593" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">解决纷争</h1><h2 id="3e26" class="lh jt hi bd ju li lj lk jy ll lm ln kc iq lo lp kg iu lq lr kk iy ls lt ko lu bi translated">ID为“[项目id]”的代理未注册</h2><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/b68096a641c8d60a87aebed0c7ed73f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DmcQGVGbI3sn-kBe."/></div></div></figure><p id="79a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了解决这个问题:</p><ol class=""><li id="43f3" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">验证您已经从<a class="ae jd" href="https://support.google.com/cloud/answer/6158840?hl=en" rel="noopener ugc nofollow" target="_blank">开发人员控制台准确复制了项目ID。</a></li></ol><p id="7d65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">—或者—</p><ol class=""><li id="520d" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">确保在目录列表中保存(而不仅仅是输入)列表信息。确保保存/注册时没有错误。您应该会在左下方看到“目录列表已保存”的通知。</li></ol></div></div>    
</body>
</html>