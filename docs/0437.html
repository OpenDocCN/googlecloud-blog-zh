<html>
<head>
<title>The windiest place in the USA is in Utah</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">美国风力最大的地方在犹他州</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/the-windiest-place-in-the-usa-is-in-utah-861d7438bc31?source=collection_archive---------1-----------------------#2017-11-17">https://medium.com/google-cloud/the-windiest-place-in-the-usa-is-in-utah-861d7438bc31?source=collection_archive---------1-----------------------#2017-11-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="686c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你现在可以在Google BigQuery 中交互式查询<a class="ae jd" href="http://www.spc.noaa.gov/" rel="noopener ugc nofollow" target="_blank">风暴预测中心</a>(SPC)<a class="ae jd" href="http://console.cloud.google.com/launcher/details/noaa-public/noaa-spc-storm-reports" rel="noopener ugc nofollow" target="_blank">的恶劣天气(龙卷风、冰雹、大风)的质量控制报告(每月前1 TB的处理是免费的)。这是NOAA开放数据集之一，由正在进行的名为</a><a class="ae jd" href="http://www.noaa.gov/big-data-project" rel="noopener ugc nofollow" target="_blank"> NOAA大数据项目</a>的公私合作项目提供。</p><p id="15b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个例子，你可以用这些数据做什么。美国风最大的地方是哪里？你可以用多种方式定义“风力最强”一词，但一种合理的方式是将它定义为在任何给定的一年中发生严重风力事件次数最多的县。</p><p id="713c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们编写一个快速的SQL查询来实现这一点…转到<a class="ae jd" href="https://bigquery.cloud.google.com/savedquery/663413318684:eff13a6dfaea475a81b1d6be2affe6a0" rel="noopener ugc nofollow" target="_blank"> BigQuery web控制台并键入</a>:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="3ae5" class="jn jo hi jj b fi jp jq l jr js">#standardsql<br/>WITH<br/>  windreports AS (<br/>  SELECT<br/>    CONCAT(county, ", ", state) AS county,<br/>    speed AS windspeed,<br/>    EXTRACT(year<br/>    FROM<br/>      timestamp) AS year<br/>  FROM<br/>    `bigquery-public-data.noaa_spc.wind_reports`)<br/>SELECT<br/>  county,<br/>  year,<br/>  MAX(windspeed) AS maxwinds,<br/>  COUNT(windspeed) AS numevents<br/>FROM<br/>  windreports<br/>GROUP BY<br/>  year,<br/>  county<br/>ORDER BY<br/>  numevents DESC</span></pre><p id="d3d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我运行上述查询时，我得到了:</p><figure class="je jf jg jh fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es jt"><img src="../Images/26ceaf38c99660ddf4961dd78051416b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HDOdapBpE5hXoeA4Yrt91w.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">连续三年，美国风力最大的县是犹他州的图埃勒县</figcaption></figure><p id="817a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那里风很大(2016年62天大风！)，但是75 mph最大风速也没那么差。嗯，足够快以至于逆风会让你的车停下来，但是你知道我的意思…</p><p id="da4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将查询改为按maxwinds排序，我们得到:</p><figure class="je jf jg jh fd ju er es paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="er es kf"><img src="../Images/b3907ad7b67300a749bb25b22ebad404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iRKIKDx4hAY7Tv8kEKYGrg.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">然而，按照风速排序，我们得到了一个有趣的组合</figcaption></figure><p id="1ab7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，事情似乎更有趣了，飓风地区(德克萨斯州，洛杉矶)，山地州(MT)和大草原(堪萨斯州，SD)混合在一起。</p><p id="f843" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐查询。</p></div></div>    
</body>
</html>