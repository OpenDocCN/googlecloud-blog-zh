<html>
<head>
<title>My Go IDE in a Container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我放在一个容器里</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/my-ide-in-a-container-49d4f177de?source=collection_archive---------1-----------------------#2015-11-03">https://medium.com/google-cloud/my-ide-in-a-container-49d4f177de?source=collection_archive---------1-----------------------#2015-11-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d086" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我是一名Java开发人员，我喜欢使用IDE。具体来说，当我写代码时，我喜欢语法高亮、自动补全/建议和访问开发人员文档。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/c22961f9ecbc077feb4920775f4788b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RpGr8WaXUD7uCPynsSDmOA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Eclipse IDE for Java —自动完成和文档</figcaption></figure><p id="613c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我也开始学习写围棋。我在Go中写了一些东西，因为我喜欢它编译成本地代码的能力。我编写的一个实用程序是一个命令行<a class="ae jt" href="https://github.com/saturnism/oauth2util" rel="noopener ugc nofollow" target="_blank"> OAuth 2.0实用程序</a>，它允许您生成离线刷新令牌，最近，我编写了一个Go程序，它使用带有二进制拆分的Chudnovsky方法计算圆周率的位数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/9923a4735101fee4286660e159a24640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d8tDwzvaM_gi6kI2Ho6wLQ.png"/></div></div></figure><p id="a82f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最初，我在没有任何语言支持的情况下用Vi编写Go。但是我认为获得一些我作为Java开发人员所熟悉的特性会很好。我最终找到了一个名为<a class="ae jt" href="https://github.com/fatih/vim-go" rel="noopener ugc nofollow" target="_blank"> Vim-Go </a>的插件。它看起来像我想要的一切，除了它不容易安装:</p><ul class=""><li id="92b8" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated">它需要其他几个插件才能工作</li><li id="94f1" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">一些插件需要我的Vim安装中没有的特性，比如python2支持</li><li id="5639" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">它需要许多Go实用程序才能工作，比如goimport、godef和golint等等</li><li id="1e06" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">它不包括您可能也想拥有的其他组件，如NERDTree</li></ul><p id="613e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我设置Vim-Go时，我有点担心在我的笔记本电脑上安装一堆插件和组件，如果我转移到另一个环境，我以后需要重新安装它们。(作为一名Java开发人员，我安装了无数次Eclipse IDE，安装了无数个插件，很多次都是因为换过电脑。)与其在基于Vim的IDE中辛苦地完成类似的过程，我想也许我可以在一个容器映像中构建整个过程。</p><p id="8456" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此使用容器有几个好处:</p><ol class=""><li id="76d5" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc kj kb kc kd bi translated">安装说明是自文档化的——docker文件有我安装IDE环境所需的确切步骤。</li><li id="b69e" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc kj kb kc kd bi translated">我不需要安装本地包/依赖项——我只需要将它们安装在Docker映像中！</li><li id="b539" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc kj kb kc kd bi translated">我可以在任何地方运行它——不管我使用什么环境，我都可以启动“docker run -ti saturnism/go-ide ”,它会把我带到一个我熟悉的环境中。</li><li id="0b61" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc kj kb kc kd bi translated">它是可定制的——不喜欢容器里的东西？在Dockerfile文件中自定义它，其他人也可以使用它。</li><li id="6c09" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc kj kb kc kd bi translated">我可以在容器中安装本地库依赖项，而不是在我的笔记本电脑上。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kk"><img src="../Images/76e5d0e7ffddeb0d6f49850049d5ff42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tmsEkfD9lGNvY6nj117hYw.png"/></div></div></figure><p id="166f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，我构建了一个容器映像，用于安装和配置:</p><ul class=""><li id="3f5b" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated"><a class="ae jt" href="http://zsh.sourceforge.net/" rel="noopener ugc nofollow" target="_blank"> Zsh </a>和<a class="ae jt" href="https://github.com/robbyrussell/oh-my-zsh" rel="noopener ugc nofollow" target="_blank">哦我的Zsh </a></li><li id="106b" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><a class="ae jt" href="https://tmux.github.io/" rel="noopener ugc nofollow" target="_blank"> Tmux </a>和<a class="ae jt" href="https://github.com/tmuxinator/tmuxinator" rel="noopener ugc nofollow" target="_blank"> Tmuxinator </a></li><li id="ac5e" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated">Vim插件比如<a class="ae jt" href="https://github.com/Valloric/YouCompleteMe" rel="noopener ugc nofollow" target="_blank"> YouCompleteMe </a>、<a class="ae jt" href="https://github.com/tpope/vim-sensible" rel="noopener ugc nofollow" target="_blank"> Sensible </a>、<a class="ae jt" href="https://github.com/garyburd/go-explorer" rel="noopener ugc nofollow" target="_blank"> Go Explorer </a>、<a class="ae jt" href="https://github.com/scrooloose/nerdtree" rel="noopener ugc nofollow" target="_blank"> NERDTree </a>，当然还有Vim-Go。</li></ul><p id="5a2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过运行以下命令来试用IDE:</p><pre class="je jf jg jh fd kl km kn ko aw kp bi"><span id="079a" class="kq kr hi km b fi ks kt l ku kv">docker run --rm -ti saturnism/go-ide</span></pre><p id="ade1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:一旦你离开容器，你所有的文件都将被删除！哦，不。没有人愿意丢掉工作。这里有两个技巧，你可以用来确保你的工作被保存！</p><p id="7c84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以装载一个宗卷来储存您的文件:</p><pre class="je jf jg jh fd kl km kn ko aw kp bi"><span id="0654" class="kq kr hi km b fi ks kt l ku kv">docker run --rm -ti -v /mysource:/go/src</span></pre><p id="1eb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，您可以将文件保存在持久容器卷中:</p><pre class="je jf jg jh fd kl km kn ko aw kp bi"><span id="9206" class="kq kr hi km b fi ks kt l ku kv">docker create -v /go/src --name myproject saturnism/go-ide /bin/true<br/>docker run -d --volumes-from myproject saturnism/go-ide</span></pre><p id="1bd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这在Docker机器上也能很好地工作。如果你没有读过我以前的文章，我已经在谷歌云平台上使用Docker Machine好几个月了——我也有很多关于这个主题的技巧和诀窍可以分享。</p><p id="e58e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">更新</strong>:果不其然，在我把我的Go IDE装箱后不久，我不得不切换我的工作笔记本电脑。我很高兴我做到了！</p><p id="b341" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">更新</strong>:也可以挂载$GOPATH到/go，但是需要手动运行Vi中的:GoInstallBinaries。还有一个名为<a class="ae jt" href="https://github.com/ulrichSchreiner/atocker" rel="noopener ugc nofollow" target="_blank"> atocker </a>的Atom容器！参见Reddit帖子。</p></div><div class="ab cl kw kx gp ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="hb hc hd he hf"><p id="3829" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">喜欢这个主意吗？在GitHub上的saturnism/go-ide 下找到<a class="ae jt" href="https://github.com/saturnism/go-ide" rel="noopener ugc nofollow" target="_blank">源代码，并对其进行更多的定制，以适应您特定的go开发偏好！</a></p></div></div>    
</body>
</html>