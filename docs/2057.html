<html>
<head>
<title>How logs are stored in Cloud Logging</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在云日志中存储日志</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/how-logs-are-stored-in-cloud-logging-b6869ced0fa?source=collection_archive---------1-----------------------#2022-01-13">https://medium.com/google-cloud/how-logs-are-stored-in-cloud-logging-b6869ced0fa?source=collection_archive---------1-----------------------#2022-01-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="de93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章是<a class="ae jd" href="https://minherz.medium.com/how-cloud-logging-works-series-3aab7e7a1eed" rel="noopener">云日志如何工作</a>系列的一部分。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/15bb222a82845b171d1978fdb0d6a792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KkZM4uBTqOzISp0R"/></div></div></figure><p id="9ba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云日志以<em class="jq"> protobuf </em> <a class="ae jd" href="https://developers.google.com/protocol-buffers/docs/encoding" rel="noopener ugc nofollow" target="_blank">二进制格式</a>存储所有日志。如果日志导出到其他存储位置(例如BigQuery ),格式可能会有所不同。用户添加到条目中的定制标签或Json有效负载元素越多，存储效率就越低。这是因为对于定制元素(比如键:值对)，protobuf必须存储键和值，而对于“已知”字段，它只存储值。</p><p id="b151" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您需要估计您将需要的日志存储容量，并且将为此计费，您可以使用这些知识(有关详细信息，请参见<a class="ae jd" href="https://cloud.google.com/stackdriver/pricing" rel="noopener ugc nofollow" target="_blank">云操作套件定价</a>)。</p><p id="fd33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个日志条目的大小被<a class="ae jd" href="https://cloud.google.com/logging/quotas#log-limits" rel="noopener ugc nofollow" target="_blank">限制</a>为大约。256KB。如果您发送日志条目大于256KB的摄取<a class="ae jd" href="https://cloud.google.com/logging/docs/reference/v2/rest/v2/entries/write" rel="noopener ugc nofollow" target="_blank">请求</a>，它将被拒绝。如果您发送多个日志条目，尽管可能有一些无效条目，但您希望所有“好的”条目都被接收，您应该使用请求的<code class="du jr js jt ju b">partialSuccess</code> <a class="ae jd" href="https://cloud.google.com/logging/docs/reference/v2/rest/v2/entries/write#body.request_body.FIELDS.partial_success" rel="noopener ugc nofollow" target="_blank">参数。当它设置为<code class="du jr js jt ju b">true</code>时，云日志后端将存储所有有效的日志条目，并将返回未存储的无效条目列表，并说明原因。最后但同样重要的是，注意请求的总大小。也是有限的。日志接收请求的大小不能大于10MB。</a></p></div></div>    
</body>
</html>