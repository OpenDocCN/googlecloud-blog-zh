# GCP 安全 101:保护资源安全的初学者指南

> 原文：<https://medium.com/google-cloud/gcp-security-101-a-beginners-guide-to-keeping-your-resources-safe-6da1cc09b5a1?source=collection_archive---------8----------------------->

![](img/b9ee3a114b10695d997550baacbb8f15.png)

照片由[飞:D](https://unsplash.com/es/@flyd2069?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/s/photos/security?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

保护您的谷歌云平台(GCP)环境对于确保您的数据和资源的安全性和完整性至关重要。GCP 提供了一系列安全功能和工具来帮助您保护您的环境，但您也可以采取一些简单的步骤来增强您的 GCP 帐户的安全性。

在本文中，我们将探索十种方法来保护您的 GCP 环境。这些步骤包括启用多因素身份认证(MFA)、设置防火墙规则、使用身份和访问管理(IAM)、加密敏感数据、使用虚拟专用云(VPCs)、VPC 服务控制、Cloud Armour、云身份感知代理(Cloud IAP)、定期审查和监控您的资源，以及实施安全最佳实践。

1.  **为所有用户帐户启用多因素身份验证(MFA)**

保护您的 GCP 帐户的最有效方法之一是为所有用户帐户启用 MFA。MFA 要求用户在登录其 GCP 帐户时提供额外形式的身份验证，如发送到手机的代码或安全密钥。这有助于防止未经授权访问您的帐户，即使有人已经获得了您的密码。

若要为你的 GCP 帐户启用 MFA，你需要设置安全密钥或使用移动应用来生成身份验证代码。然后，您可以为单个用户帐户或组织中的所有用户启用 MFA。

**2。设置防火墙规则**

GCP 的防火墙允许您控制进出 GCP 资源的入站和出站流量。这是保护您的资源免受外部威胁和未授权访问的重要一步。

要设置防火墙规则，您需要为每个规则指定源和目的 IP 地址、协议和端口。您可以根据这些条件允许或拒绝流量，还可以指定规则是应用于入站流量还是出站流量。

最好设置防火墙规则，只允许资源正常运行所需的流量。例如，您可能允许来自特定 IP 地址或网络的流量，或者您可能允许特定端口上的流量。

借助[分层防火墙策略](https://cloud.google.com/vpc/docs/firewall-policies)，您甚至可以在组织或文件夹级别创建一组适用于项目中所有实例的防火墙规则，然后在项目级别创建仅适用于特定实例或实例组的附加规则集。这使您能够高度灵活地控制网络安全。

**3。使用身份和访问管理(IAM)**

IAM 允许您通过为不同的用户和组设置角色和权限来控制对 GCP 资源的访问。这是确保只有授权用户才能访问所需资源的重要一步。

要在 GCP 设置 IAM，您需要创建一个或多个用户帐户，并为每个用户分配角色。GCP 中有几个可用的内置角色，如“项目编辑器”、“查看器”和“存储对象查看器”，它们允许用户在您的项目中执行特定的操作。如果内置角色不能满足您的需要，您还可以创建具有特定权限的自定义角色。例如，您可以创建一个自定义角色，允许用户创建和删除计算引擎实例，但不能对您的项目进行任何其他更改。

GCP 还允许你设置一个 [IAM 拒绝策略](https://cloud.google.com/iam/docs/deny-overview)。IAM 拒绝策略是一种 IAM 策略，它明确拒绝用户或用户组访问特定资源或操作。拒绝策略优先于允许策略，因此，如果在拒绝策略中明确拒绝用户或用户组访问资源，即使在允许策略中授予他们访问资源的权限，他们也将无法访问该资源。

当您希望确保某些用户或用户组无法执行某些操作，而不管他们可能拥有的任何其他权限时，拒绝策略非常有用。例如，您可以使用拒绝策略来防止某些用户删除项目中的资源，或者防止某些组访问敏感数据。

**4。加密敏感数据**

加密您的数据有助于防止未经授权的访问，无论是静态数据还是传输中的数据。GCP 为加密数据提供了多种选择，包括使用客户管理的加密密钥，这允许您控制用于加密数据的加密密钥。

您还可以默认为某些类型的资源启用加密，例如云存储桶或计算引擎磁盘。这确保了存储在这些资源中的任何数据都被自动加密，即使您忘记手动启用加密。

最好加密任何敏感数据，例如财务或个人信息，以防止未经授权的访问。GCP 为云存储和 Bigtable 提供静态加密，您也可以为计算引擎磁盘和云 SQL 实例使用加密。

对于传输中的数据，GCP 支持传输层安全性(TLS)，以实现服务之间的安全通信。您也可以使用云虚拟专用网络在您的内部网络和您的 GCP 资源之间建立安全连接。

**5。使用虚拟私有云(VPCs)**

虚拟私有云(VPCs)允许您在 GCP 创建一个虚拟网络，并控制对该网络中资源的访问。这对于隔离您的资源并控制对它们的访问是一个有用的工具。

要在 GCP 建立 VPC，您需要创建一个或多个 VPC 网络，并配置网络设置，如 IP 地址范围和子网。然后，您可以在 VPC 网络中创建资源，例如计算引擎实例或云存储桶，并使用防火墙规则和 IAM 控制对这些资源的访问。

使用 VPC 有助于确保您的资源与 GCP 的其他资源隔离，从而保护它们免受外部威胁。

**6 .VPC 服务控制**

虚拟私有云(VPC)服务控制是谷歌云平台(GCP)的一项安全功能，允许您控制对 VPC 网络内资源的访问。VPC 服务控件允许您在资源周围创建一个周界，并指定可以对这些资源采取的操作。

VPC 服务控制可以帮助保护您的 GCP 环境，限制对您的资源的访问，并确保只有授权用户才能访问和修改它们。他们还可以通过在您的资源周围创建虚拟防火墙来帮助保护您的资源免受外部威胁。

要使用 VPC 服务控制，您需要创建一个 VPC 网络，并指定要包含在外围的资源。然后，您可以使用 IAM 策略和防火墙规则来控制对这些资源的访问。

定期审查和更新您的 VPC 服务控制非常重要，以确保它们反映您当前的安全需求并适当保护您的资源。

**7 .适用于您的公众可用工作的云甲**

谷歌云装甲是一项网络安全服务，为谷歌云平台(GCP)资源提供分布式拒绝服务(DDoS)保护，包括计算引擎和谷歌库本内斯引擎(GKE)集群。它旨在抵御外部威胁，如 DDoS 攻击，也可用于通过使用 Web 应用程序防火墙(WAF)规则来抵御应用程序级别的攻击。

云装甲可用于保护 GCP 资源的入站和出站流量。它结合使用多种技术，包括连接速率限制、包过滤和请求分析，来识别和减轻威胁。

借助 Cloud Armor，您可以创建自定义安全策略，定义允许或拒绝 GCP 资源访问的流量类型。您还可以设置警报，以便在流量模式或其他安全事件发生时通知您。

Cloud Armor 是一项完全托管的服务，这意味着 Google 会为您处理该服务的部署、维护和更新。这使您能够专注于您的应用程序和业务，而不是担心安全基础设施。

总的来说，Cloud Armor 是一个强大的工具，可以保护您的 web 应用程序免受威胁，并确保您的用户在访问您的应用程序时有一个安全的体验。

**8。使用云身份感知代理(云 IAP)**

云身份感知代理(Cloud IAP)允许您根据用户的身份控制对 GCP 资源的访问。Cloud IAP 允许您根据用户的身份及其在组织中的角色来授予或拒绝对特定资源的访问权限。这对于控制对敏感资源的访问和防止未经授权的访问是一个有用的工具。

要使用 Cloud IAP，您需要为您的 GCP 项目启用该功能，并为您的资源配置访问控制。您可以使用 IAM 角色来指定访问每个资源所需的权限，还可以使用 Cloud IAP 来控制从特定 IP 地址或网络对资源的访问。

云 IAP 可以与其他安全措施(如防火墙规则和 MFA)结合使用，为您的资源提供额外的保护层。

**9。定期检查和监控你的资源**

定期检查和监控您的 GCP 资源可以帮助您确保它们是安全的。这包括监控安全威胁和漏洞，以及执行定期的安全评估和审计。

GCP 提供了一系列工具来帮助您监控您的资源，包括云安全指挥中心，它允许您检测和响应您帐户中的潜在安全问题。您还可以使用日志记录和监视来跟踪资源的变化，并识别任何潜在的安全问题。

您还可以设置安全警报，以便在您的帐户中检测到潜在安全问题时接收通知。您可以为各种安全事件设置警报，例如可疑的登录活动或防火墙规则的更改。

要设置安全警报，您需要在监控中配置您的警报策略。您可以指定触发警报的条件，以及触发警报时应采取的操作。

启用安全警报可以帮助您快速识别和响应 GCP 环境中的潜在安全问题。

> 你也可以看看我的另一篇文章，关于如何监控你的 GCP 环境的变化，并获得即时警报[](/google-cloud/gcp-cloud-asset-inventory-feed-get-real-time-notifications-on-resource-changes-63fe3687d3c)**。**

*10。实施安全最佳实践*

*除了上述具体的安全措施之外，实施安全最佳实践来帮助保护您的 GCP 环境免受潜在的安全威胁也很重要。要考虑的一些最佳实践包括:*

*   *定期更新软件:确保所有软件都安装了最新的安全补丁，有助于保护您的资源免受已知漏洞的侵害。*
*   *使用强而唯一的密码:每个用户唯一的强密码有助于防止未经授权访问您的 GCP 帐户。*
*   *限制对敏感资源的访问:只向需要的用户授予对敏感资源的访问权限，并根据需要定期审查和撤销访问权限。*
*   *定期进行安全评估和审计:定期检查您的安全实践并进行安全评估和审计可以帮助您识别 GCP 环境中的潜在弱点，并采取措施解决它们。*

*通过实施这些和其他安全最佳实践，您可以帮助保护您的 GCP 环境免受潜在的安全威胁。*

*保护 GCP 环境是保护数据和资源的一个重要方面。通过遵循本文中概述的步骤，您可以确保您的 GCP 环境尽可能安全。无论您是小型企业还是大型企业，这些简单的措施都可以帮助您保护您的 GCP 环境，并确保您的数据和资源的安全。*