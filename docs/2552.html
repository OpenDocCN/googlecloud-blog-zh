<html>
<head>
<title>CloudSQL as an External Database for pgAdmin Configurations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CloudSQL作为pgAdmin配置的外部数据库</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/storing-pgadmin-configuration-on-cloudsql-as-external-database-6ac367c38f42?source=collection_archive---------5-----------------------#2022-11-24">https://medium.com/google-cloud/storing-pgadmin-configuration-on-cloudsql-as-external-database-6ac367c38f42?source=collection_archive---------5-----------------------#2022-11-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="15d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">pgAdmin是一个广泛使用的、用户友好的PostgreSQL数据库客户端控制台。pgAdmin的最新版本6.16增加了对在外部数据库中存储配置的支持。</p><p id="4169" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于那些想要定制自己的pgAdmin设置的用户来说，这是一个很有用的特性，比如禁用仪表板或者将主题改为黑暗模式。以前，pgAdmin配置存储在本地SQLite数据库中，但现在用户可以选择使用外部的PostgreSQL兼容数据库来存储他们的设置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e4cb36e8e542128babb9a49e4a52b698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jDLBqLrEjmFqCHfu"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/22348c84d37a227dd34d0686be2f4e71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xREtZY7q4XtZZ_qm"/></div></div></figure><h2 id="a611" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated"><em class="kk">配置_数据库_URI配置</em></h2><p id="5fd1" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">pgAdmin版在标志<em class="kq"> CONFIG_DATABASE_URI </em>上提供了额外的选项，可用于将默认存储从SQLite数据库覆盖到外部PostgreSQL数据库。</p><p id="ef0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于指定外部PostgreSQL数据库的示例格式。</p><blockquote class="kr ks kt"><p id="53df" class="if ig kq ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated">' CONFIG _ DATABASE _ URI = ' PostgreSQL://&lt;<username>&gt;:&lt;<password>&gt; @&lt;<host-endpoint>&gt;:&lt;<port>&gt;/&lt;<databasename>&gt; '</databasename></port></host-endpoint></password></username></p></blockquote><p id="1828" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以找到包含<em class="kq"> CONFIG_DATABASE_URI </em>选项<em class="kq"> </em>的pgAdmin，config.py配置文件的路径通常如下。</p><blockquote class="kr ks kt"><p id="9c61" class="if ig kq ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated"><strong class="ih hj">Mac</strong>:-/Applications/pgAdmin 4.app/Contents/Resources/web/config.py</p><p id="f525" class="if ig kq ih b ii ij ik il im in io ip ku ir is it kv iv iw ix kw iz ja jb jc hb bi translated"><strong class="ih hj">Windows</strong>:-C:\ Users \&lt;&lt;用户名&gt;&gt;\ AppData \ Local \ Programs \ pg admin 4 \ V6 \ web \</p></blockquote><h2 id="c8c5" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">CloudSQL for PostgreSQL作为pgAdmin配置的外部数据库</h2><p id="8c29" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">将CloudSQL配置为外部数据库很简单。为此，您只需使用CloudSQL数据库详细信息更新CONFIG_DATABASE_URI。建立连接后，重新启动pgAdmin应用程序。</p><p id="df61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应用程序可能需要几分钟时间在新数据库中设置必要的表，并存储所有与pgAdmin相关的信息，包括用户首选项。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/eabe972591ddfe3672fd460e8ba51969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8QfmYpdBtLPXufOs"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">pgAdmin外部数据库表</figcaption></figure><p id="02f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">设置外部数据库后，我修改了仪表板和主题的首选项，如前面分享的截图所示。</p><p id="98b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来的步骤是在我的新机器上安装pgAdmin，并修改config.py配置文件以使用相同的外部PostgreSQL数据库。</p><p id="64fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将允许我从以前的设置中加载所有的pgAdmin配置设置，并覆盖新实例上的默认设置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/02729fe0a84f3dafc78eb222e644c3eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rm5aQVt31ZK0K4Kn"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">pgAdmin <em class="kk">配置_数据库_URI配置</em></figcaption></figure><p id="1c39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将pgAdmin首选项存储在外部PostgreSQL数据库上真的很酷。一个为PostgreSQL数据库提供查询和操作接口的工具，也可以在PostgreSQL上存储pgAdmin配置。</p></div></div>    
</body>
</html>