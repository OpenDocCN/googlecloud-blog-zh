<html>
<head>
<title>Minikube on Windows</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Windows上的Minikube</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/minikube-on-windows-3a856ee74efa?source=collection_archive---------0-----------------------#2018-02-14">https://medium.com/google-cloud/minikube-on-windows-3a856ee74efa?source=collection_archive---------0-----------------------#2018-02-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我玩Kubernetes时，我通常会从<a class="ae jd" href="https://cloud.google.com/kubernetes-engine/" rel="noopener ugc nofollow" target="_blank">谷歌Kubernetes引擎</a> (GKE)获得一个集群，因为它实际上是<a class="ae jd" href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/create" rel="noopener ugc nofollow" target="_blank">一个单一的gcloud命令</a>就可以在GKE上启动并运行一个Kubernetes集群。尽管有时在本地运行Kubernetes集群进行测试和调试是有用的。<a class="ae jd" href="https://github.com/kubernetes/minikube" rel="noopener ugc nofollow" target="_blank"> Minikube </a>非常适合这个。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/2f914b72d6806d5fa35c6b69ec215b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:300/0*CUxIJLODCN_MLSa8."/></div></figure><p id="447e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Minikube在笔记本电脑上的虚拟机中运行单节点Kubernetes集群。有关于如何在Linux，Mac和Windows上安装它的说明。不幸的是，<a class="ae jd" href="https://github.com/kubernetes/minikube#windows" rel="noopener ugc nofollow" target="_blank">对Windows </a>的说明有点欠缺，所以我想记录一下我是如何在我的Windows 10机器上安装并运行Minikube的。</p><p id="02e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，你需要下载minikube-windows-amd64.exe文件，将其重命名为minikube.exe，并将其添加到你的路径中，如Windows 的<a class="ae jd" href="https://github.com/kubernetes/minikube#windows" rel="noopener ugc nofollow" target="_blank">说明中所述。说明听起来好像您已经完成了这一步，但是如果您尝试在PowerShell管理模式下启动minikube，您将得到如下错误:</a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/cbac721e12a798877feaa62052485874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UGSR2bTsheG8w6ud."/></div></div></figure><p id="5e46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是因为Minikube需要一个VM，默认情况下，它会尝试使用VirtualBox。在Windows上，你可以使用Hyper-V(Windows 10上自带)或者安装VirtualBox。许多人(<a class="ae jd" href="https://rominirani.com/tutorial-getting-started-with-kubernetes-on-your-windows-laptop-with-minikube-3269b54a226" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae jd" href="https://www.ibm.com/support/knowledgecenter/en/SS5PWC/minikube.html" rel="noopener ugc nofollow" target="_blank">这里</a>)推荐VirtualBox来避免问题，但我不想安装像VirtualBox这样的额外东西，所以我决定使用Hyper-V。你可以通过<em class="jr">–VM-driver = Hyper V</em>标志告诉Minikube使用Hyper-V，但这也失败了，之前出现了相同的错误。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/3b1cd9e63fe267c229b043abb67f78b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FfP3wKIzbkG6rtdR."/></div></div></figure><p id="c1ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">发生什么事了？原来，Minikube和Windows 10上有一个bug。如果你感兴趣，这个<a class="ae jd" href="https://github.com/kubernetes/minikube/issues/754" rel="noopener ugc nofollow" target="_blank"> GitHub问题</a>解释了细节，这个<a class="ae jd" href="https://github.com/kubernetes/minikube/issues/754#issuecomment-258129252" rel="noopener ugc nofollow" target="_blank">非常有用的评论</a>解释了你需要做什么。您基本上需要在Hyper-V中创建一个虚拟交换机，并允许您的实际互联网连接与该虚拟交换机共享其连接。</p><p id="f24b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建虚拟交换机后，您可以使用Hyper-V和附加的<em class="jr">–Hyper-Virtual-Switch</em>标志启动minikube。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/6f5be6e48255a97153ff6dc07489eb7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5aYMFWTWoY0T4sIu."/></div></div></figure><p id="857a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这第一次需要一段时间，因为它需要下载ISO图像等。但是一旦完成，您可以通过创建一个部署并部署一个echoserver pod来测试本地集群:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/13565d7b2444fcd65e295f753aafbcc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BXXT35P-9KATsFVL."/></div></div></figure><p id="2fde" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！希望这对你在Windows上安装和运行Minikube有用。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="37dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jr">原载于2018年2月14日</em><a class="ae jd" href="https://meteatamel.wordpress.com/2018/02/14/minikube-on-windows/" rel="noopener ugc nofollow" target="_blank"><em class="jr">【meteatamel.wordpress.com</em></a><em class="jr">。</em></p></div></div>    
</body>
</html>