<html>
<head>
<title>How to work with Arrays and Structs in Google BigQuery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Google BigQuery中使用数组和结构</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/how-to-work-with-array-and-structs-in-bigquery-9c0a2ea584a6?source=collection_archive---------0-----------------------#2021-02-12">https://medium.com/google-cloud/how-to-work-with-array-and-structs-in-bigquery-9c0a2ea584a6?source=collection_archive---------0-----------------------#2021-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="37f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您曾经对如何在BigQuery中选择或创建<em class="jd">数组</em>或<em class="jd">结构</em>感到困惑，那么您就在正确的地方。<em class="jd">数组</em>和<em class="jd">结构</em>令人困惑，我不会就此争论。但在我进入令人困惑的部分之前，让我先告诉你一点它们到底是什么，以及它们有什么不同。</p><h1 id="3de1" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">什么是数组，在BigQuery中如何使用数组:</h1><p id="be10" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">与任何其他语言一样，BigQuery中的数组是同一数据类型的元素的集合。</p><p id="b3a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，<em class="jd">数组</em> <strong class="ih hj"> address_history </strong>可能是这样的:</p><blockquote class="kh ki kj"><p id="49eb" class="if ig jd ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated">id:“1”，<br/>姓名:“abc”，<br/>年龄:“20”，<br/> <strong class="ih hj">地址_历史:[“当前”、“以前”、“出生”] </strong></p></blockquote><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/7eba67139924452292511ab2bb1f2bfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kmQfIbRVo9d53jpRkDBaNg.png"/></div></div></figure><h1 id="b0f4" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">什么是结构，如何在BigQuery中使用它们:</strong></h1><p id="c5b4" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">struct是一种具有键值对属性的数据类型，就像Python中的字典一样。</p><p id="488a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每个记录中，多个属性都有自己的值。这些属性既可以被称为键，也可以被称为<em class="jd">结构</em>列。</p><blockquote class="kh ki kj"><p id="4a18" class="if ig jd ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated">id:“1”，<br/>姓名:“abc”，<br/>年龄:“20”，<br/> <strong class="ih hj">地址_历史:{ <br/>“状态”:“当前”，<br/>“地址”:“伦敦”，<br/>“邮编”:“ABC 123d”<br/>}</strong></p></blockquote><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es kz"><img src="../Images/dc139fd12beee5a2bf75225b99a7061b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*mfYYBcd22wvHO2D_8Ox8Tg.png"/></div></figure><p id="3482" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">结构</em>可以有更多的属性，每个属性都有自己的值，与一个键/ID相关。例如，在下图中，<strong class="ih hj">行1在一个address _ history<em class="jd">Struct</em></strong>中有3个属性(“状态”、“地址”、“邮政编码”)。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es la"><img src="../Images/c06c3897552b03c1fc326d7d38b68b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*y1H4HK-7fxJhtk4xtNdR5A.png"/></div></figure><p id="2f87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">鉴于<em class="jd">数组</em>在<strong class="ih hj">一列address_history </strong>中可以有多个元素，针对每个key/ID，<em class="jd">数组</em>中没有配对，它基本上是一个列表或集合。</p><blockquote class="kh ki kj"><p id="75c6" class="if ig jd ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated"><strong class="ih hj">地址_历史:【“当前”、“以前”、“出生”】</strong></p></blockquote><p id="99e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"># <strong class="ih hj">注意</strong>大括号、<em class="jd">结构</em>有花括号{}，而<em class="jd">数组</em>有方括号[]</p><h1 id="7dcc" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">什么是结构数组，我们如何在BigQuery中使用它们:</strong></h1><p id="1731" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">顾名思义，如果我们想要针对每个键/ID存储多个<em class="jd">结构</em>，那么<em class="jd">结构数组</em>就是选项。</p><p id="0e49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:Address_history是一个<em class="jd">数组</em>列，在[]内有3个{} <em class="jd">结构</em>。</p><blockquote class="kh ki kj"><p id="139e" class="if ig jd ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated">id:"1 "，<br/>姓名:" abc "，<br/>年龄:" 20 "，<br/> <strong class="ih hj">地址_历史:[ <br/> { "状态":"当前"，"地址":"伦敦"，"邮政编码":" ABC123D" }，<br/> { "状态":"以前"，"地址":"新德里"，"邮政编码" }，<br/> { "状态":"出生"，"地址":"纽约"，"邮政编码"</strong></p></blockquote><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lb"><img src="../Images/95dcc623bf1ac66cf62fc6954f0cec0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*dxoI1WqI8tfvJFbgs3ZoZg.png"/></div></div></figure><p id="8822" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:您可以使用SQL文件末尾的以下代码，供您复制和尝试。</strong></p></div><div class="ab cl lc ld gp le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hb hc hd he hf"><h1 id="287b" class="je jf hi bd jg jh lj jj jk jl lk jn jo jp ll jr js jt lm jv jw jx ln jz ka kb bi translated">通过查看模式，我如何知道它是数组/结构/结构数组:</h1><p id="939a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">一个<em class="jd">数组</em>是一个列表，这意味着它有嵌套的值。如果您曾经在模式中看到一个“重复”模式的数据类型，那么它就是一个<em class="jd">数组</em>。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es lo"><img src="../Images/b8fbd104d6f827178fbeedaba09fab79.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*qwAWuomxnM2qJl4Q71GQlw.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">创建数组_演示</figcaption></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es lt"><img src="../Images/a4d093bf7f9e244e845dd76b0c9d5ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*nEvWX_B0qiKdx_X3rMwxyg.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">数组演示模式</figcaption></figure><p id="3cfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一方面，<em class="jd">结构</em>有许多值，如果我们想选择一个值，我们需要使用‘点’。如果您曾经在模式中发现一个数据类型为“RECORD ”,那么它就是一个具有可空模式的<em class="jd">结构</em>。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lu"><img src="../Images/a28f15c420ab7539ff556b4b557681a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZULl9FWoF6RMsaMsC2B6Q.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">创建结构演示</figcaption></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es lv"><img src="../Images/6434d54a980c5a02b4ce13f2966f3991.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*5i1nASLbz3VEpni154zXAg.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">结构演示模式</figcaption></figure><p id="fe4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结构的<em class="jd">数组是一个嵌套记录。因此,“记录”数据类型具有“重复”模式，然后是一个<em class="jd">数组的结构</em>。</em></p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lw"><img src="../Images/9f5a0083968f1e859a7806ac9ecad791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zPwRdLdN5sA2-I5yHK9oQw.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">创建数组结构演示</figcaption></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es lx"><img src="../Images/dc93dc877bc7211f3b088b11c49f45d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*m5SqwRCNHbiv79FPV84ogQ.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">数组结构演示模式</figcaption></figure><p id="c588" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，通过查看模式或数据，您就知道区别了。</p></div><div class="ab cl lc ld gp le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hb hc hd he hf"><h1 id="e107" class="je jf hi bd jg jh lj jj jk jl lk jn jo jp ll jr js jt lm jv jw jx ln jz ka kb bi translated"><strong class="ak">如何查询array/struct/array _ of _ struct？</strong></h1><p id="3018" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">一个<em class="jd">数组</em>是一个嵌套的列，如果我们想要一个分组的值，那么我们不需要去嵌套它。但是为了将它展平成多个记录，我们需要使用<em class="jd"> unnest </em>:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es ly"><img src="../Images/9740a2d1992200b719e118effc5baa93.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*XUIn9RHIHDF-YcoIq--ZzA.png"/></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es lz"><img src="../Images/780f61dfc0c4d521de70d12a47d4b6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:308/format:webp/1*lNvr1SpeZ1e33gACM7MsCw.png"/></div></figure><p id="2347" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如您在上面所看到的，如果您不在来自关键字的<em class="jd">之后<em class="jd">取消嵌套</em>并原样选择<em class="jd">数组的</em>列，查询结果将只有一行。</em></p><p id="e893" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是下图这里，在<em class="jd"> address_history </em>的<em class="jd"> unnesting </em>之后，输出是BQ已经把行展平为三行。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es ma"><img src="../Images/793b4c2e458ee7fad19e151165c7bc20.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*TprLeYT8hrEE-e29MTiw8A.png"/></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mb"><img src="../Images/d13f3430ebaf991d26f38ce1530f512c.png" data-original-src="https://miro.medium.com/v2/resize:fit:262/format:webp/1*Zmxujx-VMGG_zB91L2jhaQ.png"/></div></figure><p id="c927" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd"> Struct </em>，作为<em class="jd">记录</em>的数据类型，<em class="jd"> </em>不需要嵌套。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mc"><img src="../Images/a7acb595d73102087146b23de5a58c6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*LKbn7cqhGInfqu1o3WUvjw.png"/></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es md"><img src="../Images/2e4fe0de0694a91f79166433d345fb8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*8bmEAYNHpsVi00d81iQ5gw.png"/></div></figure><p id="1901" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，<em class="jd"> address_history </em>，一个<em class="jd"> Struct </em>数据类型，被直接选中，产生三列。但是如果你想从<em class="jd"> Struct </em>数据类型中选择部分值，你可以使用“.”如<em class="jd"> address_history.status </em></p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es me"><img src="../Images/b79b716f945d062b69b69cbd832d1556.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*kD2LfCz4Lik_sddxz5L8-Q.png"/></div></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mf"><img src="../Images/b849fb645963dbc6d10f5be336ee72fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:370/format:webp/1*iLvOVg0a0xOGNQkbouBc0w.png"/></div></figure><p id="6b39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在结构的<em class="jd">数组的情况下，可以直接选择列，它将只产生一行:</em></p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mg"><img src="../Images/d847f7a51c41c2b6408b8e1a3757d5f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*XpWAMO0AEvKBKBZXo9B2Ng.png"/></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es la"><img src="../Images/c06c3897552b03c1fc326d7d38b68b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*y1H4HK-7fxJhtk4xtNdR5A.png"/></div></figure><p id="e4dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，每个<em class="jd"> Struct </em>键只有一行有多个值。比如<em class="jd"> address_history.status </em>有三个值[“当前”、“以前”、“出生”]。但如果需要选择部分<em class="jd"> Struct </em>键，肯定需要先<em class="jd"> unnest </em>将其展平成多行，否则BQ会抛出这个错误:</p><blockquote class="kh ki kj"><p id="8c95" class="if ig jd ih b ii ij ik il im in io ip kk ir is it kl iv iw ix km iz ja jb jc hb bi translated">无法访问数组类型为<struct string="" address="" postcode="">&gt;的值的字段状态</struct></p></blockquote><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mh"><img src="../Images/36536b2c73a188b8f0d01f415533276d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5hfM8q2Vp23soOVofYbIQ.png"/></div></div></figure><p id="1e13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只有未嵌套的<em class="jd">结构数组</em> ( <em class="jd">记录，重复的</em>)才会产生包含所有<em class="jd">结构</em>键值对的多行。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mi"><img src="../Images/bca8be4e00bf0f48b35f09f6e930e987.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*4226HnN7ECgMYVZMcD27pw.png"/></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mj"><img src="../Images/e987f008d4d804582de896bda539ff5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*I_K9hYOQBu_KuJvd1HPLSg.png"/></div></figure><p id="8d14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您也可以通过使用<em class="jd"> unnest </em>并使用“.”选择那些特定的列，从结构的<em class="jd">数组中选择一些列</em></p><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mk"><img src="../Images/87c308dec4c1bd1b032b898c73804b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*gQIc3lZR4ONo_w7y9Vs7NA.png"/></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es ml"><img src="../Images/bc6f35d1ef80a78f092e903b8f444793.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*UhG-VoMbSNKJDMsTNf2JFA.png"/></div></figure></div><div class="ab cl lc ld gp le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hb hc hd he hf"><p id="8566" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于<em class="jd">嵌套的结构</em>，例如<em class="jd">数组</em>在另一个<em class="jd">结构</em>内有一个<em class="jd">结构</em>，使用多个unnests。下面是一个<em class="jd">数组</em>的基本示例，在另一个<em class="jd">结构</em>中有一个<em class="jd">结构</em>，比如(Array[Struct &lt;列，Struct &lt; &gt;)。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mm"><img src="../Images/d28f252c917aa71108f1833db62dcb14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*73637mRbbmOfSsC9SF8ipQ.png"/></div></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mn"><img src="../Images/b0b4950bd0a8f8771db282a0c9c24246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IDhH0n3f5BrcXbeg4vTxhg.png"/></div></div></figure><p id="540c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是另一个<em class="jd">数组</em>在<em class="jd">结构</em>内有另一个<em class="jd">数组</em>和<em class="jd">结构</em>的例子，比如(Array[Struct&lt;Struct&lt;&gt;，Array[] &gt;)。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mo"><img src="../Images/3b8a4d31c26569e2c4725afc46055431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NlvPo1EH6XpTpk0QEug0iw.png"/></div></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mp"><img src="../Images/f8b5996493ba332936a007b568059e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*48iH4vmdWEBIUduyB0sppA.png"/></div></figure><p id="07a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你可能有进一步的问题，所以继续阅读。</p></div><div class="ab cl lc ld gp le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hb hc hd he hf"><h1 id="ae36" class="je jf hi bd jg jh lj jj jk jl lk jn jo jp ll jr js jt lm jv jw jx ln jz ka kb bi translated">如何为数组和结构创建模式:</h1><p id="cee0" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">下面是可以包含在模式的DDL中的所有类型的<em class="jd">数组</em>和<em class="jd">结构</em>数据类型的简单示例:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mq"><img src="../Images/f415727d18d2d8ebd55cef5970e78a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZnNxi2ei1uH_MsFb0MTA3w.png"/></div></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div class="er es mr"><img src="../Images/ca4bbdc8d3b67fbdfad133106a44f5c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*rMpXo9UVmFjKjbhXKKa_WQ.png"/></div></figure><p id="0758" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里是供您在BigQuery中尝试的SQL文件。快乐查询:)</p><figure class="ko kp kq kr fd ks"><div class="bz dy l di"><div class="ms mt l"/></div></figure><p id="4b2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如需更多参考，请阅读以下内容:</strong></p><ul class=""><li id="4688" class="mu mv hi ih b ii ij im in iq mw iu mx iy my jc mz na nb nc bi translated"><a class="ae nd" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/arrays#query_structs_in_an_array" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/big query/docs/reference/standard-SQL/arrays # query _ structs _ in _ an _ array</a></li><li id="d4b8" class="mu mv hi ih b ii ne im nf iq ng iu nh iy ni jc mz na nb nc bi translated"><a class="ae nd" href="https://cloud.google.com/bigquery/docs/nested-repeated#python" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/big query/docs/nested-repeated # python</a></li><li id="95d7" class="mu mv hi ih b ii ne im nf iq ng iu nh iy ni jc mz na nb nc bi translated"><a class="ae nd" href="https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/big query/docs/reference/standard-SQL/data-types</a></li></ul></div></div>    
</body>
</html>