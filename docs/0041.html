<html>
<head>
<title>Developing for Arduino with Docker and Johnny-Five on OS X</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与Docker和Johnny-Five一起在OS X开发Arduino</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/developing-for-arduino-with-docker-and-johnny-five-on-osx-cc6813ae6e9d?source=collection_archive---------1-----------------------#2015-12-23">https://medium.com/google-cloud/developing-for-arduino-with-docker-and-johnny-five-on-osx-cc6813ae6e9d?source=collection_archive---------1-----------------------#2015-12-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c985" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我喜欢用Arduino做物联网项目的原型。有了<a class="ae jd" href="http://johnny-five.io/" rel="noopener ugc nofollow" target="_blank"> Johnny-Five </a>，编写简单的Node.js应用程序变得如此容易，可以充分利用Arduino提供的一切！</p><p id="85f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我也喜欢使用Docker。可复制的环境和构建使得共享代码变得非常简单。许多复杂的项目已经打包在Docker容器中，所以在您的Johnny-Five项目中使用它们变得容易多了！</p><p id="25ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，让他们在OS X或Windows上玩得好可能有点痛苦。由于额外的VM层，您需要执行一些额外的步骤。</p><p id="e437" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" rel="noopener" href="/google-cloud/my-slow-internet-vs-docker-7678ae1cae72#.qyycofcli">首先，如果你正在云上运行Docker Machine，就此打住。</a>这样不行，因为云VM无法访问你的本地USB设备。你需要使用boot2docker或docker机器与VirtualBox主机。我正在使用Docker机器。</p><h1 id="6c6c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">第一步:</h1><p id="0e48" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://docs.docker.com/machine/install-machine/" rel="noopener ugc nofollow" target="_blank">安装对接机</a></p><p id="3b5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://www.virtualbox.org/wiki/Downloads" rel="noopener ugc nofollow" target="_blank">安装VirtualBox </a></p><h1 id="899e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">第二步:</h1><p id="7c46" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">创建本地docker-machine虚拟机</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="bd5c" class="kq jf hi km b fi kr ks l kt ku">$ docker-machine create local -d virtualbox</span></pre><h1 id="4c39" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">第三步:</h1><p id="17a6" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">停止您的Docker虚拟机</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="7179" class="kq jf hi km b fi kr ks l kt ku">$ docker-machine stop local</span></pre><p id="7a9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，打开VirtualBox</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kv"><img src="../Images/71fcfc670cd48e797ceee1262fef1660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eHwjhm8Tp-CxvifF38IhJw.png"/></div></div></figure><p id="7e67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">前往“设置”并安装Arduino</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es ld"><img src="../Images/18a58f80fd3ed5995bd492a12085e4bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GvT8GiMB-0S9aK5CN91IHg.png"/></div></div></figure><p id="14bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在启动你的Docker虚拟机</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="8c7e" class="kq jf hi km b fi kr ks l kt ku">$ docker-machine start local<br/>$ eval "$(docker-machine env local)"</span></pre><h1 id="8ce0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">第四步:</h1><p id="d465" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">此时，您应该能够将Arduino与Johnny-Five和Docker配合使用</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="8e79" class="kq jf hi km b fi kr ks l kt ku">$ docker run -ti --privileged node /bin/bash<br/># mkdir test &amp;&amp; cd test<br/># npm install johnny-five<br/># apt-get update &amp;&amp; apt-get install -y vim<br/># vim test.js</span></pre><p id="e30b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是代码，标准的Johnny-Five hello world</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="ed40" class="kq jf hi km b fi kr ks l kt ku"><strong class="km hj">var</strong> five = require(“johnny-five”);<br/><strong class="km hj">var</strong> board = <strong class="km hj">new</strong> five.Board();<br/>board.on(“ready”, <strong class="km hj">function</strong>() { <br/>  <strong class="km hj">var</strong> led = <strong class="km hj">new</strong> five.Led(13); <br/>  led.blink(500); <br/>});</span></pre><p id="0bd8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行代码</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="b385" class="kq jf hi km b fi kr ks l kt ku"># node test.js</span></pre><p id="9d2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切正常，您应该会看到一个闪烁的灯！</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es le"><img src="../Images/cb197b2c32dff0296935d4168ad55c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/1*yWOMtaYvVZ2O5TWrA3sbJQ.gif"/></div></figure><p id="6986" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">厉害！现在去黑吧！</p></div></div>    
</body>
</html>