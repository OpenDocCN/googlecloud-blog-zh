<html>
<head>
<title>Google Cloud Functions: Scheduling (Cron)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è°·æ­Œäº‘åŠŸèƒ½:æ—¥ç¨‹å®‰æ’(Cron)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/google-cloud/google-cloud-functions-scheduling-cron-5657c2ae5212?source=collection_archive---------1-----------------------#2017-12-04">https://medium.com/google-cloud/google-cloud-functions-scheduling-cron-5657c2ae5212?source=collection_archive---------1-----------------------#2017-12-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/75d0da55912af21f7ab01580709a78a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*meNHFp2XlBRYb4Xq1zp1Kw.png"/></div></figure><p id="3c86" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">åœ¨<a class="ae jk" rel="noopener" href="/@viatsko/deploying-google-cloud-functions-in-5-easy-steps-21f6d837c6bb">ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« </a>ä¸­ï¼Œæˆ‘è§£é‡Šäº†éƒ¨ç½²è°·æ­Œäº‘åŠŸèƒ½çš„5ä¸ªç®€å•æ­¥éª¤ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¦‚ä½•åœ¨Google Cloud Standard App Engineå¹³å°ä¸Šä¸ºå®ƒè®¾ç½®cronã€‚</p><p id="d24a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">é—®é¢˜æ˜¯NodeJSåªåœ¨App Engine Flexibleä¸Šå¯ç”¨ï¼Œåªæ˜¯ä¸ºäº†ç”¨cronè¸¢GCFè€Œè®¾ç½®Flexibleå®ä¾‹æ²¡æœ‰æ„ä¹‰ã€‚</p><p id="1d74" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„pythonåº”ç”¨ç¨‹åºï¼Œå¹¶å°†å…¶éƒ¨ç½²åœ¨App Engineæ ‡å‡†å¹³å°ä¸Šã€‚</p><p id="f43d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æˆ‘ä»¬éœ€è¦å‘åº”ç”¨ç¨‹åºæ·»åŠ 3ä¸ªæ–‡ä»¶:</p><p id="49b0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">app.yaml</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="b643" class="ju jv hi jq b fi jw jx l jy jz">runtime: python27<br/>api_version: 1<br/>threadsafe: true</span><span id="60d0" class="ju jv hi jq b fi ka jx l jy jz">handlers:<br/>- url: /.*<br/>  script: main.app</span><span id="eba1" class="ju jv hi jq b fi ka jx l jy jz">skip_files:<br/>  - ^node_modules/.*</span></pre><p id="0b0a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">cron.yaml</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="5ef6" class="ju jv hi jq b fi jw jx l jy jz">cron:<br/>    - description: "regular job"<br/>      url: /hourly<br/>      schedule: every 1 hours</span></pre><p id="279f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">main.py</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="e0a2" class="ju jv hi jq b fi jw jx l jy jz">import webapp2<br/>import urllib2</span><span id="4707" class="ju jv hi jq b fi ka jx l jy jz">class HourlyCronPage(webapp2.RequestHandler):<br/>    def get(self):<br/>        response = urllib2.urlopen('<a class="ae jk" href="https://us-central1-open-source-awards.cloudfunctions.net/fetch-trending'" rel="noopener ugc nofollow" target="_blank">&lt;url_of_your_cloud_function&gt;'</a>)</span><span id="210f" class="ju jv hi jq b fi ka jx l jy jz">self.response.write(response.read())</span><span id="9806" class="ju jv hi jq b fi ka jx l jy jz">app = webapp2.WSGIApplication([<br/>    ('/hourly', HourlyCronPage),<br/>], debug=True)</span></pre><p id="fd09" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">åˆ›å»ºè¿™äº›æ–‡ä»¶åï¼Œéƒ¨ç½²cronjobè¿è¡Œç¨‹åºçš„æ­¥éª¤å¦‚ä¸‹:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="6a14" class="ju jv hi jq b fi jw jx l jy jz">gcloud app deploy<br/>gcloud app deploy cron.yaml</span></pre><p id="37cc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">å°½æƒ…äº«å—å§ï¼ğŸ‰</p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><p id="83ef" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä½ å¥½ï¼Œæˆ‘æ˜¯ç“¦è±é‡Œã€‚æˆ‘åœ¨é˜¿å§†æ–¯ç‰¹ä¸¹ç”Ÿæ´»å’Œå†™ä½œã€‚æˆ‘å†™äº†è¿™ç¯‡æ–‡ç« ï¼Œæ‰€æœ‰è§‚ç‚¹éƒ½æ˜¯æˆ‘è‡ªå·±çš„ã€‚å¦‚æœä½ å–œæ¬¢è¯»å®ƒï¼Œä¸€å®šè¦åœ¨æ¨ç‰¹ä¸Šå…³æ³¨æˆ‘ã€https://twitter.com/viatsko T2ã€‘</p></div></div>    
</body>
</html>