<html>
<head>
<title>Data Quality Analysis on Google Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台上的数据质量分析</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/simplifying-data-quality-analysis-808e9fb8667f?source=collection_archive---------0-----------------------#2020-08-04">https://medium.com/google-cloud/simplifying-data-quality-analysis-808e9fb8667f?source=collection_archive---------0-----------------------#2020-08-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="cdfb" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">从BigQuery表生成数据质量统计的系统方法</h2></div><p id="5e06" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">数据质量分析使组织能够降低识别和修复系统中不良数据的成本。收获有意义的洞见是组织不可或缺的一部分。在这个博客中，很少收集重要的数据质量统计数据，这可以确保只有可信的数据用于决策，从而增加对分析系统的信心。收集了以下统计数据:</p><ol class=""><li id="02bd" class="jt ju hi iz b ja jb jd je jg jv jk jw jo jx js jy jz ka kb bi translated"><strong class="iz hj">空值:</strong>列中缺失值的数量</li><li id="b828" class="jt ju hi iz b ja kc jd kd jg ke jk kf jo kg js jy jz ka kb bi translated"><strong class="iz hj">基数:</strong>一列中唯一值的数量</li><li id="c39a" class="jt ju hi iz b ja kc jd kd jg ke jk kf jo kg js jy jz ka kb bi translated"><strong class="iz hj">选择性:</strong>基数与行数的比率，它提供了一列中数据的惟一性</li><li id="c2c1" class="jt ju hi iz b ja kc jd kd jg ke jk kf jo kg js jy jz ka kb bi translated"><strong class="iz hj"> Density: </strong>一列中的值相对于行数的数量，即一列中非空值的数量</li></ol><p id="64b3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面描述了与该解决方案相关的多个步骤:</p><h2 id="9a9e" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">步骤1:创建大查询表</h2><p id="6a7d" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">创建一个BigQuery表来存储数据质量统计信息。在此解决方案中，数据集名称用作“<em class="lh"> bq_poc </em>”，表名称用作“<em class="lh"> dq_report </em>”。对BigQuery数据集和表名的更改必须反映在配置文件(<em class="lh"> dq.yaml </em>)中。</p><pre class="li lj lk ll fd lm ln lo lp aw lq bi"><span id="01d4" class="kh ki hi ln b fi lr ls l lt lu">CREATE TABLE <strong class="ln hj">bq_poc</strong>.<strong class="ln hj">dq_report</strong> (<br/>    TimeStamp   TIMESTAMP,<br/>    TableRef    STRING,<br/>    ColumnName  STRING,<br/>    MinValue    STRING,<br/>    MaxValue    STRING,<br/>    NullValues  STRING,<br/>    Cardinality STRING,<br/>    Selectivity STRING,<br/>    Density     STRING<br/>)</span></pre><h2 id="aaf3" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">步骤2:构建和部署</h2><p id="1372" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">在这个解决方案中，输入参数是从一个配置文件中读取的，该文件提供了在不改变源代码的情况下更改输入值的灵活性。创建一个指定的表来存储收集的统计数据，该表包括一个时间戳列来维护所有统计数据的历史记录。</p><figure class="li lj lk ll fd lv"><div class="bz dy l di"><div class="lw lx l"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">数据质量分析的应用代码</figcaption></figure><p id="e0ec" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">灵活的配置文件旨在允许分析特定的列，并允许一次从多个数据集的多个表中计算统计数据。</p><figure class="li lj lk ll fd lv"><div class="bz dy l di"><div class="lw lx l"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">配置文件</figcaption></figure><p id="05f9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用户定义的库函数用于执行日常活动，如从表中提取数据、生成动态SQL和计算统计数据，这些可以在多个应用程序中重用。</p><figure class="li lj lk ll fd lv"><div class="bz dy l di"><div class="lw lx l"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">BigQuery的库函数</figcaption></figure><h2 id="a752" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">步骤3:数据质量统计</h2><p id="3c00" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated">使用基于代码的解决方案收集数据质量统计信息，并存储在BigQuery表中用于报告。被分析的每一列都有一个时间戳(UTC)和一个表引用(<dataset name="">)。<table name="">)。与选择性和密度相关的公式定义如下:</table></dataset></p><pre class="li lj lk ll fd lm ln lo lp aw lq bi"><span id="1ade" class="kh ki hi ln b fi lr ls l lt lu"><strong class="ln hj">Selectivity</strong> = Cardinality / Number of Rows * 100%<br/><strong class="ln hj">Density</strong> = (Number of Rows - Number of NULLs)/(Number of Rows) * 100%</span></pre><figure class="li lj lk ll fd lv er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mc"><img src="../Images/276a048243df16d719eede9508e4379f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Olg-3GDrPi_N17TLjuDLuw.png"/></div></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">存储在BigQuery表中的数据质量统计信息</figcaption></figure><h2 id="344f" class="kh ki hi bd kj kk kl km kn ko kp kq kr jg ks kt ku jk kv kw kx jo ky kz la lb bi translated">源代码库</h2><p id="60d5" class="pw-post-body-paragraph ix iy hi iz b ja lc ij jc jd ld im jf jg le ji jj jk lf jm jn jo lg jq jr js hb bi translated"><a class="ae mj" href="https://github.com/soumendra-mishra/data-quality-analysis.git" rel="noopener ugc nofollow" target="_blank">https://github . com/soumendra-mis HRA/data-quality-analysis . git</a></p></div></div>    
</body>
</html>