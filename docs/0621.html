<html>
<head>
<title>Trillian on Google Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台上的Trillian</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/trillian-on-google-cloud-platform-621a37f2431c?source=collection_archive---------2-----------------------#2018-05-26">https://medium.com/google-cloud/trillian-on-google-cloud-platform-621a37f2431c?source=collection_archive---------2-----------------------#2018-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f67c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我受过良好教育的同事安妮昨天指出的那样，“<a class="ae jd" href="http://hitchhikers.wikia.com/wiki/Trillian" rel="noopener ugc nofollow" target="_blank">崔莉恩</a>是以《银河系漫游指南》中的一个角色命名的，这很好；(b)不是希腊，这是一个令人耳目一新的变化已经淹没在Kubernetes。同名项目是谷歌OSS的贡献:<a class="ae jd" href="https://github.com/google/trillian" rel="noopener ugc nofollow" target="_blank">万亿</a>。</p><p id="6970" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章快速浏览了这个团队在开发Trillian和使其直接部署到Kubernetes中所做的所有艰苦工作。</p><p id="0ba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请参见Trillian GitHub上的<a class="ae jd" href="https://github.com/google/trillian/tree/master/examples/deployment/kubernetes" rel="noopener ugc nofollow" target="_blank">自述文件</a>获取这些指令的来源。</p><h2 id="2788" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">设置</h2><ol class=""><li id="ec87" class="jz ka hi ih b ii kb im kc iq kd iu ke iy kf jc kg kh ki kj bi translated">创建一个谷歌云平台项目。</li><li id="0a6f" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">启用“容器”和“扳手”API</li><li id="4b2a" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">为您的首选区域中的IP申请额外配额(您需要≥12)</li><li id="ba56" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">创建一个单区(目前)Kubernetes集群。</li><li id="5dbf" class="jz ka hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">下载Trillian</li></ol><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="7102" class="je jf hi ku b fi ky kz l la lb">PROJECT=[[YOUR-PROJECT]]<br/>BILLING=[[YOUR-BILLING]]</span><span id="c594" class="je jf hi ku b fi lc kz l la lb">gcloud projects create ${PROJECT}</span><span id="b47d" class="je jf hi ku b fi lc kz l la lb">gcloud beta billing projects link $PROJECT \<br/>--billing-account=$BILLING</span><span id="9841" class="je jf hi ku b fi lc kz l la lb">for SERVICE in container spanner<br/>do<br/>  gcloud services enable ${SERVICE}.googleapis.com \<br/>  --project=${PROJECT}<br/>done</span></pre><p id="4071" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于这个项目(<code class="du ld le lf ku b">${PROJECT}</code>)，您将需要≥12个IP地址，因为Kubernetes集群创建了12台机器(4+2+4+2)。默认配额为8，因此您可能需要请求更多配额。您可以通过云控制台执行此操作:</p><p id="e178" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://pantheon.corp.google.com/iam-admin/quotas?project=dazwilkin-180525-trillian&amp;folder&amp;organizationId=433637338589&amp;service=compute.googleapis.com&amp;metric=In-use%20IP%20addresses&amp;location=us-west1" rel="noopener ugc nofollow" target="_blank">https://console.cloud.corp.google.com/iam-admin/quotas?PROJECT = $ { PROJECT }&amp;service = compute . Google APIs . com&amp;metric = In-use % 20IP % 20 addresses&amp;location = $</a>{ ZONE }</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lg"><img src="../Images/8a275ae374c25d13594fca75afc1fcb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIGy8fMVhpkVn5XVYCxhXw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">云控制台:默认区域IP配额为8</figcaption></figure><p id="f5a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择代表您希望使用的区域的“正在使用的IP地址”的配额，单击“编辑配额”并请求≥12个IP。等待确认配额已获批准的电子邮件。</p><blockquote class="ls lt lu"><p id="19aa" class="if ig lv ih b ii ij ik il im in io ip lw ir is it lx iv iw ix ly iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong>在您收到配额增加的确认之前，请不要继续操作，因为没有足够的配额，脚本将会失败。</p></blockquote><p id="8511" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是配额获得批准*后*的屏幕截图，在*后*我将运行<code class="du ld le lf ku b">./create.sh</code>，如下一节所示:</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lz"><img src="../Images/d63e6833a00affa1cedda3d50b0e3f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TjcAvM-QLWSZRoi69tkjYQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">云控制台:增加区域IP配额现在11</figcaption></figure><h2 id="b713" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">崔莉安</h2><p id="9a3d" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">您将需要Trillian的一个本地副本，以便部署脚本构建将在Kubernetes部署中使用的容器:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="b549" class="je jf hi ku b fi ky kz l la lb">WORKING_DIR=[[YOUR-WORKING-DIRECTORY]]</span><span id="fdd4" class="je jf hi ku b fi lc kz l la lb">cd ${WORKING_DIR}<br/>mkdir go<br/>export GOPATH=$PWD/go<br/>export PATH=$PATH:$GOPATH/bin<br/>go get github.com/google/trillian</span><span id="8a71" class="je jf hi ku b fi lc kz l la lb">cd go/src/github.com/google/trillian/examples/deployment/kubernetes</span></pre><p id="3d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请编辑<code class="du ld le lf ku b">config.sh</code>文件以正确反映您的偏好:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="7f62" class="je jf hi ku b fi ky kz l la lb">export PROJECT_NAME=[[YOUR-PROJECT]]<br/>export CLUSTER_NAME=trillian-01<br/>export REGION=[[YOUR-PREFERRED-ZONE]]       # This needs suff Quota<br/>export ZONE=${REGION}-b<br/>export CONFIGMAP=trillian-cloudspanner.yaml</span></pre><p id="0ed9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们准备开始2阶段部署。</p><p id="cbbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，运行:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="2047" class="je jf hi ku b fi ky kz l la lb">./create.sh</span></pre><p id="962b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这提供了Google云平台资源:Kubernetes集群和一个云扳手实例。</p><p id="846b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是Kubernetes集群:</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es md"><img src="../Images/88cc257fb06d458fa6f020f9011cae46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDZWcXX4PaDRcW-IWU9s-w.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">带有4个节点池的Kubernetes引擎集群</figcaption></figure><p id="89bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果群集没有如上所示配置4个节点池，您应该重新阅读说明。没有此配置，部署将不会成功。</p><p id="f16c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云扳手的一个小孔:</p><p id="7e69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://pantheon.corp.google.com/spanner/instances/trillian-spanner/databases?project=dazwilkin-180525-trillian&amp;organizationId=433637338589" rel="noopener ugc nofollow" target="_blank">https://console . cloud . Google . com/spanner/instances/trillian-spanner/databases？project=$ </a> {PROJECT}</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es me"><img src="../Images/40ae9a5711132acfb0d77b7a5271fd1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wra5SsCxf507CqbLGCP-6A.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">云扳手</figcaption></figure><p id="3b14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有几张容器图片:</p><p id="17f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://pantheon.corp.google.com/gcr/images/dazwilkin-180525-trillian/US?project=dazwilkin-180525-trillian&amp;folder&amp;organizationId=433637338589" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/gcr/images/${PROJECT}/</a></p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mf"><img src="../Images/ea280033b9e14345b647b9d32aab76c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXhB2ockjjDU7Nph99-pfw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">集装箱登记处</figcaption></figure><p id="5212" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切似乎都已成功完成，您可以继续进行部署阶段，包括:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="2b04" class="je jf hi ku b fi ky kz l la lb">./deploy.sh</span></pre><p id="03f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个脚本构建容器图像并将它们推送到Google容器注册中心。然后，它创建利用这些映像的Kubernetes部署。</p><p id="4a44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果该脚本成功，您将在命令行上看到所有Kubernetes资源的枚举(此处不复制)，您可以使用云控制台确认部署(正在进行|已经完成):</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es md"><img src="../Images/31a9fdd2c64518d6d1a2cea19f8d42ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4b7rIT1309n3wtv4ia09Og.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">所有工作负载:etcd和Trillian的日志服务器和日志签名者</figcaption></figure><p id="9150" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且:</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mg"><img src="../Images/738b12ee6f31715754023d2b749f9a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4sNpI0lEE13w-Ftagv3uRQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">工作负载:trillian-logserver-deployment</figcaption></figure><p id="1068" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且:</p><figure class="kp kq kr ks fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mh"><img src="../Images/f75c88cc5b775c1f0dd72d255afe1bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpFkukTkhERRnDnK_k1IpQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">工作负载:trillian-logsigner-deployment</figcaption></figure><p id="1082" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将带您进入GitHub自述文件“后续步骤”中的步骤。我们希望对Kubernetes的Trillian部署做一些有用的事情(由Cloud Spanner支持)。</p><p id="7f8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能还没有使用Trillian的最小容器映像，但希望您很快会使用它们。当你在的时候，你不能进入一个<code class="du ld le lf ku b">trillian-log-server</code>容器并运行<code class="du ld le lf ku b">curl</code>命令，因为容器没有外壳并且不包含<code class="du ld le lf ku b">curl</code>。相反，您可以通过移植来测试Trillian API</p><h2 id="2c1e" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">Trillian API</h2><p id="e674" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">假设你已经部署了Trillian，你应该有4个<code class="du ld le lf ku b">trillian-log-server</code>和2个<code class="du ld le lf ku b">trillian-log-signer</code>吊舱在运行。以下命令将为我们获取第0个<code class="du ld le lf ku b">trillian-log-server</code> Pod名称，并将其放入<code class="du ld le lf ku b">${LOG_POD}</code>:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="fd87" class="je jf hi ku b fi ky kz l la lb">LOG_POD=$(\<br/>  kubectl get pods \<br/>  --selector=io.kompose.service=trillian-log \<br/>  --output=jsonpath='{.items[0].metadata.name}')</span></pre><p id="72f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">知道这些Pod都将端口8091作为HTTP端点，我们就可以设置从您的本地机器到Pod的端口转发。为了方便起见，我们将在两端使用相同的端口:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="04b0" class="je jf hi ku b fi ky kz l la lb">kubectl port-forward ${LOG_POD} 8091:8091</span><span id="13c6" class="je jf hi ku b fi lc kz l la lb">Forwarding from 127.0.0.1:8091 -&gt; 8091<br/>Forwarding from [::1]:8091 -&gt; 8091<br/>Handling connection for 8091<br/>Handling connection for 8091<br/>Handling connection for 8091</span></pre><p id="4144" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在另一个shell中，您应该能够发出Trillian教程中引用的命令:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="2fbe" class="je jf hi ku b fi ky kz l la lb">HOST=localhost<br/>PORT=8091</span><span id="0ca8" class="je jf hi ku b fi lc kz l la lb">RESPONSE=$(curl \<br/>--silent \<br/>--request POST \<br/>http://${HOST}:${PORT}/v1beta1/trees \<br/>--data '{ "tree":{ "tree_state":"ACTIVE", "tree_type":"LOG", "hash_strategy":"RFC6962_SHA256", "signature_algorithm":"ECDSA", "max_root_duration":"0", "hash_algorithm":"SHA256" }, "key_spec":{ "ecdsa_params":{ "curve":"P256" } } }')</span><span id="3009" class="je jf hi ku b fi lc kz l la lb">TREE_ID=$(echo ${RESPONSE} | jq --raw-output .tree_id)</span><span id="f079" class="je jf hi ku b fi lc kz l la lb">echo ${RESPONSE} \<br/>| jq .</span></pre><p id="e68c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切正常，您应该会收到以下形式的内容:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="7325" class="je jf hi ku b fi ky kz l la lb">{<br/> "tree_id": "1234567890123456789",<br/> "tree_state": "ACTIVE",<br/> "tree_type": "LOG",<br/> "hash_strategy": "RFC6962_SHA256",<br/> "hash_algorithm": "SHA256",<br/> "signature_algorithm": "ECDSA",<br/> "storage_settings": {<br/>  "<a class="ae jd" href="http://twitter.com/type" rel="noopener ugc nofollow" target="_blank">@type</a>": "type.googleapis.com/spannerpb.LogStorageConfig",<br/>  "num_unseq_buckets": "4",<br/>  "num_merkle_buckets": "16"<br/> },<br/> "public_key": {<br/>  "der": "<strong class="ku hj">[[REDACTED]]</strong>"<br/> },<br/> "max_root_duration": "0s",<br/> "create_time": "2018-00-00T00:00:00.000000000Z",<br/> "update_time": "2018-00-00T00:00:00.000000000Z"<br/>}</span></pre><p id="059d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，您可以:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="743a" class="je jf hi ku b fi ky kz l la lb">curl \<br/>--silent \<br/>--request POST \<br/><a class="ae jd" href="http://localhost:8091/v1beta1/logs/4004530902950552124:init" rel="noopener ugc nofollow" target="_blank">http://${HOST}:${PORT}/v1beta1/logs/${TREE_ID}:init</a> \<br/>| jq .</span></pre><p id="f93b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您应该会收到以下形式的内容:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="d89f" class="je jf hi ku b fi ky kz l la lb">{<br/> "created": {<br/>  "timestamp_nanos": "1527642133340965256",<br/>  "root_hash": "<strong class="ku hj">[[REDACTED]]</strong>",<br/>  "key_hint": "<strong class="ku hj">[[REDACTED]]</strong>",<br/>  "log_root": "<strong class="ku hj">[[REDACTED]]</strong>",<br/>  "log_root_signature": "<strong class="ku hj">[[REDACTED]]</strong>"<br/> }<br/>}</span></pre><p id="b81a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下周我会更新这个帖子，给我们一些有用的东西。Trillian团队的一名成员举了一个有趣的例子:-)</p><h2 id="570d" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">2018–06–01:更新</h2><p id="92f4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">本周我专注于其他地方，没有在Trillian上开发应用程序。然而，我确实研究了API，发现了下一个有用的方法。</p><p id="8ebf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上方…跟随<code class="du ld le lf ku b">${TREE_ID}</code>并呼叫<code class="du ld le lf ku b">${TREE_ID}:init</code>:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="ea4a" class="je jf hi ku b fi ky kz l la lb">VALUE="[[SOME-STRING]]"<br/>EXTRA="[[SOME-STRING]]"</span><span id="d837" class="je jf hi ku b fi lc kz l la lb">EVALUE=$(echo ${VALUE} | base64)<br/>EEXTRA=$(echo ${EXTRA} | base64)</span><span id="4977" class="je jf hi ku b fi lc kz l la lb">curl \<br/>  --silent \<br/>  --request POST \<br/>  <a class="ae jd" href="http://${HOST}:${PORT}/v1beta1/logs/${TREE_ID}/leaves" rel="noopener ugc nofollow" target="_blank">http://${HOST}:${PORT}/v1beta1/logs/${TREE_ID}/leaves</a> \<br/>  --data "{ \"leaf\": { \"leaf_value\": \"${EVALUE}\", \"extra_data\": \"${EEXTRA}\" } }" \<br/>  | jq .</span></pre><p id="6c32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者某个混蛋得到一个256个字符的随机字符串...</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="dad9" class="je jf hi ku b fi ky kz l la lb"><strong class="ku hj">E</strong>VALUE=$(\<br/>  cat /dev/urandom \<br/>  | tr --complement --delete 'a-zA-Z0-9 ' \<br/>  | fold --width=256 \<br/>  | head --lines=1 \<br/>  | base64 --wrap=0\<br/>)</span></pre><p id="c985" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更快！</p><h2 id="b35e" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">结论</h2><p id="f693" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq ma is it iu mb iw ix iy mc ja jb jc hb bi translated">Trillian是谷歌的一个有趣的解决方案。本文(到目前为止)展示了如何轻松地将Trillian部署到Kubernetes集群。现在我们只需要一个示例应用程序！</p></div></div>    
</body>
</html>