<html>
<head>
<title>IPAM Autopilot for GCP VPCs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GCP VPCs的IPAM自动驾驶仪</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/ipam-autopilot-for-gcp-vpcs-8af97adf33c4?source=collection_archive---------2-----------------------#2021-12-17">https://medium.com/google-cloud/ipam-autopilot-for-gcp-vpcs-8af97adf33c4?source=collection_archive---------2-----------------------#2021-12-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3f80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">更新01–01–2023:</strong>因为信息仍然正确，所以我不发表这篇文章。但是你可能想检查一下https://github.com/openx/gcp-ipam-autopilot<a class="ae jd" href="https://github.com/openx/gcp-ipam-autopilot" rel="noopener ugc nofollow" target="_blank">号</a>，它是原始IPAM自动驾驶仪的一个分支，带有二进制分布，这使得整个设置更加简单。</p><p id="4af7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在GCP，跨多个VPC和本地网络的IP地址管理可能是一项繁琐的任务。跟踪哪些IP范围在哪里被使用以及哪些仍然可用是一项麻烦的任务。我在这个领域看到的很多方法，比如把所有东西都放在一个Terraform评论或者Google表单中，都很容易出错。在具有下一代防火墙、VPN或互连的复杂网络环境中，这就像在玩硬模式游戏。</p><p id="06f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了提供一个简单的解决方案，我和几个同事开发了一个名为IPAM自动驾驶仪的小工具，现在发布到GitHub上的谷歌云专业服务回购。</p><div class="je jf ez fb jg jh"><a href="https://github.com/GoogleCloudPlatform/professional-services/tree/main/tools/ipam-autopilot" rel="noopener  ugc nofollow" target="_blank"><div class="ji ab dw"><div class="jj ab jk cl cj jl"><h2 class="bd hj fi z dy jm ea eb jn ed ef hh bi translated">专业-服务/工具/ipam-主Google cloud平台的自动驾驶仪/专业-服务</h2><div class="jo l"><h3 class="bd b fi z dy jm ea eb jn ed ef dx translated">IPAM自动驾驶仪是一个简单的Docker容器和Terraform提供者，允许你自动管理IP…</h3></div><div class="jp l"><p class="bd b fp z dy jm ea eb jn ed ef dx translated">github.com</p></div></div><div class="jq l"><div class="jr l js jt ju jq jv jw jh"/></div></div></a></div><p id="f488" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个非常简单的工具，由一个CloudRun服务和一个Terraform提供者组成。它提供:</p><ul class=""><li id="c100" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated">在IaC代码中集成IPAM的简单API facade</li><li id="647c" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">CIDR山脉创建、重叠检查等。</li><li id="6d1e" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">云资产清单(CAI)被集成以“学习”在GCP使用的子网</li><li id="ee15" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">所有使用的服务都支持VPC服务控制</li><li id="1db1" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">独立的Terraform提供商托管</li></ul><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es kl"><img src="../Images/f4a06f49a63bdd9bc0c4352744716b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KMpKnDio30KvjhsA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">IPAM自动驾驶仪的结构</figcaption></figure><p id="81c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据模型非常简单，保存在MySQL数据库中。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es la"><img src="../Images/28a765678fc96f8973b945e90e3071ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*BShmmZ5wAXRbOATmdGPOxw.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">IPAM自动驾驶数据模型</figcaption></figure><p id="fe1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以定义多个路由域。路由选择域保存范围，例如10.0.0.0/8，对于这些范围可以租用子范围。</p><p id="7907" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个路由域可以引用多个VPC。当请求一个新的范围时，IPAM自动驾驶仪根据需要从云资产清单加载这些VPC的子网。</p><p id="37af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当要求一个新的航程时，IPAM自动驾驶仪试图找到一个满足尺寸要求的航程，并且不与数据库和参考的VPCs的航程重叠。</p><p id="ec71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个简单的例子，如何使用IPAM自动驾驶仪从Terraform:</p><figure class="km kn ko kp fd kq"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="a082" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您需要更多信息，请随时联系我们。或者最好去GitHub试试看。</p></div></div>    
</body>
</html>