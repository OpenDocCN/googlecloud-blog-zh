<html>
<head>
<title>Re-thinking data lake architectures with google cloud — part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用谷歌云重新思考数据湖架构——第一部分</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/re-thinking-data-lake-architectures-with-google-cloud-part-i-9154f40584ff?source=collection_archive---------0-----------------------#2021-04-29">https://medium.com/google-cloud/re-thinking-data-lake-architectures-with-google-cloud-part-i-9154f40584ff?source=collection_archive---------0-----------------------#2021-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c7cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自从使用数据库和昂贵的传统数据仓库来理解大量数据以来，数据生态系统已经走过了漫长的道路。组织通常使用本地或云中托管的开源工具来存储和分析数据，这些平台能够处理比以往更多的数据。如今，数据湖和数据集市是最常见的平台架构。数据湖允许组织将来自各种运营数据源的数据整合到单个存储系统中。数据集市是数据湖的扩展，数据湖是数据的更专门化的视图，是为更好的数据消费者性能而定制的。</p><p id="0f3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然数据湖体系结构有助于拓展数据处理的边界，但它已经偏离了通用的基础设施和软件工程最佳实践。虽然架构最佳实践建议不要构建大型且难以测试的整体式系统，但当今的大多数数据湖架构正是如此:具有高度复杂性和依赖性的大型整体式系统，难以测试、部署和迭代。组织一直坚持整体架构的主要原因是由于缺乏技术特性，从而允许采用更简单的架构。</p><p id="d029" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本帖中，我们将探索当前数据处理领域的<strong class="ih hj">挑战</strong>。在下一篇文章中，我们将讨论谷歌云生态系统中的一些最新创新如何帮助解决这些挑战。</p><h1 id="32d8" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">当前的数据架构前景</h1><p id="7cd8" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">当前的数据架构通常由被数据集市包围的单个数据湖组成，数据湖的更面向领域、更有管理的版本。虽然定义各不相同，但数据湖通常被称为一个平台，它允许组织将数据存储在一个位置，而不是隔离的存储系统。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es kg"><img src="../Images/5da722482983451531a82768782d1a2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*mKbyHSjI7pscbopSX1oqIA.jpeg"/></div></figure><p id="f562" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一方面，数据集市是现有数据湖的扩展，在一个更专业、更高性能的存储系统上托管组织数据的优化视图。例如，组织通常使用更通用的存储系统来实施数据湖，如用于内部数据中心的谷歌云存储或HDFS。通用存储平台为数据生产者(可操作的数据存储)以原始格式存储数据提供了更大的灵活性，但在数据消费方面的优化程度较低。因此，组织利用分布式系统，如Apache Spark、Hive和Presto，将数据从通用存储复制和转换到更专业的存储，以满足数据消费者的性能要求。例如，数据以原始格式存储在GCS中，然后系统将数据复制到BigQuery进行BI分析，并可能复制到另一个GCS位置进行机器学习。</p><h1 id="6db6" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">数据湖架构的挑战</h1><p id="f4e9" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">传统的数据湖体系结构面临几个挑战:</p><p id="c922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">管理多个存储系统的运营负担:</strong>根据定义，数据集市是整个数据架构的子集，通常利用优化的存储系统。虽然这种专用存储系统提高了消耗性能，但是额外的存储系统增加了维护几乎没有任何共同点的多个系统的操作负担。由于这些专用系统的高昂成本，使用这种模式的组织通常无法扩展。</p><p id="8452" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">管理转型工作流的运营负担:</strong>虽然拥有多个存储系统会增加体系结构的复杂性，但真正的复杂性来自于连接和协调平台的各个部分。对于多个存储系统，对复杂数据移动的需求带来了对操作化数据工作流的需求，以便可靠、一致地运行。工作流通常会失败或变慢，这可能会导致数据陈旧和不一致。当组织采用不受控制的方法，使用多种数据转换框架时，这尤其麻烦。例如，通常较大的组织同时使用Apache Spark、Hive和各种其他开源工具来转换和复制数据。由于数据源和转换工作有限，保持源系统和目标系统一致的复杂性和时间是可以管理的。然而，随着数据源数量的增加，工作流的复杂性和系统可靠性的挑战也在增加。</p><p id="47db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">无法提高数据的新鲜度:</strong>传统上，从数据源到数据湖的数据移动是使用批处理框架实现的，如Hadoop (Hive、MapReduce等)或Spark。但是，越来越多的数据消费者和业务线希望获得最新的数据视图，因此采用Apache Flink和Apache Beam等流框架的情况越来越多。然而，由于挑战，如改变现有复杂批量转换工作流的固有风险，一旦数据进入数据湖，数据的流性质就结束了。在这个模型中，进行中的工作流(通常也是批量实现的)负责将数据转换和复制到数据集市。虽然这种方法加快了数据到达数据湖的速度，但它很少提高端到端的数据新鲜度。</p><p id="7d4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Data domain衰退和昂贵的专业数据团队:</strong>专业存储系统和复杂的转型工作流使得组织需要创建专业的工程师团队(即数据工程师)来构建和维护可靠的数据管道。由于没有大量的资源擅长处理大量的数据，这个专业的工程团队通常是业务线之间的共享资源。随着数据存储在数据湖中，这个专门的团队负责培育数据，直到交付给消费者。共享的组织结构通常意味着团队对数据所代表的内容了解很少，这通常会导致交付可能从原始业务领域中删除的数据版本。组织应该研究由Zahamagh Dehghani出色定义的<a class="ae ko" href="https://martinfowler.com/articles/data-monolith-to-mesh.html" rel="noopener ugc nofollow" target="_blank">数据网格</a>的概念，以更好地理解问题并推荐解决方案。在下一篇博文中，我们将探索构建数据湖的不同方法，这些方法可以缓解这些问题。</p><p id="5be1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">安全性:</strong>在大多数数据平台中，数据湖和数据集市是不同的系统，具有最少的共同特征和功能。这给在所有系统中应用一套标准的安全性和合规性要求带来了挑战。这是一种分散的方法，本质上降低了整体的安全性。</p><p id="7dd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">整体架构阻碍创新:</strong>通过复杂数据转换工作流网络连接的数据湖和数据集市架构通常可与整体架构相媲美。在这种体系结构中，进行更改，比如添加数据源或修改转换逻辑，会给整个系统及其依赖项带来一长串的更改。它会带来风险，并成为一个耗费时间和资源的过程。因此，其核心业务严重依赖现有数据管道的组织会回避做出前瞻性的改变，即使这种改变可以使整体业务受益。这方面的一个例子是从现有的面向批处理的架构迁移到实时架构的失败，因为这意味着重新构建整个系统。</p><p id="7892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇博文的第二部分<a class="ae ko" href="https://pdeyhim.medium.com/re-thinking-data-lake-architectures-with-google-cloud-part-ii-809302c671cd" rel="noopener">中，我们将看看如何解决上面提到的挑战。</a></p></div></div>    
</body>
</html>