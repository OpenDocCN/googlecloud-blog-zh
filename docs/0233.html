<html>
<head>
<title>Deploying a serverless env in minutes with GCP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GCP在几分钟内部署无服务器环境</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/deploying-a-serverless-env-in-minutes-with-gcp-22008c42dfa4?source=collection_archive---------1-----------------------#2017-03-22">https://medium.com/google-cloud/deploying-a-serverless-env-in-minutes-with-gcp-22008c42dfa4?source=collection_archive---------1-----------------------#2017-03-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="52f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦建立了GCP帐户(见<a class="ae jd" rel="noopener" href="/@PicardParis/experimenting-with-google-cloud-platform-441da66154ba">之前的</a>)，只需要几分钟就可以从实际生产环境中启动无服务器应用程序。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/05e0875cbb52da546f42431d33fe7202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lcqJID4b41YOXe6yzh7Jfw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">选择应用引擎</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ju"><img src="../Images/30717d9947e8e6800307bd8c026690cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z0p3fmARm5z2qUWiwtFOkQ.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">让我们选择Python，但这也可以是Node.js、Java、PHP、Go或Ruby</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jv"><img src="../Images/308e0b9ef72896fce27804f6be57768c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C1NYoSUue5hgPQfbbYzEAw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">为您的受众选择区域代表</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jw"><img src="../Images/8d02e0f1ea78a4a72dc348ede44cb28e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uJeMavcv4k2oTbaCWVMv2w.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">环境不到一分钟就准备好了</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jx"><img src="../Images/dc37363f63fb35222f28212708797328.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ptWNmI-romCUvjbvaMkgtA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">从这里开始，您可以遵循交互式教程或尝试不同的方法，如下所示</figcaption></figure><p id="ce04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果遵循交互式教程，将会克隆一个源存储库。我愿意用最简单的方法从零开始，所以我取消了交互式教程，转而学习“<a class="ae jd" href="https://cloud.google.com/appengine/docs/standard/python/quickstart" rel="noopener ugc nofollow" target="_blank">Python应用引擎标准环境快速入门</a>”教程。这再简单不过了。它包括以下内容:</p><ul class=""><li id="281e" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated">安装并初始化“谷歌云SDK”</li><li id="d8a0" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">获取<code class="du km kn ko kp b">python-docs-samples/appengine/standard/hello_world</code>示例代码(需要2个文件，见下文)</li><li id="4609" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">本地测试app(打开<a class="ae jd" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a>)</li><li id="0be6" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">部署应用程序</li></ul><h2 id="3f2e" class="kq kr hi bd ks kt ku kv kw kx ky kz la iq lb lc ld iu le lf lg iy lh li lj lk bi translated">最小的应用程序只需要2个文件</h2><ul class=""><li id="b5ea" class="jy jz hi ih b ii ll im lm iq ln iu lo iy lp jc kd ke kf kg bi translated"><code class="du km kn ko kp b">main.py</code> (Python源代码)</li></ul><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lq lr l"/></div></figure><ul class=""><li id="ea8c" class="jy jz hi ih b ii ij im in iq ka iu kb iy kc jc kd ke kf kg bi translated"><code class="du km kn ko kp b">app.yaml</code>(部署文件)</li></ul><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h2 id="a863" class="kq kr hi bd ks kt ku kv kw kx ky kz la iq lb lc ld iu le lf lg iy lh li lj lk bi translated">本地测试</h2><pre class="jf jg jh ji fd ls kp lt lu aw lv bi"><span id="ead7" class="kq kr hi kp b fi lw lx l ly lz">$ <strong class="kp hj">dev_appserver.py app.yaml</strong><br/>INFO     2017-03-20 21:36:53,313 devappserver2.py:764] Skipping SDK update check.<br/>INFO     2017-03-20 21:36:53,361 api_server.py:268] Starting API server at: <a class="ae jd" href="http://localhost:59317" rel="noopener ugc nofollow" target="_blank">http://localhost:59317</a><br/>INFO     2017-03-20 21:36:53,375 dispatcher.py:199] Starting module "default" running at: <a class="ae jd" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a><br/>INFO     2017-03-20 21:36:53,375 admin_server.py:116] Starting admin server at: <a class="ae jd" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank">http://localhost:8000</a><br/>INFO     2017-03-20 21:39:20,387 module.py:806] default: "GET / HTTP/1.1" 200 13</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ma"><img src="../Images/1234a184f2651909150f77416e23cd8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*0-roD23X0OFQFZ-s0w8XLg.png"/></div></figure><h2 id="c6e2" class="kq kr hi bd ks kt ku kv kw kx ky kz la iq lb lc ld iu le lf lg iy lh li lj lk bi translated">部署到生产环境</h2><pre class="jf jg jh ji fd ls kp lt lu aw lv bi"><span id="1659" class="kq kr hi kp b fi lw lx l ly lz">$ <strong class="kp hj">gcloud app deploy</strong></span><span id="6da7" class="kq kr hi kp b fi mb lx l ly lz">You are about to deploy the following services:<br/> - majestic-gizmo-162110/default/... (from [...app.yaml])<br/>     Deploying to URL: [https://majestic-gizmo-162110.appspot.com]</span><span id="6f63" class="kq kr hi kp b fi mb lx l ly lz">Do you want to continue (Y/n)?  Y</span><span id="f210" class="kq kr hi kp b fi mb lx l ly lz">Beginning deployment of service [default]...<br/>File upload done.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Updating service [default]...done.<br/>Deployed service [default] to [https://majestic-gizmo-162110.appspot.com]</span><span id="582e" class="kq kr hi kp b fi mb lx l ly lz">You can stream logs from the command line by running:<br/>  $ gcloud app logs tail -s default</span><span id="6cf0" class="kq kr hi kp b fi mb lx l ly lz">To view your application in the web browser run:<br/>  $ gcloud app browse</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ma"><img src="../Images/33143ef7d936ac85cc45401e9c6bfac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*XTdh7ToNqT1Kk5wP7vlA5Q.png"/></div></figure><h2 id="329d" class="kq kr hi bd ks kt ku kv kw kx ky kz la iq lb lc ld iu le lf lg iy lh li lj lk bi translated">计费状态</h2><p id="9fe2" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq mc is it iu md iw ix iy me ja jb jc hb bi translated">从应用程序部署的那一刻起，计费状态就会显示估计的成本。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mf"><img src="../Images/9d7e5a9c1bdea5e81e7f075fd01533ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mVbhlxKYkdEd9mopBH44XA.png"/></div></div></figure><h2 id="fa3c" class="kq kr hi bd ks kt ku kv kw kx ky kz la iq lb lc ld iu le lf lg iy lh li lj lk bi translated">关卡完成！</h2><ul class=""><li id="e729" class="jy jz hi ih b ii ll im lm iq ln iu lo iy lp jc kd ke kf kg bi translated">这再简单不过了。将无服务器应用从零开始部署到生产只需几分钟。</li><li id="2862" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">为了避免使用不必要的资源(以及潜在的收费)，删除测试项目(参见教程中的“<a class="ae jd" href="https://cloud.google.com/appengine/docs/standard/python/quickstart#clean-up" rel="noopener ugc nofollow" target="_blank">清理</a>”)</li><li id="5d3b" class="jy jz hi ih b ii kh im ki iq kj iu kk iy kl jc kd ke kf kg bi translated">这太容易了。让我们开发一个应用程序，实际上做一些事情…</li></ul><h2 id="54a3" class="kq kr hi bd ks kt ku kv kw kx ky kz la iq lb lc ld iu le lf lg iy lh li lj lk bi translated">接下来…</h2><p id="e1fc" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq mc is it iu md iw ix iy me ja jb jc hb bi translated"><a class="ae jd" rel="noopener" href="/@PicardParis/building-a-serverless-python-app-in-minutes-with-gcp-5184d21a012f">用GCP在几分钟内构建一个无服务器的Python应用</a></p></div></div>    
</body>
</html>