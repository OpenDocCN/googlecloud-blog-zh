<html>
<head>
<title>BYOP — Bring your own Prometheus (and Grafana) to monitor Apigee hybrid</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BYOP——带上你自己的普罗米修斯(和格拉法纳)去监测Apigee hybrid</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/byop-bring-your-own-prometheus-and-grafana-to-monitor-apigee-hybrid-434b008ab926?source=collection_archive---------3-----------------------#2022-12-23">https://medium.com/google-cloud/byop-bring-your-own-prometheus-and-grafana-to-monitor-apigee-hybrid-434b008ab926?source=collection_archive---------3-----------------------#2022-12-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="94fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于像Apigee这样的分布式系统，混合监控是确保平台稳定性和可用性的核心要求。由于这个原因，Apigee hybrid原生集成到谷歌云<a class="ae jd" href="https://cloud.google.com/logging" rel="noopener ugc nofollow" target="_blank">日志</a>和<a class="ae jd" href="https://cloud.google.com/monitoring" rel="noopener ugc nofollow" target="_blank">监控</a>堆栈中，允许平台运营商在一个中心位置收集重要的遥测数据，而无需操作自己的监控基础设施。</p><p id="e9ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果组织已经在统一监控堆栈上实现标准化，或者需要云监控不支持的操作或归档功能，他们可能希望并行运行自己的指标收集，或者不运行Apigee指标收集。</p><p id="4e6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们通过展示基于流行的开源工具<a class="ae jd" href="https://prometheus.io/" rel="noopener ugc nofollow" target="_blank"> Prometheus </a>和<a class="ae jd" href="https://grafana.com/" rel="noopener ugc nofollow" target="_blank"> Grafana </a>的自定义端到端度量路径的部署来满足这一需求。这个监控设置允许您捕获和可视化Apigee混合部署的重要基础设施和运行时指标。</p><h1 id="b9af" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">(可选)用于演示的集群内部服务</h1><p id="018c" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为了生成指标，然后我们可以使用我们的指标堆栈来抓取和可视化，我们部署了一个集群内服务，我们可以使用API代理来提供该服务。</p><p id="c8ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了创建集群内<a class="ae jd" href="http://httpbin.org" rel="noopener ugc nofollow" target="_blank"> httpbin </a>部署和服务，我们可以应用以下Kubernetes资源:</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="6f6e" class="kq jf hi km b be kr ks l kt ku">cat &lt;&lt;EOF | kubectl apply -f -<br/>apiVersion: v1<br/>kind: Namespace<br/>metadata:<br/>  name: httpbin<br/>---<br/>apiVersion: apps/v1<br/>kind: Deployment<br/>metadata:<br/>  name: httpbin<br/>  namespace: httpbin<br/>spec:<br/>  replicas: 1<br/>  selector:<br/>    matchLabels:<br/>      app: httpbin<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: httpbin<br/>    spec:<br/>      containers:<br/>      - name: httpbin<br/>        image: kennethreitz/httpbin<br/>        resources:<br/>          limits:<br/>            memory: "64Mi"<br/>            cpu: "50m"<br/>        ports:<br/>        - containerPort: 80<br/>---<br/>apiVersion: v1<br/>kind: Service<br/>metadata:<br/>  name: httpbin<br/>  namespace: httpbin<br/>spec:<br/>  selector:<br/>    app: httpbin<br/>  ports:<br/>  - port: 80<br/>    targetPort: 80<br/>EOF</span></pre><p id="ad59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用服务的集群内部主机名(http://http bin . http bin . SVC . cluster . local)在Apigee中创建一个代理:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div class="er es kv"><img src="../Images/604b55a087d2ba49a559c0d6892d6317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/0*NvxOFd4oQ0FApu5C"/></div><figcaption class="kz la et er es lb lc bd b be z dx translated">在Apigee UI中创建一个API代理</figcaption></figure><p id="9f1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，验证我们可以使用以下curl命令调用服务:</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="9580" class="kq jf hi km b be kr ks l kt ku">curl https://$HOSTNAME/internal/uuid<br/><br/># Response:<br/>{<br/>  "uuid": "d338600c-59d2-4c76-884d-44d7f12ebb72"<br/>}</span></pre><h1 id="d47e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Apigee开箱即用的监控路径</h1><p id="ee19" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">许多客户都享受到了减轻负担、托管和运营高可用性监控堆栈的好处，并使用了Apigee的交钥匙GCP云日志记录和监控集成。该集成基于prometheus部署，Apigee使用ApigeeTelemetry自定义资源中的配置进行编排。</p><p id="c14e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要查看Apigee混合集群中指标导出的当前配置，可以运行以下命令:</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="47b7" class="kq jf hi km b be kr ks l kt ku">kubectl get ApigeeTelemetry -n apigee -o yaml | grep metricsExport: -A5</span></pre><p id="a976" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的输出中，您可以看到指标被配置为导出到指定项目ID的云日志和监控:</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="36d4" class="kq jf hi km b be kr ks l kt ku">metricsExport:<br/>  appMetricsProjectID: my-project-name<br/>  defaultMetricsProjectID: my-project-name<br/>  enabled: true<br/>  proxyMetricsProjectID: my-project-name<br/>  stackdriverAPIEndpoint: https://monitoring.googleapis.com:443/</span></pre><p id="fada" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于ApigeeTelemetry CR中的信息，Apigee控制器为收集不同运行时资源的pod创建指标部署，并将聚合的指标发送到云监控端点，在上面的配置中称为“stackdriverAPIEndpoint”。</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es ld"><img src="../Images/9f454dd6137fa9ea49be4dc934f8c7a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w-u1KjJx4jtqNZ9I"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">Apigee的默认抓取设置如Apigee <a class="ae jd" href="https://cloud.google.com/apigee/docs/hybrid/v1.8/metrics-collection" rel="noopener ugc nofollow" target="_blank">文档</a>中所述。</figcaption></figure><p id="677f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要开始探索可用的Apigee运行时指标，我们可以进入GCP指标浏览器，查看响应延迟的百分比分布。</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es li"><img src="../Images/f2e4d223657865a9c32b4f3474beb127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_WPiLWdsgGmtEDPu"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">GCP度量浏览器中的Apigee度量</figcaption></figure><p id="c9f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如您在上面的屏幕截图中看到的，Apigee已经提供了许多代理指标，这些指标也预先填充了方便的标签，可用于按Apigee环境、Apigee组织或API代理名称等维度对数据进行分组。</p><h1 id="8875" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">在Apigee混合集群中部署您自己的Prometheus和Grafana</h1><p id="aadd" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为了本文的目的，我们将在kube-prometheus工具组中的prometheus操作员的帮助下安装Prometheus和Grafana。让您自己的Prometheus监控Apigee的概念不依赖于操作员安装，也可以应用于使用helm或自定义安装路径部署的Prometheus。</p><p id="a50d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了在我们的混合集群上安装prometheus操作符，我们运行以下命令(关于Prometheus操作符的详细解释，请参见官方的<a class="ae jd" href="https://github.com/prometheus-operator/kube-prometheus" rel="noopener ugc nofollow" target="_blank">文档</a>):</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="21d4" class="kq jf hi km b be kr ks l kt ku">git clone https://github.com/prometheus-operator/kube-prometheus.git<br/>kubectl apply --server-side -f manifests/setup<br/>kubectl wait \<br/> --for condition=Established \<br/> --all CustomResourceDefinition \<br/> --namespace=monitoring<br/>kubectl apply -f manifests/</span></pre><p id="2264" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们通过端口转发prometheus服务来检查Prometheus刮擦工作是否正常。</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="bd86" class="kq jf hi km b be kr ks l kt ku">kubectl --namespace monitoring port-forward svc/prometheus-k8s 9090</span></pre><p id="d069" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">启用端口转发后，我们现在可以在本地web浏览器的<a class="ae jd" href="http://localhost:9090/targets" rel="noopener ugc nofollow" target="_blank">http://localhost:9090/targets</a>下打开Prometheus UI。在这里，您应该会看到自动配置的服务监视器，如下图所示:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es lj"><img src="../Images/9097d76716d5a269653c72878f498f76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nRvW738a5vVwGb3h"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">用默认库贝-普罗米修斯配置刮削的库贝内斯目标</figcaption></figure><p id="bd22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你环顾四周，你会发现有许多有趣的基础设施指标。Kube-prometheus还部署了一个Grafana实例和预先填充好的仪表板，您可以通过端口转发Grafana UI来访问这些仪表板:</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="4313" class="kq jf hi km b be kr ks l kt ku">kubectl --namespace monitoring port-forward svc/grafana 3000</span></pre><p id="3740" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您在浏览器中打开Grafana UI并使用默认凭据(admin:admin)登录时，您会发现prom-kube发行版已经附带了许多预安装的仪表板，这些仪表板描述了资源利用率和基础架构指标，如下图所示:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es li"><img src="../Images/927cd90b3f515653642514cb9c34fb54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sq35Af9UYgM7EN2J"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">用于监控Kubernetes集群的现成Grafana仪表盘</figcaption></figure><h1 id="258c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">将顶点数据输入普罗米修斯</h1><p id="8393" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">当我们仔细查看上面提供的数据和仪表板时，我们看到我们获得了关于Apigee运行时资源的非常丰富的通用信息，如pod的CPU和内存使用情况、API服务器性能和pod重启。然而，我们缺少Apigee特定的信息，如最初显示的在云监控度量浏览器中可用的API代理性能。</p><p id="698e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，Apigee吊舱都带有普罗米修斯注释，允许您自动发现它们的刮擦配置。例如，您可以在Apigee运行时窗格中看到这一点:</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="4fd8" class="kq jf hi km b be kr ks l kt ku">kubectl get pods -l app=apigee-runtime -o yaml -n apigee                                                                                                                                                                                                            <br/><br/>apiVersion: v1<br/>items:<br/>- apiVersion: v1<br/>  kind: Pod<br/>  metadata:<br/>    annotations:<br/> ...<br/>      prometheus.io/path: /v1/server/metrics<br/>      prometheus.io/port: "8843"<br/>      prometheus.io/scheme: https<br/>      prometheus.io/scrape: "true"<br/>      prometheus.io/type: prometheus<br/>    labels:<br/>      ...<br/>      app: apigee-runtime<br/>      ...<br/>      revision: "183"<br/>      runtime_type: hybrid<br/>    name: apigee-runtime-...<br/>    namespace: apigee<br/>...</span></pre><p id="4f5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了将Apigee指标放入您的prometheus中，我们必须创建一个额外的scrape配置，作为我们的监控名称空间的Kubernetes秘密。(此处的刮擦信息不是特别敏感，但是prometheus CR希望以秘密的形式获得额外的刮擦配置。)</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="f6be" class="kq jf hi km b be kr ks l kt ku">cat &lt;&lt;'EOF' &gt;prom-additional-scrape.yaml<br/>- job_name: kubernetes-pods<br/>  honor_timestamps: true<br/>  scrape_interval: 30s<br/>  scrape_timeout: 10s<br/>  metrics_path: /metrics<br/>  scheme: http<br/>  tls_config:<br/>    insecure_skip_verify: true<br/>  follow_redirects: true<br/>  enable_http2: true<br/>  kubernetes_sd_configs:<br/>  - role: pod<br/>    kubeconfig_file: ""<br/>    follow_redirects: true<br/>    enable_http2: true<br/>  relabel_configs:<br/>  - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]<br/>    separator: ;<br/>    regex: "true"<br/>    replacement: $1<br/>    action: keep<br/>  - source_labels: [__meta_kubernetes_pod_container_init]<br/>    separator: ;<br/>    regex: "true"<br/>    replacement: $1<br/>    action: drop<br/>  - source_labels: [__meta_kubernetes_pod_label_apigee_cloud_google_com_platform]<br/>    separator: ;<br/>    regex: apigee<br/>    replacement: $1<br/>    action: keep<br/>  - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scheme]<br/>    separator: ;<br/>    regex: (.+)<br/>    target_label: __scheme__<br/>    replacement: $1<br/>    action: replace<br/>  - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]<br/>    separator: ;<br/>    regex: (.+)<br/>    target_label: __metrics_path__<br/>    replacement: $1<br/>    action: replace<br/>  - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_type]<br/>    separator: ;<br/>    regex: (.+)<br/>    target_label: __param_type<br/>    replacement: $1<br/>    action: replace<br/>  - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]<br/>    separator: ;<br/>    regex: ([^:]+)(?::\d+)?;(\d+)<br/>    target_label: __address__<br/>    replacement: $1:$2<br/>    action: replace<br/>  - source_labels: [__meta_kubernetes_namespace]<br/>    separator: ;<br/>    regex: (.*)<br/>    target_label: namespace<br/>    replacement: $1<br/>    action: replace<br/>  - source_labels: [__meta_kubernetes_pod_name]<br/>    separator: ;<br/>    regex: (.*)<br/>    target_label: pod<br/>    replacement: $1<br/>    action: replace<br/>  - source_labels: [__meta_kubernetes_pod_label_instance_id]<br/>    separator: ;<br/>    regex: (.*)<br/>    target_label: instance_id<br/>    replacement: $1<br/>    action: replace<br/>  - source_labels: [__meta_kubernetes_pod_label_com_apigee_version]<br/>    separator: ;<br/>    regex: (.*)<br/>    target_label: runtime_version<br/>    replacement: $1<br/>    action: replace<br/>EOF<br/><br/>kubectl create secret generic additional-scrape-configs --from-file=prom-additional-scrape.yaml --dry-run=client -oyaml | kubectl apply -n monitoring -f -</span></pre><p id="d53a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们修补Prometheus CR，使其包含额外的刮擦配置，这样它就可以被拾取并集成到Prometheus的整体配置中。</p><pre class="kh ki kj kk fd kl km kn bn ko kp bi"><span id="32e9" class="kq jf hi km b be kr ks l kt ku">cat &lt;&lt;EOF | &gt;&gt; manifests/prometheus-prometheus.yaml<br/>  additionalScrapeConfigs:<br/>    name: additional-scrape-configs<br/>    key: prom-additional-scrape.yaml<br/>EOF<br/>kubectl apply -f manifests/prometheus-prometheus.yaml<br/><br/>cat &lt;&lt;EOF | kubectl apply -f -<br/>apiVersion: rbac.authorization.k8s.io/v1<br/>kind: ClusterRole<br/>metadata:<br/>  name: prometheus-apigee<br/>rules:<br/>- apiGroups: [""]<br/>  resources:<br/>  - nodes<br/>  - nodes/proxy<br/>  - services<br/>  - endpoints<br/>  - pods<br/>  verbs: ["get", "list", "watch"]<br/>- apiGroups: [""]<br/>  resources:<br/>  - configmaps<br/>  verbs: ["get"]<br/>- apiGroups:<br/>  - networking.k8s.io<br/>  resources:<br/>  - ingresses<br/>  verbs: ["get", "list", "watch"]<br/>- nonResourceURLs: ["/metrics"]<br/>  verbs: ["get"]<br/>---<br/>apiVersion: rbac.authorization.k8s.io/v1<br/>kind: ClusterRoleBinding<br/>metadata:<br/>  name: prometheus-apigee<br/>roleRef:<br/>  apiGroup: rbac.authorization.k8s.io<br/>  kind: ClusterRole<br/>  name: prometheus-apigee<br/>subjects:<br/>- kind: ServiceAccount<br/>  name: prometheus-k8s<br/>  namespace: monitoring<br/>EOF</span></pre><p id="6883" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦应用，普罗米修斯将重新加载配置，并开始显示新发现的阿皮吉库本内特吊舱的目标:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es li"><img src="../Images/48421f099b3250b37ee80e713282d4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8qaZvVeWx2j20aL3"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">在普罗米修斯中作为目标出现的尖顶舱</figcaption></figure><p id="9845" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<a class="ae jd" href="http://localhost:9090/graph?g0.expr=proxy_request_count&amp;g0.tab=1&amp;g0.stacked=0&amp;g0.show_exemplars=0&amp;g0.range_input=1h" rel="noopener ugc nofollow" target="_blank"> prometheus UI </a>中的查询工具，我们现在能够显示我们过去在云监控中获得的Apigee特定代理指标。</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es li"><img src="../Images/34b35c82e42dfcf4b1efb53ea7236d86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VhjqihuTg5yK6oRF"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">普罗米修斯度量查询</figcaption></figure><p id="5d2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们可以返回到Metrics Explorer中的Grafana UI，验证我们是否有可用的相关数据，例如为代理创建QPS图表:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es li"><img src="../Images/ddd27c5c20d1032cc515ac15a3797b41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AUBUPZNsQyQndxi0"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">在Grafana中可视化的顶点QPS度量</figcaption></figure><h1 id="149b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">结论</h1><p id="2ca3" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">如本文所示，现有的prometheus指标端点可以很容易地通过自定义prometheus部署获得，并提供与您的基础设施监控堆栈的其余部分集成的目标指标管道。</p></div></div>    
</body>
</html>