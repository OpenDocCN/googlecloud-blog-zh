<html>
<head>
<title>Google BI Engine Statistics Dashboard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google BI引擎统计仪表板</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/google-bi-engine-statistics-dashboard-d210de6c5295?source=collection_archive---------0-----------------------#2022-07-08">https://medium.com/google-cloud/google-bi-engine-statistics-dashboard-d210de6c5295?source=collection_archive---------0-----------------------#2022-07-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1a7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Google <a class="ae jd" href="https://cloud.google.com/blog/products/data-analytics/bigquery-bi-engine-generally-available" rel="noopener ugc nofollow" target="_blank"> BI Engine现在已经普遍上市</a>，并且已经被很多DoiT客户使用。客户在Looker上使用BI引擎，但也在Tableau等其他BI工具上使用。在DoiT，我们使用商业智能引擎为<a class="ae jd" href="https://help.doit-intl.com/docs/cmp" rel="noopener ugc nofollow" target="_blank">高级云成本分析</a>平台向我们的客户提供亚秒查询。</p><p id="b46b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，在监控BI引擎工作负载时，仍有一些工作要做。</p><p id="0161" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">云监控指标浏览器</strong>中，您可以看到BI引擎预留的<em class="je">利用率以及BI引擎预留</em>的总<em class="je">大小。</em></p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/359e1a2c40d5ead460c5efffd62ee3d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zvk8-zgUAPxudZUZ"/></div></div></figure><p id="d622" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，这并不能说明有多少查询通过BI Engine得到了加速，更重要的是，为什么其他查询根本没有得到加速。BI引擎或云控制台中也没有仪表盘来统计哪些进展顺利，哪些进展不顺利。</p><p id="8f1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在撰写本文时，这些信息只能从大的查询信息模式中查询，具体来说就是从<a class="ae jd" href="https://cloud.google.com/bigquery/docs/bi-engine-sql-interface-overview#acceleration_statistics_in_information_schema" rel="noopener ugc nofollow" target="_blank"> JOBS_BY_PROJECT表</a>或通过命令行(<em class="je">bq show—format = pretty JSON-j job _ id</em>)。</p><p id="d249" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，获得一些有价值的见解需要对数据以及BI引擎如何工作有更深入的理解。</p><p id="2524" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们创建了一个易于使用的<a class="ae jd" href="https://datastudio.google.com/u/0/reporting/079ae1d2-0392-4c13-94a0-d05919dad3ac/page/gtyuC" rel="noopener ugc nofollow" target="_blank"> Data Studio仪表盘来监控BI引擎工作负载。</a></p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/43a0c07773df12a6f450c36970b70ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*79MKjSdVkKrhnspe"/></div></div></figure><p id="65d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在这个仪表板中使用的查询可以在这里找到<a class="ae jd" href="https://github.com/doitintl/bi-engine-statistics" rel="noopener ugc nofollow" target="_blank">。[3]</a></p><h1 id="83e5" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">入门指南</h1><h1 id="f3ad" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">先决条件</h1><p id="0a30" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">要创建仪表板并查询INFORMATION_SCHEMA表，用户必须能够访问以下INFORMATION_SCHEMA表:</p><p id="7ab4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">信息_模式。按项目列出的作业</p><h1 id="54ec" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">数据源</h1><p id="c88f" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">1.1复制该数据源<br/>登录Data Studio，创建以下数据源的副本。关于复制数据源的更多信息可在<a class="ae jd" href="https://support.google.com/datastudio/answer/7421646?hl=en&amp;ref_topic=6370331" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="4c5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.2设置正确的GCP计费项目<br/>将此设置为您已经进行了BI引擎预订的项目</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ku"><img src="../Images/09f0b73c848753320b1f5c227f97af1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BFLKAPrLDtDLl0cH"/></div></div></figure><p id="a1f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.3更改数据源:<br/>在我们的示例中，我们使用了region-eu，但是您可以将其更改为您选择的区域(BI引擎容量保留的区域)。使用以下格式为INFORMATION_SCHEMA视图中的项目id、区域和视图指定<a class="ae jd" href="https://cloud.google.com/bigquery/docs/information-schema-jobs#regionality" rel="noopener ugc nofollow" target="_blank">区域性</a>:</p><p id="fd49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">` project _ id '` REGION-REGION _ name '. information _ SCHEMA。视角</p><h1 id="6dff" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">仪表盘</h1><p id="f16f" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">2.1复制仪表板<br/>创建一个<a class="ae jd" href="https://datastudio.google.com/u/0/reporting/079ae1d2-0392-4c13-94a0-d05919dad3ac/page/gtyuC" rel="noopener ugc nofollow" target="_blank">公共仪表板</a>的副本。您将被要求选择一个新的数据源，您必须选择您在步骤1中复制的数据源。单击创建报告，并根据需要对其进行重命名。</p><p id="8041" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.2更改仪表板<br/>一旦复制了报告并且呈现了所有数据，更改报告页面中的任何日期选择器以使用您想要的时间段(例如:上周、过去14天、过去28天等)。</p></div></div>    
</body>
</html>