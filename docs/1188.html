<html>
<head>
<title>E2E Kubernetes CI/CD with Google Cloud Build</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">E2E Kubernetes CI/CD和Google Cloud Build</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/e2e-kubernetes-ci-cd-with-google-cloud-build-6339c0a22290?source=collection_archive---------0-----------------------#2019-11-04">https://medium.com/google-cloud/e2e-kubernetes-ci-cd-with-google-cloud-build-6339c0a22290?source=collection_archive---------0-----------------------#2019-11-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9ed42012ad7867fa2696b2f7417ab9a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTubx2Hfd9MuAic-Wu18TA.png"/></div></div></figure><p id="fc3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Google Cloud Build是一项服务，用于提供构建代理来运行<em class="jo">持续集成和部署(CI/CD) </em>任务[1]。上图是用于部署Kubernetes应用程序的CI/CD管道的架构。本文总结了设置这个基于云构建的CI/CD管道所涉及的所有组件和操作。<strong class="is hj">它提供了一个1000英尺的视角，无需深入任何一个具体任务的逐步细节</strong>。</p><p id="1661" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有很多文章都是关于如何完成特定任务的，但是我很少看到描述建立端到端解决方案需要什么的文章。我相信，如果你了解你正在建立什么，它会变得更容易来源个别部分…而不是相反。</p><p id="cc87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们继续之前，我将介绍Kubernetes、基础设施安全和DNS等中高级概念。所以我假设你对这些概念很熟悉，或者你可以在以后阅读它们。整个基础设施都配备了<em class="jo">terra form</em>【2】，所有源代码都可以在Github上获得【3】。让我们开始吧。</p><div class="jp jq ez fb jr js"><a href="https://github.com/eyeezzi/k8s-cloud-build-cicd" rel="noopener  ugc nofollow" target="_blank"><div class="jt ab dw"><div class="ju ab jv cl cj jw"><h2 class="bd hj fi z dy jx ea eb jy ed ef hh bi translated">eyeezzi/k8s-cloud-build-cicd</h2><div class="jz l"><h3 class="bd b fi z dy jx ea eb jy ed ef dx translated">使用Google Cloud Build-eye ezzi/k8s-Cloud-Build-cicd为Kubernetes应用程序设置CI/CD管道</h3></div><div class="ka l"><p class="bd b fp z dy jx ea eb jy ed ef dx translated">github.com</p></div></div></div></a></div><h1 id="2ebb" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">关于多云架构的说明</h1><p id="536c" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">请注意，该系统分为4个部分，每个部分在不同的云提供商上提供，如下所示:<strong class="is hj"> Github </strong>用于源代码存储库；<strong class="is hj"> Google云平台</strong>用于构建代理和容器注册；<strong class="is hj">数字海洋</strong>为Kubernetes星团；和DNS的<strong class="is hj"> Namecheap </strong>。</p><p id="d029" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将各种组件分散在不同的提供商之间会使互操作变得更具挑战性，但它也提供了一些好处，如为特定服务使用最具成本效益的提供商，避免供应商锁定，以及更深入地了解各种组件如何组合在一起。后者是我以这种方式设计架构的主要原因。</p><h1 id="7b8c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">变革管理流程</h1><p id="1b39" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">所有CI/CD管道都旨在解决一个核心问题:如何让开发人员在不破坏用户体验的情况下增量更新他们的软件。</p><p id="67f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个常见的想法是首先将变更部署到<em class="jo">试运行</em>环境，然后<em class="jo">将变更升级到<em class="jo">生产</em>环境。在我的例子中，将变更从一个环境转移到另一个环境的触发器是Git操作(比如合并一个Pull请求)…一个被称为<em class="jo"> GitOps </em> [4]的原则。</em></p><p id="1700" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图显示了我们的系统如何将变更从提交传播到生产。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/e268242e63ab7119f4f03955ca685527.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Y9XVCp6q2QFDpiHbHkgnw.png"/></div></div></figure><ol class=""><li id="fb2c" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">首先，开发人员在云构建上创建3个<em class="jo">触发器</em>，每个管道一个。</li><li id="7195" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">创建一个Pull请求会触发<em class="jo">开发管道</em>，它运行测试并向Github报告提交状态。假设所有测试都通过，请购单被批准并合并到<strong class="is hj"> <em class="jo">主</em> </strong>。</li><li id="f471" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">更改<strong class="is hj"> <em class="jo"> master </em> </strong>触发<em class="jo">登台管道</em>，该管道构建Docker映像，将映像推送到Google容器注册表，并将应用程序部署到登台集群(通过应用其K8s YAML文件)。然后，开发人员可以对运行在Staging上的应用程序进行全面检查。</li><li id="0436" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">如果被认为是正确的，运行在Staging上的<strong class="is hj"><em class="jo">master</em></strong>commit可以被标记为类似于<em class="jo"> v1.1.2 </em>的版本。这个动作触发了<em class="jo">生产流水线</em>，它将K8s文件应用到生产集群。</li></ol><p id="a2ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">至此，让我们来看一下实现管道的每一部分。</p><h1 id="faf9" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">设置Github存储库</h1><p id="9c62" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">该库包含3个Cloudbuild YAML文件:<strong class="is hj"><em class="jo">app/dev . cloud build . YAML</em></strong>、<strong class="is hj"><em class="jo">app/staging . cloud build . YAML</em></strong>和<strong class="is hj"><em class="jo">app/prod . cloud build . YAML</em></strong>【5】。每一个都指定了分别由开发、试运行和生产管道执行的步骤。</p><p id="03cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，我们还提交了两个<em class="jo"> KUBECONFIG </em>文件:<strong class="is hj"><em class="jo">app/k8s/Staging . kube config . YAML</em></strong>和<strong class="is hj"><em class="jo">app/k8s/prod . kube config . YAML</em></strong>【6】，它们分别包含了访问临时集群和生产集群的连接参数。相应的管道使用每个文件将应用程序部署到集群。重要的是，<em class="jo">用户令牌</em>从<em class="jo"> KUBECONFIG </em>文件中移除，并作为环境变量提供给每个云构建管道。因此，将这些文件提交给源代码控制是安全的。</p><h1 id="6572" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">设置Google云构建</h1><p id="543d" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">从GCP控制台，我们通过OAuth流程将云构建连接到我们的Github存储库，OAuth流程安装并授权<em class="jo">云构建Github应用</em>来观察和报告我们的存储库的变化【7】。或者，我们可以将Github存储库镜像到一个<em class="jo">云源代码存储库</em>，让Cloud Build监视镜像……但是这既复杂又缓慢。</p><p id="f3c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们创建3个触发器，每个触发器被配置为运行我们的3个管道之一[9]:</p><ol class=""><li id="b2a4" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated"><strong class="is hj"> <em class="jo">特性分支</em> </strong>触发器:观察拉取请求，运行<em class="jo">app/dev . cloud build . YAML</em>中的步骤。</li><li id="43d6" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated"><strong class="is hj"> <em class="jo">部署到Staging </em> </strong>触发器:监视<strong class="is hj"> <em class="jo"> master </em> </strong>分支，运行<em class="jo">app/Staging . cloud build . YAML</em>中的步骤。</li><li id="6d95" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated"><strong class="is hj"> <em class="jo">部署到Prod </em> </strong>触发器:监视<strong class="is hj"> <em class="jo"> v1.2.3 </em> </strong>形式的标签，运行<em class="jo">app/Prod . cloud build . YAML</em>中的步骤。</li></ol><p id="392a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，您可以配置一个触发器，将某些环境变量暴露给管道进程[10]。因此，我们在<em class="jo">部署到暂存</em>和<em class="jo">部署到生产</em>触发器中设置环境变量<code class="du lx ly lz ma b">_DEPLOYER_TOKEN=&lt;<em class="jo">User Token&gt;</em></code>。</p><p id="2f5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，云构建附带了一个默认的服务帐户，该帐户被授权将映像推送到同一项目的GCR注册中心[11]。然而，我们的数字海洋集群缺乏从注册表中提取图像的授权。因此，我们在GCP项目上创建了一个专用的GCP IAM服务帐户，具有<strong class="is hj"> <em class="jo">存储对象查看者</em> </strong>角色。然后，我们为该服务帐户下载一个JSON密钥[12]…稍后，该文件将用于在暂存集群和生产集群中创建一个<em class="jo"> ImagePullSecret </em>，以便从注册表中提取映像。</p><h1 id="b751" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">建立Kubernetes集群</h1><p id="99b3" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我们分别为试运行和生产环境建立了两个Kubernetes集群[13]。每个应用程序都将被部署到它自己的<em class="jo">命名空间</em>…实际上将它与该环境中的其他应用程序隔离开来。描述应用程序的所有资源— <em class="jo">部署</em>、<em class="jo">服务</em>和<em class="jo">入口、</em>等—都将被部署到该名称空间。</p><p id="990d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当一个<em class="jo">部署</em>在一个名称空间中创建时，<em class="jo"> Kubelet </em>需要授权从GCR获取映像。因此，我们从之前下载的GCP服务帐户密钥创建一个<strong class="is hj"><em class="jo">ImagePullSecret</em></strong>。然后将这个秘密作为一个<strong class="is hj"><em class="jo">imagePullSecret</em></strong>添加到集群名称空间【14】中的<em class="jo">默认服务帐户</em>。因此，该名称空间中的每个<em class="jo">部署</em>都可以从GCR获取映像。</p><p id="f34a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们在每个集群中运行一个反向代理，将传入请求负载平衡到适当的应用程序服务。<strong class="is hj"> <em class="jo"> Traefik </em> </strong>就是这样一个反向代理，支持自动提供Letsencrypt TLS证书[15]。重要的是，Traefik作为一个<em class="jo">负载平衡器类型的</em> K8s服务运行，因此云提供商(在本例中为DigitalOcean)提供了一个具有公共静态IP地址的实际负载平衡器设备[16]。然后，您可以通过该IP地址访问集群，进而访问您的应用程序。</p><h1 id="6315" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">设置DNS</h1><p id="68ba" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">用一个IP地址访问你的服务是不切实际的，所以从像Name price这样的提供商那里购买一个域名——为了这个项目，我购买了<strong class="is hj"><em class="jo">opsolute.com。</em> </strong>带有该后缀的域名的DNS查询将被发送到廉价域名服务器。</p><p id="3246" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了将此类请求重定向到我们的数字海洋集群，我们将<strong class="is hj"> <em class="jo"> NS记录</em> </strong>添加到Namecheap帐户，以将查询解析委托给数字海洋名称服务器【17】。然后，我们创建2个<strong class="is hj"> <em class="jo"> A记录</em> </strong>，分别映射到我们的临时集群和生产集群的静态IP地址。</p><ol class=""><li id="4021" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated"><strong class="is hj"><em class="jo">opsolute.com。</em> </strong> →数字海洋域名服务器</li><li id="a35c" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">数字海洋一记:<strong class="is hj"><em class="jo">polite.opsolute.com。→137.13.55.5 </em> </strong>(生产集群Traefik负载平衡器IP) →应用程序</li><li id="d85a" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">数字海洋一记:<strong class="is hj"><em class="jo">staging.polite.opsolute.com。→157.38.29.13</em></strong>(暂存集群Traefik负载平衡器IP) →应用程序</li></ol><h1 id="7cdb" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">测试整个设置</h1><p id="f679" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我们的示例应用程序是一个名为<code class="du lx ly lz ma b">polite</code>的Go服务器，它在<code class="du lx ly lz ma b">/</code>路线上返回问候，在<code class="du lx ly lz ma b">/health</code>路线上返回健康状态。您可以通过在部署文件[18]中设置<code class="du lx ly lz ma b">--greeting</code>标志来自定义问候语。我们将用不同的消息将应用程序的不同版本部署到登台和生产环境中。按照下面的步骤测试整个管道。</p><ol class=""><li id="5265" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">编辑部署文件来设置<code class="du lx ly lz ma b">--greeting="Bonjour!"</code>。对此变更提出一个Pull请求，并观察云构建开发管道的启动，以运行测试并报告成功状态。然后批准并合并请购单。</li><li id="9579" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">在合并到主服务器时，临时管道应该激活，以构建应用程序映像并将其部署到临时集群。</li><li id="f60a" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">从你的浏览器访问升级网址<strong class="is hj">https://staging.polite.opsolute.com</strong>，你应该会看到问候<strong class="is hj"> <em class="jo">你好！</em> </strong>。</li><li id="d785" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">现在将<em class="jo">主</em>分支标记如下:<code class="du lx ly lz ma b">git tag v1.0.0 origin/master &amp;&amp; git push --tags</code>。这应该会触发<em class="jo">部署到生产管道</em>，该管道会将映像部署到生产集群。访问网址<strong class="is hj">https://polite.opsolute.com</strong>，你会看到问候<strong class="is hj"> <em class="jo">你好！</em> </strong>。</li></ol><p id="70e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们现在有一个版本的应用程序同时运行在试运行和生产环境中。接下来，我们引入一个使我们的西班牙语化的更改，然后将该更改部署到Staging。</p><ol class=""><li id="4e92" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn lo lp lq lr bi translated">重复上面的步骤1和2，但这次设置<code class="du lx ly lz ma b">--greeting=”Hola!”</code>。</li><li id="d824" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn lo lp lq lr bi translated">参观<strong class="is hj">https://staging.polite.opsolute.com</strong>，你应该会看到<strong class="is hj">T4【你好！T6。不过制作网址<strong class="is hj">https://polite.opsolute.com</strong>应该还是会返回<strong class="is hj"> <em class="jo"> Bonjour！</em> </strong>。</strong></li></ol><p id="ad6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样！我们的管道可以将不同的版本部署到试运行和生产中。</p><h1 id="6aeb" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">我面临的挑战</h1><p id="6028" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我喜欢在这个项目上工作，但也有不少挫折。一些我将在下面简要描述。</p><ul class=""><li id="8c12" class="lj lk hi is b it iu ix iy jb ll jf lm jj ln jn mb lp lq lr bi translated">每次部署K8s负载平衡器服务时，DigitalOcean都会为负载平衡器提供一个随机的公共静态IP地址。所以你需要更新你的DNS记录来指向这个新的IP地址。这很不方便。解决方案是购买他们所谓的浮动IP(与您的服务具有不同生命周期的静态IP ),并将其指定为您的服务的LoadBalancerIP的值……但遗憾的是这不受支持[19]。</li><li id="745c" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn mb lp lq lr bi translated">云构建不支持在Github拉合并分支上触发。每当您发出一个Pull请求时，Github都会在一个名为<code class="du lx ly lz ma b">refs/pull/ID/merge</code>的分支中模拟源分支和目的分支的合并结果。因此，您可以测试并构建合并PR的结果，而无需实际合并它。遗憾的是，GCP云构建不支持这一点[20]。</li><li id="285b" class="lj lk hi is b it ls ix lt jb lu jf lv jj lw jn mb lp lq lr bi translated">我尝试使用Kubernetes提供程序和Helm提供程序来管理Terraform中的Kubernetes资源。目的是以声明的方式管理重要的集群资源，如名称空间和Traefik入口控制器作为代码的<em class="jo">基础设施。然而，这些提供者对Kubernetes对象规范的支持很差，并且存在资源依赖性问题。所以现在，最好把Kubernetes的东西放在Terraform之外，直到这些提供商变得更加成熟。</em></li></ul><p id="96aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">总的来说，我发现Cloud Build非常适合为Kubernetes应用程序快速建立CI/CD管道。</p></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="2185" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[1]:云构建—持续集成的自动化构建|云构建|谷歌云<br/>https://cloud.google.com/cloud-build/</p><p id="093a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[2]:https://www.terraform.io/哈希公司的terra form<br/></p><p id="7816" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[3]:eye ezzi/k8s-cloud-build-cicd<br/>eye ezzi—<a class="ae mj" href="https://github.com/eyeezzi/k8s-cloud-build-cicd" rel="noopener ugc nofollow" target="_blank">https://github.com/eyeezzi/k8s-cloud-build-cicd</a></p><p id="3bfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[4]: GitOps你需要知道的事情<br/>https://www.weave.works/technologies/gitops/</p><p id="15b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[5]:eye ezzi/k8s-cloud-build-cicd<br/>T22【https://github . com/eye ezzi/k8s-cloud-build-cicd/tree/master/app</p><p id="51ca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[6]:eye ezzi/k8s-cloud-build-cicd<br/><a class="ae mj" href="https://github.com/eyeezzi/k8s-cloud-build-cicd/tree/master/app/k8s" rel="noopener ugc nofollow" target="_blank">https://github . com/eye ezzi/k8s-cloud-build-cicd/tree/master/app/k8s</a></p><p id="fd9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[7]:使用GitHub检查运行构建|云构建文档| Google Cloud<br/>https://Cloud . Google . com/Cloud-Build/docs/run-builds-with-GitHub-Checks</p><p id="d8a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[8]:镜像GitHub存储库|云源存储库文档| Google Cloud<br/>https://Cloud . Google . com/Source-Repositories/docs/Mirroring-a-GitHub-repository</p><p id="968a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[9]:使用云构建自动化构建|云源代码库文档|谷歌云<br/>T3】https://Cloud . Google . com/Source-Repositories/docs/integrating-with-Cloud-Build # create _ a _ Build _ trigger</p><p id="8b5c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[10]:代入变量值| Cloud Build | Google Cloud<br/>https://Cloud . Google . com/Cloud-Build/docs/configuring-builds/substitute-variable-values</p><p id="5aae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[11]:设置服务帐户权限|云构建|谷歌云<br/>https://Cloud . Google . com/Cloud-Build/docs/securing-builds/set-service-account-permissions</p><p id="2422" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[12]:创建和管理服务帐户密钥| Cloud IAM文档| Google Cloud<br/><a class="ae mj" href="https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys" rel="noopener ugc nofollow" target="_blank">https://Cloud . Google . com/IAM/docs/Creating-managing-service-account-keys # Creating _ service _ account _ keys</a></p><p id="5090" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[13]:如何使用控制面板创建Kubernetes集群<br/><a class="ae mj" href="https://www.digitalocean.com/docs/kubernetes/how-to/create-clusters/" rel="noopener ugc nofollow" target="_blank">https://www . digital ocean . com/docs/Kubernetes/How-to/Create-Clusters/</a></p><p id="75ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[14]:带外部Kubernetes的Google Cloud Registry(GCR)<br/>http://docs . hep TiO . com/content/private-registries/pr-gcr . html</p><p id="7494" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[15]:让我们加密<br/>containo . us—<a class="ae mj" href="https://docs.traefik.io/https/acme/" rel="noopener ugc nofollow" target="_blank">https://docs.traefik.io/https/acme/</a></p><p id="699d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[16]:如何向Kubernetes集群添加负载平衡器<br/>https://www . digital ocean . com/docs/Kubernetes/How-to/Add-Load-Balancers/</p><p id="8e4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[17]:如何指向通用域名注册商的数字海洋域名服务器<br/>数字海洋—<a class="ae mj" href="https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars" rel="noopener ugc nofollow" target="_blank">https://www . digital ocean . com/community/tutorials/How-To-Point-To-digital ocean-name servers-From-Common-Domain-Registrars</a></p><p id="6f1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[18]:eye ezzi/k8s-cloud-build-cicd<br/><a class="ae mj" href="https://github.com/eyeezzi/k8s-cloud-build-cicd/blob/master/app/k8s/staging-deployment.yaml" rel="noopener ugc nofollow" target="_blank">https://github . com/eye ezzi/k8s-cloud-build-cicd/blob/master/app/k8s/staging-deployment . YAML</a></p><p id="f2da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[19]:如何在Kubernetes中设置负载平衡器的静态IP？<br/>数字海洋—<a class="ae mj" href="https://www.digitalocean.com/community/questions/how-to-set-static-ip-for-loadbalancer-in-kubernetes" rel="noopener ugc nofollow" target="_blank">https://www . digital ocean . com/community/questions/how-to-set-static-IP-for-load balancer-in-kubernetes</a></p><p id="2d7e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[20]:<a class="ae mj" href="https://issuetracker.google.com/issues/119662038" rel="noopener ugc nofollow" target="_blank">https://issuetracker.google.com/issues/119662038</a></p></div></div>    
</body>
</html>