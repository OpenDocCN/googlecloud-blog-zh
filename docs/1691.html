<html>
<head>
<title>Day #3 with Cloud Workflows: variable assignment and expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">云工作流第3天:变量赋值和表达式</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/day-3-with-cloud-workflows-variable-assignment-and-expressions-78da02ae15c3?source=collection_archive---------1-----------------------#2020-12-03">https://medium.com/google-cloud/day-3-with-cloud-workflows-variable-assignment-and-expressions-78da02ae15c3?source=collection_archive---------1-----------------------#2020-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8496" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然我们的工作流定义中有多个步骤，那么让我们看看如何将数据从一个步骤传递到另一个步骤。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/b3ffd13e2374a12d94c340440ae235e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/0*qGQSJAf80khTUNyE.png"/></div></figure><p id="fcfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在一个步骤中，您可以为变量赋值。这些值可以是int、doubles、strings或booleans(也可以是null)。按如下方式使用assign关键字:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="b668" class="jq jr hi jm b fi js jt l ju jv">- assignments:<br/>    assign:<br/>        - two: 2<br/>        - pi: 3.14<br/>        - message: "Hello"<br/>        - bool: True</span></pre><p id="a87b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些变量在整个工作流范围内都可用，并且可以在其他步骤中访问。让我们看看如何利用这些变量做些什么。让我们向工作流定义添加第二步:</p><pre class="je jf jg jh fd jl jm jn jo aw jp bi"><span id="dac8" class="jq jr hi jm b fi js jt l ju jv">- twoPi:<br/>    return: ${"Twice pi is " + string(two * pi)}</span></pre><p id="76ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用${}符号来创建一个表达式。我们将两个数字相乘，将它们转换成一个字符串，并将两个字符串连接在一起，得到最终值。</p><p id="d9da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，并非所有类型都允许所有操作，因此您可能需要使用内置的<a class="ae jw" href="https://cloud.google.com/workflows/docs/reference/syntax?hl=en#conversion_functions" rel="noopener ugc nofollow" target="_blank">转换函数</a>进行一些转换，如我们示例中的string()函数。有各种各样的算术运算符或布尔逻辑运算符。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="07ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多信息，你可以阅读关于<a class="ae jw" href="https://cloud.google.com/workflows/docs/reference/syntax?hl=en#assign-step" rel="noopener ugc nofollow" target="_blank">变量赋值</a>、<a class="ae jw" href="https://cloud.google.com/workflows/docs/reference/syntax?hl=en#data_types" rel="noopener ugc nofollow" target="_blank">数据类型</a>和<a class="ae jw" href="https://cloud.google.com/workflows/docs/reference/syntax?hl=en#expressions" rel="noopener ugc nofollow" target="_blank">表达式</a>。下一次，我们还将看看更复杂的数据类型。</p></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><p id="dce0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kg">最初发表于</em><a class="ae jw" href="http://glaforge.appspot.com/article/day-3-with-cloud-workflows-variable-assignment-and-expressions" rel="noopener ugc nofollow" target="_blank"><em class="kg">http://glaforge.appspot.com</em></a><em class="kg">。</em></p></div></div>    
</body>
</html>