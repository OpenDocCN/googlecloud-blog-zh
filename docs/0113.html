<html>
<head>
<title>A to Z of Google Cloud Platform a personal selection — Y — for YARN</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台的a到Z个人选择——Y——为纱</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-y-for-yarn-b9b0312d66b9?source=collection_archive---------1-----------------------#2016-06-05">https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-y-for-yarn-b9b0312d66b9?source=collection_archive---------1-----------------------#2016-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d193" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我完全被这封信打败了。我已经问了几个星期的建议，同样的主题一直扔给我。所以我只想感谢@complex和@sveesible，感谢他们为我提供了建议，让我在六月份完成这个系列的目标，并让所有的事情都保持连贯。</p><p id="ab91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">纱线(YARN)——这代表另一个资源谈判者。它是作为Hadoop v2架构的一部分引入的。</p><p id="96ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">YARN实际上将MapReduce的资源管理和调度功能从数据处理组件中分离出来。为什么这是一件事？在YARN之前，Hadoop JobTracker限制了可伸缩性，也是一个单点故障。</p><p id="6015" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，从Hadoop v1中的紧密耦合配置来看，YARN的引入改变了模型，如下图所示(因为我在这一系列帖子中谈论的GCP GCS在图中Hadoop v2的存储部分是准确的):</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/6cf7cc8bf11d514c221baf1f85d67e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-hQAgE5a9d4AbT64."/></div></div></figure><p id="bb15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着YARN的引入，这使得Hadoop能够支持更多样的处理方法和更广泛的应用程序，因此您现在可以使用MapReduce批处理作业同时运行交互式查询和流数据应用程序。上图中展示了其他一些工具。</p><p id="0d01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来自<a class="ae jd" href="http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/YARN.html" rel="noopener ugc nofollow" target="_blank"> apache YARN页面</a>的下图说明了该架构</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jq"><img src="../Images/0fd61a04fd92ed0f19e544a11e9c2e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*9Q8zp5lbd9449DtmKD0Org.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">Hadoop纱线架构</figcaption></figure><p id="410d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我是一个老skool Hadoop/ MapReduce用户，所以当我最初接触Hadoop时，YARN并不存在，但我希望它存在！</p><p id="a30b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我不会花时间谈论Hadoop v1和Hadoop v2的历史，互联网上有一些关于这方面的精彩帖子。这是一个关于GCP的系列，所以我现在将重点关注纱线在GCP生态系统中的位置。</p><p id="7824" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GCP有一个完全托管的服务，让你运行Apache Spark和Apache Hadoop生态系统，称为<a class="ae jd" href="https://cloud.google.com/dataproc/" rel="noopener ugc nofollow" target="_blank">云数据平台</a>。它可以快速配置大型或小型集群，支持许多流行的作业类型。YARN与这项服务相结合。从云控制台启动Dataproc集群这种集成是显而易见的。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jv"><img src="../Images/d29fa86f9423aa1a81adde60e0ad33d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ykmEBmE0mYrEY5i0."/></div></div></figure><p id="2383" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过多种方式启动或停止Dataproc集群，包括使用<a class="ae jd" href="https://cloud.google.com/dataproc/cluster-web-interfaces#available_interfaces_wzxhzdk5wzxhzdk6" rel="noopener ugc nofollow" target="_blank"> YARN web界面</a>。该接口可以在您的Dataproc集群主节点的端口8088上找到。</p><p id="1d27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要访问该接口，强烈建议使用SSH隧道来创建到主节点的安全连接。SSH隧道支持使用<a class="ae jd" href="https://en.wikipedia.org/wiki/SOCKS" rel="noopener ugc nofollow" target="_blank"> SOCKS </a>协议的流量代理。这意味着您可以在任何支持SOCKS协议的浏览器中通过SSH隧道发送网络请求，从而允许您通过SSH传输所有浏览器数据，无需打开防火墙端口来访问web界面。参见<a class="ae jd" href="https://cloud.google.com/dataproc/cluster-web-interfaces#step_1_-_create_an_ssh_tunnel" rel="noopener ugc nofollow" target="_blank">文档</a>了解如何操作。</p><p id="37f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过这个界面，除了使用云控制台或命令行之外，您还可以监控您的集群。这种集成意味着您可以继续使用您已经习惯的工具</p><p id="1d54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在yarn-site.xml中调整纱线参数</p><p id="0231" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了系统日志之外，应用程序日志(如YARN日志)也会被转发到云日志(关于日志的一些信息，请参见我在本系列文章中关于<a class="ae jd" rel="noopener" href="/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-l-is-for-logging-230d459976f4#.aq7mhyrw7"> L </a>的文章)</p></div></div>    
</body>
</html>