<html>
<head>
<title>Clinical Automation with Google Workspace and the Healthcare API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Google Workspace和医疗保健API实现临床自动化</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/clinical-automation-with-google-workspace-and-the-healthcare-api-f97555ef00cf?source=collection_archive---------1-----------------------#2021-05-13">https://medium.com/google-cloud/clinical-automation-with-google-workspace-and-the-healthcare-api-f97555ef00cf?source=collection_archive---------1-----------------------#2021-05-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="5d94" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="3d7d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">随着医疗保健的不断自动化，谷歌云正在寻求各种方法来减轻临床系统的技术债务，同时进一步提高它们使用易于使用的工具为患者服务的能力。<a class="ae kb" href="https://workspace.google.com/industries/healthcare/" rel="noopener ugc nofollow" target="_blank"> Google Workspace </a>已经在整个行业得到应用，以帮助简化患者护理，并为临床医生和患者提供协作工具。</p><p id="fa72" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这篇文章分享了医疗系统如何使用谷歌表单将他们的工作流程与谷歌的<a class="ae kb" href="https://cloud.google.com/healthcare" rel="noopener ugc nofollow" target="_blank">云医疗API </a>集成。本文中提到的特定用例是当一个新的或现有的患者联系提供者进行预约时。通常，提供者会要求患者在预约时间前15-30分钟到达并填写表格。这涉及到文书工作。患者可以填写手写表格，然后交给临床管理人员。然后工作人员将其输入电子记录系统。</p><p id="5d64" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在本文中，描述了一个工作流，其中提供者向患者发送一个指向Google表单的链接。患者使用选择的电子设备(如电话或笔记本电脑)安全地填写表格。患者在线提交表格。在提交时，在提供者的记录系统中验证患者数据和创建患者资源的过程是完全自动化的。这种工作流自动化的用例可能包括</p><ul class=""><li id="c2d9" class="kh ki hi jf b jg kc jk kd jo kj js kk jw kl ka km kn ko kp bi translated">新患者入职</li><li id="78f5" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">返回患者—所述解决方案的修改可用于向患者发送定制的表格，患者无需重新填写过去可能已经提交的信息，只需更新可能已经改变的信息。</li><li id="3ed2" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">患者调查</li><li id="5bf2" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">远程监控不严重的患者状况，如不严重的烧伤、痤疮、毛发生长等。—包括由患者拍摄图像并将其附加到表单上，以便与提供者进行安全的通信。</li></ul><p id="242a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">所描述的解决方案使用Google Forms和Google Apps脚本将患者提供的信息自动发送到快速医疗互操作性资源(FHIR)中的患者资源。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/4c98f3498bbe9435d542c3e3e24899a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6tN8wu9rJcp2E-b8"/></div></div></figure><p id="b1ff" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">Google Forms是一个易于使用、用户友好的信息收集工具，是Google Workspace工具套件的一部分。集成是使用开源<a class="ae kb" href="https://github.com/GoogleCloudPlatform/healthcare-data-harmonization" rel="noopener ugc nofollow" target="_blank">谷歌医疗数据协调</a>工具Whistle完成的。云数据流用于将输入数据转换为FHIR格式，并写入云医疗API FHIR存储。</p><p id="8932" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">通过利用Google Cloud上的FHIR商店，患者数据以安全的行业标准格式存储。这允许与下游应用程序、分析和机器学习应用程序进一步集成。</p><h1 id="9dca" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">解决方案指南</h1><h2 id="23a5" class="lh ig hi bd ih li lj lk il ll lm ln ip jo lo lp it js lq lr ix jw ls lt jb lu bi translated">开始之前</h2><p id="517e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">对于这个参考指南，你需要一个谷歌云<a class="ae kb" href="https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy#projects" rel="noopener ugc nofollow" target="_blank">项目</a>。您可以创建一个新项目，或者选择您已经创建的项目:</p><ol class=""><li id="e904" class="kh ki hi jf b jg kc jk kd jo kj js kk jw kl ka lv kn ko kp bi translated">选择或创建Google云项目。</li><li id="bdc9" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lv kn ko kp bi translated">为您的项目启用计费。</li><li id="5167" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lv kn ko kp bi translated">启用PubSub、Dataflow、医疗保健API和云存储API。</li><li id="5da9" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lv kn ko kp bi translated">确保你有一个Google Workspace账户(也就是Gmail for Enterprise)。当使用表单和应用程序脚本等工作区工具来处理任何类型的PHI数据(【https://support.google.com/a/answer/3407054?hl=en】T2)时，工作区管理员应接受HIPAA BAA</li><li id="0dd2" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lv kn ko kp bi translated">确保您在本地安装了GCP SDK或使用云外壳</li></ol><p id="4f92" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">完成本教程后，您可以通过删除您创建的资源来避免继续计费。</p><h2 id="e750" class="lh ig hi bd ih li lj lk il ll lm ln ip jo lo lp it js lq lr ix jw ls lt jb lu bi translated">第一部分:搭建谷歌云平台</h2><p id="2460" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hj"> <em class="lw">使用医疗保健API创建一个FHIR R4商店</em> </strong></p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="8df3" class="lh ig hi ly b fi mc md l me mf">#Create Healthcare DATASET</span><span id="190a" class="lh ig hi ly b fi mg md l me mf">gcloud healthcare datasets create &lt;DATASET&gt;</span><span id="af1f" class="lh ig hi ly b fi mg md l me mf">#Create Healthcare FHIR STORE named “workspace”</span><span id="1947" class="lh ig hi ly b fi mg md l me mf">gcloud healthcare fhir-stores create workspace \<br/> — dataset=&lt;DATASET&gt; \<br/> — location=us-central1 \<br/> — version=R4 \<br/> — disable-referential-integrity \<br/> — enable-update-create</span></pre><p id="0635" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="lw">创建一个发布订阅主题和一个订阅</em> </strong></p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="f9b1" class="lh ig hi ly b fi mc md l me mf">#Create a pubsub topic named “workspace”</span><span id="9246" class="lh ig hi ly b fi mg md l me mf">gcloud pubsub topics create workspace</span><span id="8821" class="lh ig hi ly b fi mg md l me mf">#Create a subscription to the topic named “dfjob” to topic “workspace”</span><span id="052a" class="lh ig hi ly b fi mg md l me mf">gcloud pubsub subscriptions create dfjob --topic workspace</span></pre><p id="c269" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="lw">创建数据流管道</em> </strong></p><p id="0448" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">对于这一步，我将从谷歌开源的<a class="ae kb" href="https://github.com/GoogleCloudPlatform/healthcare-data-harmonization-dataflow" rel="noopener ugc nofollow" target="_blank">这个</a>仓库中分离出来。<a class="ae kb" href="https://github.com/GoogleCloudPlatform/healthcare-data-harmonization-dataflow" rel="noopener ugc nofollow" target="_blank">https://github . com/Google cloud platform/health care-data-harmonization-data flow</a></p><p id="6061" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">按照步骤设置软件依赖关系，并构建用于运行数据流作业的jar文件。</p><p id="1cc4" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这个储存库在这里分叉<a class="ae kb" href="https://github.com/rasalt/healthcare-data-harmonization-dataflow" rel="noopener ugc nofollow" target="_blank">为</a>。值得注意的变化包括</p><ul class=""><li id="88bd" class="kh ki hi jf b jg kc jk kd jo kj js kk jw kl ka km kn ko kp bi translated">适应从发布订阅主题获取非HL7v2消息</li><li id="15d5" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">示例哨子<a class="ae kb" href="https://github.com/rasalt/healthcare-data-harmonization-dataflow/tree/master/workspace_mapping" rel="noopener ugc nofollow" target="_blank">地图</a>用于接受Google workspace表单数据并协调它</li></ul><p id="d703" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">将地图文件上传到下面引用的{MAPPING_BUCKET}。</p><p id="1b88" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">启动此流管道。</p><pre class="kw kx ky kz fd lx ly lz ma aw mb bi"><span id="c53a" class="lh ig hi ly b fi mc md l me mf">PROJECT=&lt;PROJECT&gt;<br/>SUBSCRIPTION=workspace #Setup in Step 1,2</span><span id="ea11" class="lh ig hi ly b fi mg md l me mf">ERROR_BUCKET=workspace/error<br/>MAPPING_BUCKET=workspace/mapping<br/>LOCATION=&lt;LOCATION&gt;<br/>DATASET=&lt;DATASET&gt;<br/>FHIRSTORE=workspace</span><span id="ae34" class="lh ig hi ly b fi mg md l me mf">java -jar build/libs/converter-0.1.0-all.jar — pubSubSubscription=”&lt;&gt;” \<br/> — readErrorPath=”gs://${ERROR_BUCKET}/read/read_error.txt” \<br/> — writeErrorPath=”gs://${ERROR_BUCKET}/write/write_error.txt” \<br/> — mappingErrorPath=”gs://${ERROR_BUCKET}/mapping/mapping_error.txt” \<br/> — mappingPath=”gs://${MAPPING_BUCKET}/dhconfig.textproto” \<br/> — fhirStore=”projects/${PROJECT}/locations/${LOCATION}/datasets/${DATASET}/fhirStores/${FHIRSTORE}” \<br/> — runner=DataflowRunner \<br/> — project=${PROJECT}</span></pre><h2 id="0f69" class="lh ig hi bd ih li lj lk il ll lm ln ip jo lo lp it js lq lr ix jw ls lt jb lu bi translated">第二部分:设置Google Workspace</h2><p id="0a58" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hj"> <em class="lw">创建Google Workspace表单</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/b51ba6a7643025d2091c0208eb6493c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vM2Ns2lN6n3fU3yc"/></div></div></figure><p id="f2fd" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">创建表单时，为了创建Apps脚本项目，请单击“响应”选项卡，然后单击trix图像。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/c634b8769661413bcb7dbc7c6b6b0f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AHsrADdEuWa_8Ewy"/></div></div></figure><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mh"><img src="../Images/6f8446e380aead07ba07bd7333650623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jFu2HqstRiwq9VuV5aYP9Q.png"/></div></div></figure><p id="380c" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj"> <em class="lw">创建一个Google Apps脚本应用</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mh"><img src="../Images/6f8446e380aead07ba07bd7333650623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jFu2HqstRiwq9VuV5aYP9Q.png"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">脚本编辑器</figcaption></figure><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/e0ee8e17189478d56d3ce5cb49bf0112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eusS4AArRGy8WDfG"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">应用程序脚本</figcaption></figure><p id="e120" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在脚本编辑器中，您将看到一个开发平台，您可以在其中编写与医疗保健API交互的应用程序。</p><p id="ad99" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">编写您的javascript代码并设置一个触发器</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mm"><img src="../Images/c0d9de9c1fa4d7c0943243c209a1de51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4GIepswxrg7_2PeW"/></div></div></figure><p id="e1b0" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">上面的例子设置了一个触发器，在提交表单时调用名为“onFormSubmit”的函数。</p><p id="4e66" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><a class="ae kb" href="https://github.com/rasalt/healthcare-data-harmonization-dataflow/tree/master/appscript" rel="noopener ugc nofollow" target="_blank">Apps脚本应用的示例</a>代码</p><p id="f400" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">一个表单的链接是<a class="ae kb" href="https://docs.google.com/forms/d/e/1FAIpQLSfdULsdlFUY_YlI4YZhuUcfEZrCcPhvHlh0UtDZrNw34pj_gA/viewform" rel="noopener ugc nofollow" target="_blank">这里是</a></p><h2 id="d141" class="lh ig hi bd ih li lj lk il ll lm ln ip jo lo lp it js lq lr ix jw ls lt jb lu bi translated">准备好表演了吗(测试一下)</h2><p id="9991" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">既然已经设置了Google Workspace和数据接收管道，我们将通过提交您在上一步中创建的已填充的Google表单来测试本教程。本文包括一个示例表单和相关的哨声地图。但是，您需要进行调整以满足您的要求。</p><p id="29aa" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">提交表单后，您应该会看到您的患者信息位于您在第一步中创建的FHIR R4商店中。您可以通过查看数据流管道统计数据来确认数据管道的工作情况。下面粘贴了一个相同的示例。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/4b6f9ec87d9b3877765d5b643080b95c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rLdTsFq9XjXnd-Kb"/></div></div><figcaption class="mi mj et er es mk ml bd b be z dx translated">数据流管道</figcaption></figure><p id="48c9" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">可以通过访问以下网站进行最终确认</p><p id="2080" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">GCP控制台-&gt;医疗-&gt;FHIR查看器-&gt;过滤患者<fhir store="">。</fhir></p><p id="efae" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">您应该看到您的患者是从您刚才提交的表单中创建的。</p><h1 id="1498" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">摘要</h1><p id="a00b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">虽然表单收集了一些信息，但是使用所描述的解决方案创建了一个基本的患者资源。将Google Workspace表单与医疗保健API一起用于临床用例的机会是无限的。</p><p id="37f2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">使用企业级、可扩展产品的可扩展解决方案可被设想用于任何规模的提供商，无论是大型还是小型，无论是成熟的还是初创的，都可以安全、合规地处理所有数据，以满足医疗保健工作流的需求。</p><p id="f68d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">感谢Alexander Sicular，Vivian Neilly，Roman Polyanovsky，Yatish Gupta，Mary Wholey。</p><h2 id="60b7" class="lh ig hi bd ih li lj lk il ll lm ln ip jo lo lp it js lq lr ix jw ls lt jb lu bi translated">清注意</h2><p id="9522" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这篇文章代表我和我个人的观点和意见。</p><h2 id="1da9" class="lh ig hi bd ih li lj lk il ll lm ln ip jo lo lp it js lq lr ix jw ls lt jb lu bi translated"><em class="mn">参考链接</em></h2><p id="f502" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">[1] <a class="ae kb" href="https://github.com/GoogleCloudPlatform/healthcare-data-harmonization" rel="noopener ugc nofollow" target="_blank">用于协调的口哨库</a></p><p id="1b8f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">[2] <a class="ae kb" href="https://cloud.google.com/solutions/setting-up-a-hipaa-aligned-project" rel="noopener ugc nofollow" target="_blank">建立与HIPAA一致的项目</a></p><p id="f623" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">[3] <a class="ae kb" href="https://cloud.google.com/security/compliance/hipaa/" rel="noopener ugc nofollow" target="_blank">谷歌云平台上的HIPAA合规性</a></p><p id="12db" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">[4] <a class="ae kb" href="https://github.com/GoogleCloudPlatform/healthcare" rel="noopener ugc nofollow" target="_blank">谷歌云医疗保健知识库</a></p><p id="f02e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">[5] <a class="ae kb" href="https://developers.google.com/apps-script/guides/clasp" rel="noopener ugc nofollow" target="_blank"> Apps脚本命令行界面</a></p></div></div>    
</body>
</html>