# ä½¿ç”¨ GCP å¤§è§„æ¨¡è‡ªåŠ¨åŒ– VOD è½¬ç :ç¬¬ 2 éƒ¨åˆ†

> åŸæ–‡ï¼š<https://medium.com/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-2-b1da0e57823d?source=collection_archive---------1----------------------->

æ¬¢è¿å›åˆ°æˆ‘çš„ä¸¤éƒ¨åˆ†åšå®¢çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œç”¨ GCP å¤§è§„æ¨¡è‡ªåŠ¨åŒ–ä½ çš„è§†é¢‘ç‚¹æ’­è½¬ç ã€‚

æˆ‘åœ¨ç¬¬ä¸€éƒ¨åˆ†å¼€å§‹æ—¶æ‰¿è¯ºæ¶µç›–ç«¯åˆ°ç«¯é›†æˆã€è‡ªåŠ¨åŒ–ã€å®‰å…¨æ€§ã€æ—¥å¿—è®°å½•å’ŒæŠ¥å‘Šï¼Œå±•ç¤ºäº†ä¸‹é¢çš„æ¶æ„å›¾ã€‚

![](img/5036460277f81d8d0939984310c091b9.png)

> ***å›¾åƒ:*** *è½¬ç è‡ªåŠ¨åŒ–æ•´ä½“æ¶æ„*

åœ¨ç¬¬ 1 éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»‹ç»äº†ä»£ç è½¬æ¢ç®¡é“è‡ªåŠ¨åŒ–ï¼Œä¸‹é¢æ˜¯æ•´ä½“æ¶æ„éƒ¨åˆ†ã€‚æˆ‘ä»¬è¿˜æ„å»ºäº† cloud Pub/Sub 1 å’Œ cloud Pub/Sub 2ï¼Œå®ƒä»¬åœ¨ç¬¬ 1 éƒ¨åˆ†ä¸­æ²¡æœ‰ç”¨ï¼Œä½†æˆ‘ä»¬å°†åœ¨ç¬¬ 2 éƒ¨åˆ†ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

![](img/4b4dfd689c66ea99bd66779c5c3475b4.png)

å¦‚æœä½ é”™è¿‡äº†è¿™ä¸ªåšå®¢ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä½ å…ˆé˜…è¯»ç¬¬ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨[https://medium . com/Google-cloud/automate-your-VOD-transcoding-at-scale-with-GCP-part-1-87503 FDD 3 a9 f](/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-1-87503fdd3a9f)ä¸Šæ‰¾åˆ°ï¼Œç„¶åä»è¿™ä¸ªåšå®¢å¼€å§‹ã€‚

# ç¬¬äºŒéƒ¨åˆ†:

åœ¨ä¸Šä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»‹ç»äº†è‡ªåŠ¨åŒ–ã€æ—¥å¿—è®°å½•å’Œå®‰å…¨æ€§(æ²¡æœ‰äººå·¥å¹²é¢„å’Œä½¿ç”¨ IAM æƒé™çš„åŸå§‹è®¿é—®)ï¼Œåœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†ä»‹ç»é›†æˆã€æŠ¥å‘Šå’Œå¯è§†åŒ–çš„å…¶ä½™éƒ¨åˆ†ã€‚

# è½¬ç å¼€å§‹çŠ¶æ€:

æˆ‘ä»¬åœ¨ç¬¬ 1 éƒ¨åˆ†åˆ›å»ºäº†ä¸€ä¸ªå‘å¸ƒ/è®¢é˜…ä¸»é¢˜(ä»£ç è½¬æ¢-å¼€å§‹-çŠ¶æ€)ï¼Œç°åœ¨æ˜¯æ—¶å€™å°†å‘å¸ƒ/è®¢é˜…ä¸ Google BigQuery (BQ)è¿æ¥èµ·æ¥äº†ï¼Œåœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä»æ•´ä½“æ¶æ„æ„å»ºä¸‹é¢çš„éƒ¨åˆ†ã€‚

![](img/48f79fcf9335e2f5acad0dab382ce5d0.png)

# BigQuery (BQ)ä»£ç è½¬æ¢å¼€å§‹çŠ¶æ€:

åœ¨åˆ›å»º BQ è®¢é˜…ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ•°æ®é›†å’Œè¡¨ã€‚ä»è°·æ­Œäº‘æ§åˆ¶å°è¿›å…¥ BQï¼Œç‚¹å‡»ä½ çš„é¡¹ç›® id æ—è¾¹çš„ä¸‰ä¸ªç‚¹ï¼Œç„¶åç‚¹å‡»åˆ›å»ºæ•°æ®é›†ã€‚

![](img/88859d75fc2ef1943360b99285e0be6c.png)

# åˆ›å»ºæ•°æ®é›†:

åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘é€‰æ‹©äº† transcoding_jobs ä½œä¸ºæ•°æ®é›† IDï¼Œé€‰æ‹©äº† asia-south1 ä½œä¸ºæ•°æ®ä½ç½®(æ‚¨å¯ä»¥é€‰æ‹©è‡ªå·±çš„æ•°æ®é›† ID å’Œæ•°æ®ä½ç½®),å¹¶ä¿ç•™äº†å…¶ä½™è®¾ç½®çš„é»˜è®¤é…ç½®ã€‚

![](img/be68b85cb2ddfa8337eab797434156fa.png)

# åˆ›å»ºè½¬ç -å¼€å§‹-çŠ¶æ€è¡¨:

åŒæ ·ï¼Œå•å‡»æ•°æ®é›†(transcoding_job)æ—è¾¹çš„ä¸‰ä¸ªç‚¹ï¼Œå•å‡»åˆ›å»ºè¡¨æ ¼ã€‚

![](img/d217cf25058f04d54b07071ef4de4ae5.png)

æˆ‘ä½¿ç”¨ä»£ç è½¬æ¢-å¼€å§‹-çŠ¶æ€ä½œä¸ºè¡¨åï¼Œåœ¨ schema ä¸Šï¼Œç‚¹å‡»ç¼–è¾‘ä½œä¸ºæ–‡æœ¬ï¼Œå¹¶æŠŠ GitHub gist ä¸­æä¾›çš„ json ä½œä¸ºæ–‡æœ¬ï¼Œç„¶åç‚¹å‡»åˆ›å»ºè¡¨

[https://gist . github . com/nazir-kabani/bea 532 aa 37 a 0 C3 ad 86205 DD 83 f 0 f 397d](https://gist.github.com/nazir-kabani/bea532aa37a0c3ad86205dd83f0f397d)

![](img/49290b63deab0511a2236eccfb642033.png)

# å‘å¸ƒ/è®¢é˜… 1 åˆ° BQ å¯¼å‡º:

åœ¨æˆ‘ä»¬ä¸º BQ å¯¼å‡ºåˆ›å»ºå‘å¸ƒ/è®¢é˜…ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å°† **BigQuery è¡¨æƒé™æˆäºˆå‘å¸ƒ/è®¢é˜…æœåŠ¡å¸æˆ·**ã€‚

ä» google cloud consoleï¼Œè½¬åˆ° IAM ç‚¹å‡»æ·»åŠ ï¼Œåœ¨æ–°ä¸»ä½“ä¸­æ·»åŠ å‘å¸ƒ/è®¢é˜…æœåŠ¡å¸æˆ·**(æ‚¨çš„ ID å°†ç±»ä¼¼äº service-{ Project-Number } @ GCP-sa-pubsub . IAM . gserviceaccount . com)**ï¼Œåœ¨è§’è‰²ä¸­æ·»åŠ  BigQuery æ•°æ®ç¼–è¾‘å™¨å¹¶ä¿å­˜ã€‚

![](img/9286df837e17f0f28080230259a2f239.png)

ç°åœ¨ï¼Œä»è°·æ­Œäº‘æ§åˆ¶å°è¿›å…¥å‘å¸ƒ/è®¢é˜…->ä¸»é¢˜ï¼Œæ‰“å¼€è½¬ç -å¼€å§‹-çŠ¶æ€ã€‚ç‚¹å‡» EXPORT TO BIGQUERY

![](img/9dc5b1aa832575c0e6151fc70f91e1b1.png)

æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªå¼¹å‡ºçª—å£ï¼Œå†³å®šæ˜¯ä½¿ç”¨å‘å¸ƒ/è®¢é˜…è¿˜æ˜¯ä½¿ç”¨æ•°æ®æµï¼Œé€‰æ‹©å‘å¸ƒ/è®¢é˜…å¹¶å•å‡»ç»§ç»­ã€‚

![](img/7d67cb132f1c24f41d196b9fe86422d3.png)

åœ¨ä¸‹ä¸€é¡µä¸Šï¼Œé€‰æ‹©æ‚¨é€‰æ‹©çš„ subscription-idï¼Œé€‰æ‹© transcoding_jobs ä½œä¸ºæ•°æ®é›†ï¼Œé€‰æ‹© transcoding-start-status ä½œä¸ºè¡¨ï¼Œ**é€‰æ‹© use topic schemaï¼Œé€‰æ‹© drop unknown fields** ï¼Œç„¶åå•å‡» createã€‚

![](img/e6cc6e81115f2dccaf43c738dca918f6.png)

å°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬å·²ç»å®Œæˆäº†å°†å¼€å§‹çŠ¶æ€å¯¼å‡ºåˆ° BQ çš„ä»£ç è½¬æ¢ï¼Œä½†æ˜¯æˆ‘ä»¬å°†åœ¨å°†ä»£ç è½¬æ¢å®ŒæˆçŠ¶æ€å¯¼å‡ºåˆ° BQ åè¿›è¡Œæ£€æŸ¥ã€‚

# è½¬ç å®ŒæˆçŠ¶æ€:

åˆ°ç›®å‰ä¸ºæ­¢å®¹æ˜“å—ï¼Ÿç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»æ•´ä½“æ¶æ„æ„å»ºä»¥ä¸‹éƒ¨åˆ†æ¶æ„ï¼Œä»¥å°†è½¬ç å®ŒæˆçŠ¶æ€å¯¼å‡ºåˆ° BQã€‚

![](img/e4cd31d354d8bec443bceeadd299ed3d.png)

åœ¨åšå®¢çš„ç¬¬ 1 éƒ¨åˆ†ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºä»£ç è½¬æ¢-ä½œä¸š-é€šçŸ¥çš„äº‘å‘å¸ƒ/è®¢é˜… 2 ä¸»é¢˜ï¼Œå¹¶åœ¨ä»£ç è½¬æ¢å™¨ä½œä¸šæ¨¡æ¿ä¸­ä½¿ç”¨äº†è¯¥ä¸»é¢˜ã€‚è½¬ç å™¨ API ä½¿ç”¨è¯¥ä¸»é¢˜å‘å¸ƒä½œä¸šå®Œæˆåçš„è½¬ç ä½œä¸šçŠ¶æ€ï¼Œç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨è¯¥ä¸»é¢˜è§¦å‘äº‘å‡½æ•° 2 ä»è½¬ç å™¨ API è·å–ä½œä¸šå®Œæˆå…ƒæ•°æ®ï¼Œå¹¶å°†ä½œä¸šå®Œæˆå…ƒæ•°æ®å‘å¸ƒåˆ°äº‘å‘å¸ƒ/è®¢é˜… 3ã€‚

# å‘å¸ƒ/è®¢é˜… 3:

åœ¨æ„å»ºç¬¬äºŒä¸ªäº‘å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»º Pub/Sub3ï¼Œå¹¶åœ¨äº‘å‡½æ•° 2 ä¸­ä½¿ç”¨å®ƒçš„ä¸»é¢˜ IDã€‚

ä» google cloud æ§åˆ¶å°ï¼Œè½¬åˆ°å‘å¸ƒ/è®¢é˜…->æ¨¡å¼ï¼Œç„¶åå•å‡»åˆ›å»ºæ¨¡å¼ã€‚

ç»™ä½ çš„æ¨¡å¼èµ·ä¸€ä¸ªä½ å–œæ¬¢çš„åå­—ï¼Œå¯¹äºè¿™ä¸ªåšå®¢ï¼Œæˆ‘ä½¿ç”¨ä»£ç è½¬æ¢-å®Œæˆ-çŠ¶æ€ä½œä¸ºæ¨¡å¼åã€‚

é€‰æ‹© Avro ä½œä¸ºæ¨¡å¼ç±»å‹ï¼Œå¹¶é€šè¿‡æ¨¡å¼å®šä¹‰ä¸­ GitHub gist ä¸‹é¢çš„ jsonï¼Œç„¶åå•å‡» createã€‚

[https://gist . github . com/nazir-kabani/9b 811d 1955 c 0 e 7803 de 7550090269092](https://gist.github.com/nazir-kabani/9b811d1955c0e7803de7550090269092)

ç°åœ¨ï¼Œç‚¹å‡»ä»æ¨¡å¼é¡µé¢åˆ›å»ºä¸»é¢˜**(ä¸è¦è½¬åˆ°ä¸»é¢˜é¡µé¢åˆ›å»º)**ã€‚è¾“å…¥ä¸»é¢˜ ID ä»£ç è½¬æ¢-å®Œæˆ-çŠ¶æ€ï¼Œç„¶åç‚¹å‡»åˆ›å»ºä¸»é¢˜ã€‚

![](img/c2bc24b93a26d5d4c345a9019b50378f.png)

# äº‘åŠŸèƒ½ 2:

ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹é…ç½®æ„å»ºç¬¬äºŒä¸ªäº‘å‡½æ•°ã€‚

ä» google cloud consoleï¼Œè¿›å…¥ cloud functionsï¼Œç‚¹å‡» create functionï¼Œç»™å‡½æ•°åå–ä½ å–œæ¬¢çš„åå­—(æˆ‘åœ¨è¿™ç¯‡åšå®¢é‡Œç”¨çš„æ˜¯ä»£ç è½¬æ¢-ä½œä¸š-å®Œæˆå)ï¼Œé€‰æ‹©ä»£ç è½¬æ¢å™¨ API å’Œä½ çš„æºè¾“å‡ºæ¡¶å¯ç”¨çš„æœ€è¿‘çš„åœ°åŒºã€‚

åœ¨è§¦å‘ç±»å‹ä¸­ï¼Œé€‰æ‹©äº‘å‘å¸ƒ/è®¢é˜…ï¼Œåœ¨é€‰æ‹©äº‘å‘å¸ƒ/è®¢é˜…ä¸»é¢˜ä¸­é€‰æ‹©è½¬ç -ä½œä¸š-é€šçŸ¥ï¼Œç„¶åå•å‡»ä¿å­˜ã€‚

![](img/90b154a4eb8af10f2b95d38ca7e46042.png)

å±•å¼€è¿è¡Œæ—¶ã€æ„å»ºã€è¿æ¥å’Œå®‰å…¨è®¾ç½®ï¼Œè¿›è¡Œä»¥ä¸‹æ›´æ”¹ï¼Œç„¶åå•å‡»ä¸‹ä¸€æ­¥ã€‚

*   åœ¨è¿è¡Œæ—¶ä¸‹ï¼Œå°†åˆ†é…çš„å†…å­˜æ›´æ”¹ä¸º 1 GB
*   åœ¨è¿æ¥ä¸‹ï¼Œé€‰æ‹©å…è®¸å†…éƒ¨æµé‡å’Œæ¥è‡ªäº‘è´Ÿè½½å¹³è¡¡çš„æµé‡

åœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸Šï¼Œé€‰æ‹© Python 3.10 ä½œä¸ºè¿è¡Œæ—¶ç¯å¢ƒï¼Œå¹¶ä»ä¸‹é¢çš„ GitHub gist urls å¤åˆ¶/ç²˜è´´ä»£ç ã€‚(åœ¨ç²˜è´´ä»£ç ä¹‹å‰ï¼Œè¯·ä¸è¦å¿˜è®°æ›´æ”¹ä»£ç ä¸­çš„ä»¥ä¸‹å‡ è¡Œ)ã€‚

*   æ›´æ–°ç¬¬ 40 è¡Œçš„é¡¹ç›® id
*   æ›´æ–°ç¬¬ 44 è¡Œä¸­çš„è¾“å‡ºæ—¶æ®µåç§°
*   åœ¨ç¬¬ 46 å’Œ 47 è¡Œä¸­æ›´æ–° CDN ä¸»æœºåæˆ– IPv4 åœ°å€
*   æ›´æ–°ç¬¬ 62 è¡Œä¸­çš„é¡¹ç›® id å’Œå‘å¸ƒ-è®¢é˜… 3 ä¸»é¢˜åç§°(å¦‚æœä¸åŒçš„è¯)

main . pyâ€”[https://gist . github . com/nazir-kabani/a 436 f 2e 9 ca 3 ed 1b 1276d 0 ced 14 EC 88 b 1](https://gist.github.com/nazir-kabani/a436f2e9ca3ed1b1276d0ced14ec88b1)

requirements . txtâ€”[https://gist . github . com/nazir-kabani/d 702849967098 ABA 99 cf 63d 5 e 7 f 0833 f](https://gist.github.com/nazir-kabani/d702849967098aba99cf63d5e7f0833f)

æ¥ä¸‹æ¥ï¼Œå•å‡»éƒ¨ç½²ã€‚

# BigQuery (BQ)ä»£ç è½¬æ¢å®ŒæˆçŠ¶æ€:

åœ¨å‰é¢çš„æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ª transcoding_jobs æ•°æ®é›†å’Œ transcoding-start-status è¡¨ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨åŒä¸€æ•°æ®é›†ä¸‹åˆ›å»ºä¸€ä¸ªè½¬ç å®ŒæˆçŠ¶æ€è¡¨ã€‚

# åˆ›å»ºè½¬ç -å®Œæˆ-çŠ¶æ€è¡¨:

å•å‡»æ•°æ®é›†(transcoding_job)æ—è¾¹çš„ä¸‰ä¸ªç‚¹ï¼Œå•å‡»åˆ›å»ºè¡¨æ ¼ã€‚

![](img/dbdddc8d1471ba483590c260f7c60742.png)

æˆ‘ä½¿ç”¨ä»£ç è½¬æ¢-å®Œæˆ-çŠ¶æ€ä½œä¸ºè¡¨åï¼Œåœ¨ schema ä¸Šï¼Œç‚¹å‡» edit as textï¼Œå°† GitHub gist ä¸­æä¾›çš„ json ä½œä¸ºæ–‡æœ¬ï¼Œç„¶åç‚¹å‡» create tableã€‚

[https://gist . github . com/nazir-kabani/fa 072136 cf 2f 8698 DCA 18313d 0 E0 e 49 f](https://gist.github.com/nazir-kabani/fa072136cf2f8698dca18313d0e0e49f)

![](img/fb0e75cc34c216a057206160242685b2.png)

# å‘å¸ƒ/è®¢é˜… 3 åˆ° BQ å¯¼å‡º:

ä»è°·æ­Œäº‘æ§åˆ¶å°è¿›å…¥å‘å¸ƒ/è®¢é˜…->ä¸»é¢˜ï¼Œæ‰“å¼€è½¬ç -å®Œæˆ-çŠ¶æ€ã€‚ç‚¹å‡» EXPORT TO BIGQUERY

![](img/ef626313805f1395858590c4d267132e.png)

æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªå¼¹å‡ºçª—å£ï¼Œå†³å®šæ˜¯ä½¿ç”¨å‘å¸ƒ/è®¢é˜…è¿˜æ˜¯ä½¿ç”¨æ•°æ®æµï¼Œé€‰æ‹©å‘å¸ƒ/è®¢é˜…å¹¶å•å‡»ç»§ç»­ã€‚

![](img/8fd6de86a9b446862e43a4eaf11b4cb5.png)

åœ¨ä¸‹ä¸€é¡µä¸­ï¼Œé€‰æ‹©æ‚¨é€‰æ‹©çš„ subscription-idï¼Œé€‰æ‹© transcoding_jobs ä½œä¸ºæ•°æ®é›†ï¼Œé€‰æ‹© transcoding-complete-status ä½œä¸ºè¡¨æ ¼ï¼Œ**é€‰æ‹© use topic schemaï¼Œé€‰æ‹© drop unknown fields** ï¼Œç„¶åå•å‡» createã€‚

![](img/5a4b0040598e4a5bfbd7e586be3926ba.png)

# è¿æ¥è¡¨å’Œæ„å»ºä»ªè¡¨æ¿:

å°±è¿™æ ·ï¼Œç°åœ¨æˆ‘ä»¬å®Œæˆäº†æ‰€æœ‰çš„é›†æˆï¼Œç°åœ¨æ˜¯æ—¶å€™åœ¨ä¸¤ä¸ª BQ è¡¨ä¹‹é—´åˆ›å»ºä¸€ä¸ªè¿æ¥ï¼Œå¹¶ä¸ºä»£ç è½¬æ¢ä½œä¸šåˆ›å»ºä¸€ä¸ªå•ä¸€çª—å£(åœ¨æ•´ä½“æ¶æ„çš„ä¸‹é¢)ã€‚

**åœ¨å¼€å§‹ BQ join ä¹‹å‰ï¼Œæˆ‘å¸Œæœ›ä½ ä¸Šä¼ å¤§é‡çš„çŸ­è§†é¢‘(è‡³å°‘ 4-5 ä¸ª)åˆ°ä½ çš„æºå­˜å‚¨æ¡¶ï¼Œè¿™æ ·ä¸€æ—¦ä½ åŠ å…¥ BQ è¡¨ï¼Œå®ƒå°±ä¼šæ˜¾ç¤ºå¤§é‡çš„å¡«å……æœ‰æ•°æ®çš„è¡Œã€‚**

![](img/35a778e392c507d555dc15497900ee73.png)

# BQ è¡¨è¿æ¥:

ä» google cloud consoleï¼Œè¿›å…¥ BQï¼Œæ‰“å¼€ä»»æ„ä¸€ä¸ªè¡¨ï¼Œç‚¹å‡» new é€‰é¡¹å¡ä¸­çš„æŸ¥è¯¢ã€‚

**åœ¨æ›´æ”¹é¡¹ç›®åç§°ã€æ•°æ®é›†åç§°å’Œè¡¨åç§°**åè¿è¡Œä»¥ä¸‹æŸ¥è¯¢(ä»…å½“æ‚¨å·²ç»æ›´æ”¹äº†æˆ‘åœ¨åšå®¢ä¸­ä½¿ç”¨çš„åç§°)ã€‚

> ä»â€œé¡¹ç›®åç§°.ä»£ç è½¬æ¢ _ ä½œä¸š.ä»£ç è½¬æ¢-å®Œæˆ-çŠ¶æ€â€ä¸­é€‰æ‹©*
> 
> left join ` project-name . transcoding _ jobs . transcoding-start-status ` start
> 
> on start.jobId = complete.jobId

è¿è¡Œè¯¥æŸ¥è¯¢åï¼Œæ‚¨å°†åœ¨æŸ¥è¯¢é¡µé¢ä¸‹æ–¹çš„ BQ è¡¨ä¸­çœ‹åˆ°æŸ¥è¯¢ç»“æœ(ç±»ä¼¼äºä¸‹å›¾)ã€‚

![](img/90d07d6ac0cc162b27b3bdda9f245cc9.png)

# ä½¿ç”¨ Data Studio å¯è§†åŒ–æ•°æ®:

æœ¬ç»ƒä¹ çš„æœ€åä¸€æ­¥æ˜¯ä½¿ç”¨ Data Studio å¯è§†åŒ–è½¬ç ä½œä¸šçš„æ•°æ®ã€‚ä»æŸ¥è¯¢ç»“æœä¸Šçš„ explore data ä¸­ï¼Œå•å‡» explore with Data Studioï¼Œå®ƒå°†æ‰“å¼€å¦ä¸€ä¸ªå¸¦æœ‰ Data Studio æŠ¥å‘Šçš„çª—å£ã€‚

![](img/eb5db2477d93351f668eae8f9f26ce5d.png)

ä»è¿™é‡Œï¼Œä½ å¯ä»¥ä½¿ç”¨æ•°æ®å·¥ä½œå®¤çš„å¸®åŠ©[https://support.google.com/datastudio/answer/6292570?å»ºç«‹ä½ è‡ªå·±çš„æŠ¥å‘Š HL = en # zippy = % 2 CIN-this-article](https://support.google.com/datastudio/answer/6292570?hl=en#zippy=%2Cin-this-article)æˆ–è€…ä½ å¯ä»¥ä½¿ç”¨æˆ‘çš„æ¨¡æ¿([https://data studio . Google . com/reporting/0 a3 EC 04 b-581 b-4793-BCE 4-BD 9 fa 6 f 14 a 8d/preview](https://datastudio.google.com/reporting/0a3ec04b-581b-4793-bce4-bd9fa6f14a8d/preview))æ¥æ„å»ºä½ çš„æŠ¥å‘Šï¼Œç±»ä¼¼äºä¸‹é¢çš„ä¸€ä¸ªã€‚

å¦‚éœ€å¸®åŠ©ï¼Œè¯·å‚è€ƒå¸®åŠ©ä¸­å¿ƒå…³äºä»æ¨¡æ¿é¡µé¢åˆ›å»ºæŠ¥å‘Šçš„å¸®åŠ©æ–‡ç« ã€‚(ã€https://support.google.com/datastudio/answer/9851950? HL = en # zippy = % 2c in-this-article

![](img/9ab998ff0a5760ee1b189bb41ce03f3a.png)

# åº†ç¥ğŸ¥³çš„æ—¶é—´åˆ°äº†

å¸Œæœ›ä½ ä¸€ç›´é™ªç€æˆ‘ï¼Œç›´åˆ°æ—…ç¨‹ç»“æŸï¼Œä¸ºä½ çš„ OTT å¹³å°å»ºç«‹ä¸€ä¸ªè§†é¢‘ç®¡é“ï¼Œç»™è‡ªå·±ä¸€ä¸ªå€¼å¾—çš„å¥–åŠ±ã€‚

è¯·ä¸æˆ‘åˆ†äº«æ‚¨çš„åé¦ˆï¼Œå¹¶å»ºè®®æˆ‘åº”è¯¥åœ¨ä¸‹ä¸€ç¯‡å…³äº GCP åª’ä½“äº‘äº§å“çš„åšå®¢ä¸­åŒ…å«å“ªäº›å†…å®¹ã€‚

è¯·æŸ¥çœ‹ GCP åª’ä½“äº‘äº§å“ã€‚

1.  ä»£ç è½¬æ¢å™¨ APIâ€”[https://cloud.google.com/transcoder/docs](https://cloud.google.com/transcoder/docs)=
2.  ç›´æ’­ APIâ€”[https://cloud.google.com/livestream/docs](https://cloud.google.com/livestream/docs)
3.  è§†é¢‘æ‹¼æ¥ APIâ€”[https://cloud.google.com/video-stitcher/docs](https://cloud.google.com/video-stitcher/docs)
4.  åª’ä½“ CDNâ€”[https://cloud.google.com/media-cdn](https://cloud.google.com/media-cdn)

æœ¬åšå®¢çš„å‚è€ƒé“¾æ¥ã€‚

1.  æœ¬åšå®¢ç³»åˆ—çš„ç¬¬ 1 éƒ¨åˆ†â€”[https://medium . com/Google-cloud/automate-your-VOD-transcode-at-scale-with-GCP-part-1-87503 FDD 3 a9 f](/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-1-87503fdd3a9f)
2.  BQ è½¬ç -å¼€å§‹-çŠ¶æ€è¡¨æ–¹æ¡ˆâ€”[https://gist . github . com/nazir-kabani/bea 532 aa 37 a 0 C3 ad 86205 DD 83 f 0 f 397d](https://gist.github.com/nazir-kabani/bea532aa37a0c3ad86205dd83f0f397d)
3.  Pub/Sub 3 è½¬ç -å®Œæˆ-çŠ¶æ€-æ¨¡å¼â€”[https://gist . github . com/nazir-kabani/9 b 811d 1955 c0e 7803 de 7550090269092](https://gist.github.com/nazir-kabani/9b811d1955c0e7803de7550090269092)
4.  äº‘å‡½æ•° 2 main . pyâ€”[https://gist . github . com/nazir-kabani/a 436 f 2e 9 ca 3 ed 1 b 1276d 0 ced 14 EC 88 b 1](https://gist.github.com/nazir-kabani/a436f2e9ca3ed1b1276d0ced14ec88b1)
5.  äº‘å‡½æ•° 2 requirements . txtâ€”[https://gist . github . com/nazir-kabani/d 702849967098 ABA 99 cf 63 D5 e7f 0833 f](https://gist.github.com/nazir-kabani/d702849967098aba99cf63d5e7f0833f)
6.  BQ è½¬ç -å®Œæˆ-çŠ¶æ€è¡¨æ¨¡å¼â€”[https://gist . github . com/nazir-kabani/fa 072136 cf 2f 8698 DCA 18313d 0 E0 e 49 f](https://gist.github.com/nazir-kabani/fa072136cf2f8698dca18313d0e0e49f)