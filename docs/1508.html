<html>
<head>
<title>Mitigating Data Exfiltration Risks in GCP using VPC Service Controls ( Part-1 )</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用VPC服务控制降低GCP的数据泄露风险(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/mitigating-data-exfiltration-risks-in-gcp-using-vpc-service-controls-part-1-82e2b440197?source=collection_archive---------0-----------------------#2020-07-12">https://medium.com/google-cloud/mitigating-data-exfiltration-risks-in-gcp-using-vpc-service-controls-part-1-82e2b440197?source=collection_archive---------0-----------------------#2020-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8974" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是关于使用GCP服务:VPC服务控制在谷歌云平台(GCP)保护你的敏感数据资产的系列文章的第一篇。在本帖中，我们将介绍VPC服务控制的基础知识，以及我们如何使用它来降低谷歌云平台中的数据泄露风险。在下一部分中，我们将深入探讨高级概念并回顾数据泄漏用例，以说明我们如何使用此服务来避免数据泄露风险。</p><h1 id="727b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">介绍</h1><p id="b5aa" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated"><a class="ae kg" href="https://cloud.google.com/vpc-service-controls/" rel="noopener ugc nofollow" target="_blank"> VPC服务控制</a> <em class="kh"> </em>使安全管理员能够围绕存储在Google云存储(GCS)、BigTable实例和BigQuery数据集等Google云平台资源中的敏感数据建立安全边界(以下简称“边界”)。当我们实施边界时，只要IAM策略和VPC防火墙策略允许，资源可以在边界内自由交换数据。但是，默认情况下，任何外部访问都会被阻止。</p><p id="082f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">概括地说，我们可以使用以下步骤来配置边界:</p><ol class=""><li id="a908" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">确定您想要保护的GCP项目。</li><li id="c129" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">确定您希望保护的GCP服务。</li><li id="6a2e" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">如果您打算允许来自外围的合法流量访问受保护的服务，请创建<a class="ae kg" href="https://docs.google.com/document/d/17lMrALK7B2FhxvppYfqHAZgcMFSgaPTwyWMnLnq31yM/edit#heading=h.wjz3ar6hg5ak" rel="noopener ugc nofollow" target="_blank">访问级别</a>。</li><li id="660b" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">通过包括您在上面确定的项目、GCP服务和访问级别来配置边界。</li></ol><p id="32bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，您可以使用自己喜欢的方法来配置边界— <a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/create-service-perimeters" rel="noopener ugc nofollow" target="_blank">控制台、gcloud或API </a>。</p><p id="d54c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！现在，我们来了解一下威胁模型，以强调您可以使用此服务来降低的风险。</p><h1 id="518b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">威胁模型</h1><p id="8dd3" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制有助于降低以下攻击媒介的数据泄露风险。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/e344fdcebcf532b5ccfaeb4b965cbf23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oxVH6XrGgTpEWaDFCMuoOg.jpeg"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">使用VPC服务控制的威胁模型和风险缓解</figcaption></figure><h2 id="e9df" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated">1.从GCS存储桶中泄漏的数据无意中暴露给公众</h2><p id="675b" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">让我们想象一下，由于自动化或人为错误，IAM策略在受保护的服务(例如GCS或BigQuery)上设置不正确；这些资产变得可以公开访问，可能会导致数据泄露。VPC服务控制边界(如果已配置)将阻止对此类资源的任何访问，即使IAM策略允许也是如此。</p><h2 id="1c22" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 2。使用服务到服务拷贝的批量数据渗透</strong></h2><p id="ac71" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">根据最新的研究结果，特权用户给组织带来的安全风险最大。大多数组织特别关注批量窃取数据。拥有广泛IAM访问权限的恶意用户可以将整个数据从GCS存储桶复制到个人项目中的存储桶。基于日志记录和监控的检测能力可能能够检测到这样的动作；但是，它们可能不足以立即停止数据移动。VPC服务控制将阻止数据跨越边界。</p><h2 id="44e3" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 3。使用虚拟机服务副本的数据渗透</strong></h2><p id="477a" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制将阻止在虚拟机上运行的恶意内部人员或受损/不可信代码试图将数据从GCS存储桶复制到虚拟机并随后复制到对手控制下的项目中的GCS存储桶的任何操作。</p><h2 id="6177" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated">4.使用窃取的凭据访问GCP服务中的敏感数据</h2><p id="ca17" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制将阻止攻击者试图使用窃取的凭据(例如，OAuth或服务帐户凭据)从互联网访问受保护服务中的敏感数据的任何操作。</p><h2 id="81ae" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 5。阻止访问谷歌公共API</strong></h2><p id="3f8f" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制将阻止在边界内运行的应用程序/服务试图向Google公共API(如Gmail、Google Drive等)发送数据的任何连接。).</p><h1 id="30f2" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">使用VPC服务控制并不能缓解所有威胁</h1><p id="8c19" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">一般而言，VPC服务控制仅在通信路径的目的地是VPC服务控制支持的GCP服务时适用。下面列出了几个例子。在这种情况下，其他安全控制措施，如IAM、防火墙规则、WAF等。必须实施以减轻这些威胁。</p><h2 id="13b1" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 1。对您面向互联网的网络应用和服务的攻击</strong></h2><p id="6b21" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">您在GCE实例和GKE集群上运行的面向互联网的应用程序和服务面临着各种威胁，如未经授权的访问、应用程序漏洞(如XSS、SQLi和CSRF)。这些威胁可以通过使用GCP服务来实施各种安全控制来缓解，例如<a class="ae kg" href="https://cloud.google.com/iap" rel="noopener ugc nofollow" target="_blank">身份感知代理</a>、<a class="ae kg" href="https://cloud.google.com/apigee" rel="noopener ugc nofollow" target="_blank"> Apigee </a>、<a class="ae kg" href="https://cloud.google.com/armor" rel="noopener ugc nofollow" target="_blank">云盔甲</a>等。</p><h2 id="839d" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 2。数据通过虚拟机泄漏到外部恶意端点</strong></h2><p id="3ce5" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制无法降低恶意内部人员将数据从GCS存储桶复制到边界内的虚拟机，然后将其发送到边界外托管的恶意外部端点的风险。为了减轻这种威胁，需要使用VPC防火墙来确保出口流量只允许进入白名单中的主机/IP范围和端口。</p><h2 id="59b8" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 3。通过虚拟机-虚拟机调用和不支持的API进行数据渗透</strong></h2><p id="0724" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制也无法降低恶意内部人员将数据从GCS存储桶复制到虚拟机，然后将其发送到虚拟机或未经授权项目中不受支持的API/服务的风险。同样，可以利用VPC防火墙规则来阻止这种类型的流量。</p><p id="5fb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们已经对如何使用VPC服务控件来保护敏感数据资产有了相当好的了解，在下一节中，我们将介绍一些在使用VPC服务控件时要记住的最佳实践和注意事项。</p><h1 id="89f2" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">VPC服务控制最佳实践</h1><p id="a271" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">以下部分提供了启用VPC服务控制的一些最佳实践。</p><h2 id="07fb" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 1。不要在外围启用不受支持的GCP服务。</strong></h2><p id="9855" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">VPC服务控制不支持所有GCP服务。更多详情请参考此<a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/supported-products#supported_products" rel="noopener ugc nofollow" target="_blank">列表</a>。如果您需要使用VPC服务控制不支持的服务，请在外围项目中启用此服务。</p><h2 id="a138" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 2。使用服务帐户允许来自外部GCP项目的流量进入外围</strong></h2><p id="1e30" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果在外围的GCP项目中托管的服务需要与外围内的GCP服务通信，请使用以下步骤:</p><ul class=""><li id="a959" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc ma ko kp kq bi translated">创建一个服务帐户，并为其分配在外围环境中访问GCP服务所需的最低权限</li><li id="a9c5" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc ma ko kp kq bi translated">将服务配置为使用服务帐户。</li><li id="1fce" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc ma ko kp kq bi translated">将与外围配置关联的访问级别中的服务帐户列入白名单。</li></ul><h2 id="f669" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 3。配置专用Google访问，允许内部主机的流量进入外围</strong></h2><p id="c622" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果需要允许来自内部网络的流量通过专用/合作伙伴互连/VPN到达边界，这里需要考虑两种情况:</p><ul class=""><li id="9915" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc ma ko kp kq bi translated">如果本地主机仅访问VPC服务控制支持的Google APIs和服务，请使用VIP-restricted . Google API . com(199 . 36 . 153 . 4/30)为本地主机配置专用Google访问。此<a class="ae kg" href="https://cloud.google.com/vpc/docs/private-access-options#example_2" rel="noopener ugc nofollow" target="_blank">链接</a>处的图表说明了这种连接性。</li><li id="a2a8" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc ma ko kp kq bi translated">当本地主机需要访问VPC服务控制不支持的GCP服务时，请使用private . Google APIs . com(199 . 36 . 153 . 8/30)</li></ul><h2 id="bc9e" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 4。使用授权的IP范围或设备属性，允许从互联网进入安全边界</strong></h2><p id="85c8" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果最终用户需要从互联网访问受保护的GCP服务，不建议在访问级别中将他们的用户id列入白名单。基于身份授予进入外围环境的权限通常与服务帐户结合使用非常有用。此外，在撰写本文时，每个访问级别最多只能添加100个成员。最新详情见<a class="ae kg" href="https://cloud.google.com/access-context-manager/quotas?hl=en" rel="noopener ugc nofollow" target="_blank">配额</a>。因此，即使受保护的服务(例如GCS)确实会基于终端用户身份实施IAM策略，也可以考虑使用以下方法之一来验证终端用户，以便在访问受保护的服务时进入外围环境:</p><ol class=""><li id="0fed" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">如果用户总是从受信任的网络(VPN连接上的公司网络)连接，则将受信任的IP范围列入访问级别的白名单</li><li id="038f" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在定义访问级别时使用设备属性，如“公司拥有的设备”。基于设备属性实施访问级别将要求客户端设备配置端点验证。更多详情请参考<a class="ae kg" href="https://cloud.google.com/access-context-manager/docs/create-basic-access-level#device-example" rel="noopener ugc nofollow" target="_blank">访问级别</a>中的设备属性部分。</li></ol><h2 id="7aa1" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 5。用</strong>在模拟运行模式下配置周界</h2><p id="71d9" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">配置边界提供了两个选项:模拟运行模式和强制模式。开始时，不应将边界设置为强制模式，以避免阻止任何合法访问:</p><ol class=""><li id="1d07" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">首先，在非生产环境中以模拟运行模式创建一个服务边界。</li><li id="252f" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在更高的环境中配置外围设备之前，测试您的应用程序和控制。</li><li id="0a83" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">分析模拟日志中的违规情况。包括任何服务帐户、IP范围、设备属性等。根据需要访问级别。<em class="kh">请注意，作为周界一部分的项目中会出现模拟运行违规。</em></li><li id="e986" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">一旦模拟运行分析显示没有违规，就在强制模式下配置边界。</li></ol><h2 id="0645" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 6。在将GCP服务纳入边界之前，检查已知的限制</strong></h2><p id="b437" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用VPC服务控件时，某些谷歌云服务、产品和界面存在已知的限制。详见此<a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/supported-products#service-limitations" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h2 id="09a0" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 7。使用IAM和VPC防火墙规则限制周界内的访问</strong></h2><p id="64fb" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">只要IAM策略和VPC防火墙策略允许，VPC服务控制允许虚拟机(VM)/GKE节点和外围内的GCP服务之间的自由通信。要限制边界内的通信，请使用IAM策略、VPC防火墙规则和其他安全控制进行深度防御。</p><h2 id="df79" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 8。查看有权配置周界的用户列表</strong></h2><p id="eca5" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">查看拥有<a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/access-control" rel="noopener ugc nofollow" target="_blank"> IAM权限</a>来修改边界的身份列表。</p><h2 id="6f67" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 9。为GKE私人集群建立集装箱注册中心</strong></h2><p id="3698" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果使用GKE专用集群和容器注册表，则适用此步骤。它需要配置您的DNS服务器，以便对容器注册地址的请求解析到restricted.googleapis.com。如果不使用受限VIP，数据可以从支持的服务渗透到不支持的服务。更多信息见此<a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/set-up-gke" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h2 id="87f1" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 10。利用条件逻辑创建访问级别</strong></h2><p id="c1a4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用以下属性的组合(和/或)创建访问级别-</p><ol class=""><li id="bdd0" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/access-context-manager/docs/create-basic-access-level#corporate-network-example" rel="noopener ugc nofollow" target="_blank"> IP范围</a> —该属性可用于允许来自指定IP地址范围的访问(例如，企业网络内的访问)。</li><li id="e326" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/access-context-manager/docs/create-access-level#members-example" rel="noopener ugc nofollow" target="_blank">服务帐户</a> —该属性可用于允许来自指定服务帐户或用户帐户的访问。</li><li id="7812" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/access-context-manager/docs/create-basic-access-level#device-example" rel="noopener ugc nofollow" target="_blank">设备属性</a> —可以使用的设备属性有-</li></ol><pre class="kx ky kz la fd mb mc md me aw mf bi"><span id="ecb2" class="lm je hi mc b fi mg mh l mi mj">a. Corp Owned device.<br/>b. Screen lock is enabled.<br/>c. Storage encryption is enabled.<br/>d. Operating Systems of specific kinds and versions.</span></pre><p id="3d16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述属性的任何一个或组合都可以用来创建访问级别。例如，如果您想要确保允许用户来自受信任的IP范围或公司管理的设备，请使用授权的IP范围和设备属性(“公司拥有的设备”)创建访问级别)使用OR条件。</p><h2 id="0308" class="lm je hi bd jf ln lo lp jj lq lr ls jn iq lt lu jr iu lv lw jv iy lx ly jz lz bi translated"><strong class="ak"> 11。使用设备属性时，使用“公司拥有的设备”以获得更强大的安全性。</strong></h2><p id="fcfb" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用“公司拥有的设备”可以确保流量来自公司管理的设备。为了成功验证对配置了此设备属性的GCP资源的客户端请求，需要在客户端设备上启用端点验证。有两个选项允许端点验证:</p><p id="fe1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="kh">a . chrome book用户的端点验证</em> </strong></p><p id="a5e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要从Chromebook设备收集设备属性，必须完成注册。当用户首次登录设备时，会自动注册。一旦注册，不需要任何其他操作，设备信息会在每次请求时发送到GCP。此<a class="ae kg" href="https://support.google.com/chrome/a/answer/1360534?hl=en" rel="noopener ugc nofollow" target="_blank">链接</a>提供了注册Chromebooks的详细信息。</p><p id="a8e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kh"> b .非Chromebook用户的端点验证</em> </strong></p><p id="f58f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非Chromebook用户的设备属性可以使用<a class="ae kg" href="https://chrome.google.com/webstore/detail/endpoint-verification/callobklhcbilhphinckomhgkigmfocg?hl=en" rel="noopener ugc nofollow" target="_blank">端点验证</a> Chrome浏览器扩展来收集。要使用此选项，必须执行以下步骤。</p><ul class=""><li id="25c8" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc ma ko kp kq bi translated">在管理控制台中打开端点验证。</li><li id="19a5" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc ma ko kp kq bi translated">在授权设备上安装端点验证扩展。</li></ul><p id="9b5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇<a class="ae kg" href="https://support.google.com/a/answer/9007320?hl=en" rel="noopener ugc nofollow" target="_blank">文章</a>提供了关于打开端点验证和安装扩展的三个选项的详细信息。</p><h1 id="08c5" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">把它放在一起</h1><p id="9696" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">下图说明了如何将VPC安全控制与其他安全控制结合使用，以实现纵深防御。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es mk"><img src="../Images/433fd02bbf1651c44673a20d92101fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X83Wle7t8JXw0jcB339ltQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">将VPC服务控制与GCP的其它安全控制结合使用</figcaption></figure><h1 id="e23b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">敬请关注</h1><p id="a1ea" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在下一篇帖子中，我们将深入探讨VPC服务控制的高级功能，并浏览更多数据泄漏用例，以展示如何使用VPC服务控制来降低风险。</p><h1 id="983c" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">进一步阅读</h1><ol class=""><li id="06ec" class="ki kj hi ih b ii kb im kc iq ml iu mm iy mn jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/overview" rel="noopener ugc nofollow" target="_blank">VPC服务控制概述</a></li><li id="34e1" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/service-perimeters" rel="noopener ugc nofollow" target="_blank">服务边界配置</a></li><li id="d9bd" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/supported-products" rel="noopener ugc nofollow" target="_blank"> VPC服务控制—支持的产品和限制</a></li><li id="5412" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kg" href="https://cloud.google.com/vpc-service-controls/docs/private-connectivity" rel="noopener ugc nofollow" target="_blank">带有VPC服务控制的谷歌私人访问</a></li></ol><h1 id="2012" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">信用</h1><p id="9411" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">非常感谢<a class="mo mp ge" href="https://medium.com/u/ffb2a23f03d8?source=post_page-----82e2b440197--------------------------------" rel="noopener" target="_blank">萨姆拉特·雷</a>和<a class="mo mp ge" href="https://medium.com/u/e2414e002073?source=post_page-----82e2b440197--------------------------------" rel="noopener" target="_blank">迈克·阿尔塔雷斯</a>在这个话题上提供了他们的专业知识。</p><h1 id="740a" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">放弃</h1><p id="14a3" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">Mukesh Khattar是谷歌公司(Google Cloud)的安全顾问。这里陈述的观点是我自己的，而不是谷歌公司的。</p></div></div>    
</body>
</html>