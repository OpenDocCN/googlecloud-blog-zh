# Kubernetes çš„èµ„æºéœ€æ±‚

> åŸæ–‡ï¼š<https://medium.com/google-cloud/resource-requirements-in-kubernetes-86290cb43c48?source=collection_archive---------0----------------------->

å¦‚ä½•æŒ‡å®š Pods åœ¨ Kubernetes ä¸­è¿è¡Œæ‰€éœ€çš„èµ„æºï¼Ÿï¼Ÿ

## ä»‹ç»ğŸš©ğŸš©

å„ä½è¯»è€…å¥½ğŸ‘‹æˆ‘å·²ç»å†™äº†ä¸€æ®µæ—¶é—´å…³äº Kubernetes åŠå…¶å¯¹è±¡çš„åŸºç¡€çŸ¥è¯†ã€‚æˆ‘è§‰å¾—åŸºç¡€çŸ¥è¯†å·²ç»è®²å¾—å¾ˆå¥½äº†ï¼Œç°åœ¨æ˜¯æ—¶å€™è½¬å‘æ›´é«˜çº§çš„ Kubernetes ä¸»é¢˜äº†ã€‚
å…¶ä¸­ä¸€ä¸ªè¯é¢˜æ˜¯å…³äº ***åœ¨ Kubernetes çš„èµ„æºéœ€æ±‚å’Œé™åˆ¶ã€‚***

***æ‰€ä»¥åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è¯•ç€äº†è§£ä¸€ä¸‹*** :

*   Kubernetes ä¸­çš„èµ„æºè¯·æ±‚å’Œé™åˆ¶æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ
*   æˆ‘ä»¬å¦‚ä½•åœ¨ Kubernetes ä¸­è®¾ç½® Pod çš„èµ„æºè¯·æ±‚å’Œé™åˆ¶ï¼Ÿï¼Ÿ
*   å½“ pod è¯•å›¾è¶…å‡ºå…¶æŒ‡å®šé™åˆ¶çš„èµ„æºæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼Ÿ

> **è¿™å°†æ˜¯ä¸€ç¯‡éå¸¸çŸ­å°ç²¾æ‚çš„æ–‡ç« ã€‚
> æ‰€ä»¥ä¸è¦å†æ‹–å»¶äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§:)**

## Kubernetes ä¸­çš„èµ„æºè¯·æ±‚å’Œé™åˆ¶æ˜¯ä»€ä¹ˆï¼Ÿï¼ŸğŸ¤”ğŸ¤”

![](img/79ec835dbd551b94c21dab1daa140a39.png)

å¦‚æœä½ ç»å¸¸é˜…è¯»æˆ‘çš„æ–‡ç« ï¼Œä½ ä¸€å®šä¼šæ³¨æ„åˆ°æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è°ˆåˆ°äº† Kubernetes ä¸­çš„ ***è°ƒåº¦ã€‚***

[](/google-cloud/scheduling-in-kubernetes-9bc96c9008d8) [## kubernetes çš„æ—¥ç¨‹å®‰æ’

### Kubernetes ä¸­çš„è°ƒåº¦æµç¨‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿï¼Ÿ

medium.com](/google-cloud/scheduling-in-kubernetes-9bc96c9008d8) 

åœ¨é‚£ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘è°ˆåˆ°äº†åœ¨ K8s é›†ç¾¤ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸Šè°ƒåº¦ä¸€ä¸ª Pod çš„æ‰€æœ‰æ–¹æ³•ã€‚

ä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰è°ˆçš„æ˜¯â€œ ***ä¸€ä¸ª Pod*** çš„èµ„æºéœ€æ±‚&é™åˆ¶â€ã€‚æ¯”å¦‚ï¼Œè¿™äº›æ˜¯å¦‚ä½•æŒ‡å®šçš„ï¼Œå› ä¸ºå®ƒåœ¨å°† Pod è°ƒåº¦åˆ°ç‰¹å®šèŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚
å½“ä¸”ä»…å½“ä¸€ä¸ª Pod çš„èµ„æºéœ€æ±‚è¢«ä¸€ä¸ªèŠ‚ç‚¹æ»¡è¶³æ—¶ï¼Œé‚£ä¹ˆåªæœ‰è¯¥èŠ‚ç‚¹å¯ä»¥åœ¨å…¶ä¸Šè°ƒåº¦è¯¥ Podã€‚å¦åˆ™æ²¡æœºä¼š:((

è®©æˆ‘ä»¬è¯•ç€ä»ä»¥ä¸‹å‡ ç‚¹æ¥ç†è§£æ•´ä¸ªæ¦‚å¿µ

*   å‡è®¾æœ‰ä¸€ä¸ªä¸¤ä¸ªèŠ‚ç‚¹çš„ Kubernetes é›†ç¾¤ã€‚
*   æ¯ä¸ªèŠ‚ç‚¹éƒ½åˆ†é…æœ‰ä¸€äº›èµ„æº(CPUã€å†…å­˜)ã€‚
*   ç°åœ¨ï¼Œå½“æˆ‘ä»¬åˆ›å»º Pod æ—¶ï¼Œæ¯ä¸ª Pod éƒ½éœ€è¦åœ¨å…¶ä¸­è¿è¡Œå®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºã€‚
*   è¿™äº›å®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºéœ€è¦ä¸€äº›èµ„æº(CPUã€å†…å­˜)æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚
*   ç°åœ¨ Kubernetes è°ƒåº¦ç¨‹åºçš„ä»»åŠ¡æ˜¯æ‰¾åˆ°ä¸€ä¸ªèƒ½å¤Ÿæ»¡è¶³ Pod èµ„æºéœ€æ±‚çš„èŠ‚ç‚¹ã€‚
*   æ»¡è¶³è¿™äº›è¦æ±‚çš„èŠ‚ç‚¹å°†è·å¾—ä¸ºå®ƒä»¬å®‰æ’çš„ Podã€‚

> å› æ­¤ï¼Œç®€å•æ¥è¯´ï¼Œâ€œèµ„æºéœ€æ±‚â€åªä¸è¿‡æ˜¯ä¸€ä¸ª Pod å‘èŠ‚ç‚¹è¯·æ±‚çš„è®¡ç®—èµ„æºï¼Œä»¥è¿è¡Œå…¶å†…éƒ¨çš„åº”ç”¨ç¨‹åºã€‚
> å¦ä¸€æ–¹é¢ï¼Œâ€œèµ„æºé™åˆ¶åªä¸è¿‡æ˜¯ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ç»™äºˆç‰¹å®š Pod çš„æœ€å¤§è®¡ç®—èµ„æºã€‚

## æˆ‘ä»¬å¦‚ä½•åœ¨ Kubernetes ä¸­è®¾ç½® Pod çš„èµ„æºè¯·æ±‚å’Œé™åˆ¶ï¼Ÿï¼ŸğŸ¤“ğŸ¤“

![](img/a2cb70874446e79a45ef3e3b3cadf58b.png)

Photo by [æ„šæœ¨æ··æ ª cdd20](https://unsplash.com/@cdd20?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

> *** *æ³¨æ„:**é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetes å‡è®¾ pod æˆ– pod ä¸­çš„å®¹å™¨éœ€è¦`0.5` CPU å’Œ`256Mi`å†…å­˜ã€‚

å¦‚æœ pod ä¸­çš„åº”ç”¨ç¨‹åºéœ€è¦çš„èµ„æºå¤šäºé»˜è®¤èµ„æºï¼Œæ‚¨éœ€è¦ä»¥ä¸‹é¢çš„æ–¹å¼åœ¨ pod å®šä¹‰æ–‡ä»¶ä¸­è®¾ç½®å®ƒä»¬ã€‚
å‚è§ä¸‹é¢ yaml æ–‡ä»¶ä¸­`*spec*`éƒ¨åˆ†ä¸‹çš„`*resources*`éƒ¨åˆ†ã€‚

```
apiVersion: v1
kind: Pod
metadata:
  name: simple-app
  labels:
    name: simple-app
spec:
 containers:
 - name: simple-app
   image: simple-app
   ports:
    - containerPort:  8080
   resources:
     requests:
      memory: "1Gi"
      cpu: "1"
```

> *** *æ³¨æ„:**é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetes å°†èµ„æºé™åˆ¶è®¾ç½®ä¸º 1 ä¸ª CPU å’Œ 512Mi å†…å­˜

å¦‚æœæ‚¨éœ€è¦æ›´æ”¹ pod ä¸­åº”ç”¨ç¨‹åºçš„èµ„æºé™åˆ¶ã€‚ç„¶åï¼Œæ‚¨éœ€è¦æŒ‰ç…§ä»¥ä¸‹æ–¹å¼åœ¨ pod å®šä¹‰æ–‡ä»¶ä¸­è®¾ç½®å®ƒä»¬ã€‚
å‚è§ä¸‹é¢ yaml æ–‡ä»¶ä¸­`*spec*`éƒ¨åˆ†ä¸‹çš„`*resources*`éƒ¨åˆ†ã€‚

```
apiVersion: v1
kind: Pod
metadata:
  name: simple-app
  labels:
    name: simple-app
spec:
 containers:
 - name: simple-app
   image: simple-app
   ports:
    - containerPort:  8080
   resources:
     requests:
      memory: "1Gi"
      cpu: "1"
     limits:
       memory: "2Gi"
       cpu: "2"
```

> ä¸‡å²ï¼ï¼ **ğŸ¥³ğŸ‰ğŸŠ**æˆ‘æƒ³ç°åœ¨åº”è¯¥å¾ˆæ¸…æ¥šäº†ï¼Œåœ¨ Kubernetes ä¸­ä¸ºä¸€ä¸ª Pod è®¾ç½®èµ„æºè¯·æ±‚å’Œé™åˆ¶æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚

## å½“ pod è¯•å›¾è¶…å‡ºå…¶æŒ‡å®šé™åˆ¶çš„èµ„æºæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ŸğŸ¤¯ ğŸ¤¯

![](img/853d4e7c1376451b41d1df0dbb2b4bfc.png)

ç…§ç‰‡ç”± [Sam Xu](https://unsplash.com/es/@ric3b0wl?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

1.  å¦‚æœ Pod è¯•å›¾è¶…è¿‡ä¸ºå®ƒå®šä¹‰çš„ ***CPU é™åˆ¶*** ï¼ŒKubernetes é›†ç¾¤ä¸å…è®¸å®ƒè¿™æ ·åšã€‚å› æ­¤ï¼Œå½“åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡Œæ—¶ï¼Œä¸€ä¸ª Pod è¶…è¿‡å®ƒä¸ºè‡ªå·±å®šä¹‰çš„ CPU é™åˆ¶æ˜¯ä¸å¯èƒ½çš„ã€‚
2.  å¦‚æœ Pod è¯•å›¾è¶…è¿‡ä¸ºå®ƒå®šä¹‰çš„ ***å†…å­˜é™åˆ¶*** ï¼ŒKubernetes é›†ç¾¤å…è®¸å®ƒè¿™æ ·åšã€‚å› æ­¤ï¼Œå½“åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡Œæ—¶ï¼Œä¸€ä¸ª Pod å¯èƒ½ä¼šè¶…è¿‡å®ƒä¸ºè‡ªå·±å®šä¹‰çš„å†…å­˜é™åˆ¶ã€‚ ***ä½†æ˜¯é›†ç¾¤ä¸ä¼šè®©è¿™ç§æƒ…å†µæŒç»­å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚å½“å®ƒæ£€æµ‹åˆ°å®ƒå·²ç»è¶…è¿‡å®ƒçš„å­˜å‚¨å™¨é™åˆ¶ä¸€æ®µè¾ƒé•¿çš„æ—¶é—´*** æ—¶ï¼Œå®ƒå°† ***ç»ˆæ­¢ PodğŸ‘€***

## æ¥ä¸‹æ¥å‘¢ï¼ŸğŸ‘€ ğŸ‘€

![](img/ad0b9e78c9a733d30c9ec3a0317ff410.png)

> éå¸¸æ„Ÿè°¢ä½ æ¥åˆ°è¿™é‡Œï¼è¿™æ˜¯æœ¬æ–‡çš„ç»“å°¾ã€‚
> ä½†æˆ‘ä»¬åªæ˜¯è§¦åŠäº† K8s ç”Ÿæ€ç³»ç»Ÿçš„è¡¨é¢:)
> è¿˜æœ‰å¾ˆå¤šï¼Œè¿™å°†æ˜¯ä¸€æ¬¡æœ‰è¶£çš„æ—…ç¨‹ï¼Œæˆ‘ä»¬å°†ä¸€èµ·å­¦ä¹ è®¸å¤šå¾ˆé…·çš„ä¸œè¥¿ã€‚
> 
> é¼“æŒï¼Œè·Ÿæˆ‘æ¥ğŸ™ˆå¦‚æœä½ å–œæ¬¢æˆ‘çš„ä½œå“ï¼Œå¹¶å¸Œæœ›åœ¨æœªæ¥æ›´å¤šåœ°é˜…è¯»æˆ‘çš„ä½œå“:)

å¦‚æœä½ å¯¹è¿™ç¯‡æ–‡ç« æœ‰ä»»ä½•ç–‘é—®ï¼Œæˆ–è€…æƒ³èŠèŠå¤©ï¼Œè¯·éšæ—¶è”ç³»æˆ‘çš„ç¤¾äº¤åª’ä½“è´¦å·

*æ¨ç‰¹â€”*[https://twitter.com/ChindaVibhor](https://twitter.com/ChindaVibhor)

*é¢†è‹±â€”*[*https://www.linkedin.com/in/vibhor-chinda-465927169/*](https://www.linkedin.com/in/vibhor-chinda-465927169/)

## ç›¸å…³æ–‡ç« 

[](/google-cloud/daemon-sets-static-pods-bf43b10efe97) [## å®ˆæŠ¤è¿›ç¨‹é›†å’Œé™æ€è±†èšâ˜¸â˜¸

### Kubernetes ä¸­å…³äºå®ˆæŠ¤è¿›ç¨‹é›†å’Œé™æ€ Pods çš„ä¸€åˆ‡

medium.com](/google-cloud/daemon-sets-static-pods-bf43b10efe97) [](/google-cloud/deploying-a-local-kubernetes-cluster-using-minikube-abe94a2c7583) [## ä½¿ç”¨ Minikube éƒ¨ç½²æœ¬åœ° Kubernetes é›†ç¾¤ğŸš¢ ğŸš¢

### å¦‚ä½•ä½¿ç”¨ Minikube è®¾ç½®æœ¬åœ° Kubernetes é›†ç¾¤ï¼Ÿï¼Ÿ

medium.com](/google-cloud/deploying-a-local-kubernetes-cluster-using-minikube-abe94a2c7583) 

æˆ‘ä»ç„¶ä¼šç»§ç»­å‘è¡¨æ–°çš„æ–‡ç« ï¼Œæ¶µç›–æˆ‘æ­£åœ¨æ¢ç´¢çš„ä¸€ç³»åˆ—ä¸»é¢˜ã€‚

é‚£éƒ½æ˜¯ä¹¡äº²ä»¬ï¼ï¼æ¶‚é¸¦:))