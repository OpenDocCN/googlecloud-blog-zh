<html>
<head>
<title>Workloads Migration to GCP using “Migrate for Compute Engine”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用“针对计算引擎的迁移”将工作负载迁移到GCP</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/workloads-migration-to-gcp-using-migrate-for-compute-engine-6891893ea21c?source=collection_archive---------1-----------------------#2022-05-25">https://medium.com/google-cloud/workloads-migration-to-gcp-using-migrate-for-compute-engine-6891893ea21c?source=collection_archive---------1-----------------------#2022-05-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="053c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何将AWS Ec2机器迁移到GCP计算引擎</p><h1 id="0d73" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">计算引擎迁移的高级架构(例如AWS到GCP)</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/d9b867e9d5d0fd13733c2c17066f7ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dy5VyJtEpU4Xb1uoLbktgQ.png"/></div></div></figure><h2 id="bc59" class="kn je hi bd jf ko kp kq jj kr ks kt jn iq ku kv jr iu kw kx jv iy ky kz jz la bi translated">先决条件:在AWS和GCP之间建立站点到站点VPN。AWS路由和GCP防火墙规则允许网络之间的流量</h2><h1 id="0850" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">正在创建AWS IAM组:</h1><p id="03cc" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">1.下载并解压<a class="ae lg" href="https://storage.googleapis.com/velostrata-release/V4.2.0/Latest/CloudFormation.zip" rel="noopener ugc nofollow" target="_blank"> AWS云形成模板</a>。</p><p id="ad75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.登录自动气象站控制台，选择<strong class="ih hj">云形成</strong>。</p><p id="a9c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.点击<strong class="ih hj">创建堆栈。</strong></p><p id="7bd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.点击<strong class="ih hj">选择文件</strong>，上传云形成文件，然后点击<strong class="ih hj">下一步</strong>。</p><p id="948f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.为云形成堆栈输入一个<strong class="ih hj">名称</strong>。</p><p id="4376" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.选择包含要迁移的实例的VPC。</p><p id="f593" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.从<strong class="ih hj">选项</strong>页面，点击<strong class="ih hj">下一个</strong>，然后点击<strong class="ih hj">创建</strong>。将创建名为{堆栈名称前缀}-VelosMgrGroup的组。</p><h1 id="b643" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">为Velostrata创建AWS IAM用户帐户</h1><p id="53c9" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">在AWS控制台中，点击页面右上角的<strong class="ih hj">帐户名</strong>，然后选择<strong class="ih hj">安全凭证</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es lh"><img src="../Images/ca329687360e250658def67d864a57eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*7nrwnelAUdur1M0XHxs9NA.png"/></div></figure><ol class=""><li id="25fb" class="li lj hi ih b ii ij im in iq lk iu ll iy lm jc ln lo lp lq bi translated">从左侧窗格中，选择<strong class="ih hj">用户</strong>，然后点击<strong class="ih hj">创建新用户</strong>。</li><li id="1483" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">对于访问类型，选择<strong class="ih hj">编程访问</strong>。</li><li id="06ca" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">下载用户凭证(密钥)。创建迁移计算云扩展时将使用这些密钥</li></ol><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lw"><img src="../Images/5db9c338599cef0379ecc91e5c3abc5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nH75L3QyifrwLbJ05EWDoQ.jpeg"/></div></div></figure><p id="d250" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将IAM用户添加到由CloudFormation脚本创建的组中。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es lx"><img src="../Images/c883c48c3e7d52508337f3b06fe51247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*c2BHE79kX4pM6842oDTizw.png"/></div></figure><h1 id="e271" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">为迁移配置AWS EC2实例</h1><p id="545c" class="pw-post-body-paragraph if ig hi ih b ii lb ik il im lc io ip iq ld is it iu le iw ix iy lf ja jb jc hb bi translated">登录到Ec2后，运行以下命令(例如Ubuntu):</p><p id="92f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Sudo apt-get更新</strong></p><p id="202d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>当Linux映像在Google Cloud上运行时，它期望为计算引擎映射磁盘的迁移找到内核驱动程序。这些必须在迁移到Google Cloud之前下载并安装。驱动程序安装必须在EC2机器上执行:</p><p id="2655" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ly">检查“管理器映像版本”</em> </strong> <em class="ly"> 🡪转到GCP控制台🡪Compute引擎🡪Migrate计算引擎🡪您将看到选项🡪欢迎迁移计算引擎V5.0。要使用V4。X </em></p><p id="6cc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ly">切换按钮🡪 V4。x并创建迁移管理器🡪配置站点到站点VPN (AWS到GCP ),要求子网内的GCP防火墙规则，并选择“管理器映像版本”4.11.9(截至2011年12月21日)。</em></p><p id="456d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">点击链接，搜索源操作系统，根据需要下载驱动程序并安装在源机器上。</strong></p><p id="6ad3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lg" href="https://cloud.google.com/migrate/compute-engine/docs/4.11/resources/downloads" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/migrate/compute-engine/docs/4.11/resources/downloads</a></p><p id="5905" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">在这个例子中，</strong> Ubuntu是在AWS中运行的源机器(例如Ec2 ),需要包&amp;版本:</p><p id="5606" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">“为计算引擎迁移。deb包</strong> " 🡪现在在源Ubuntu机器中运行以下命令:</p><p id="160f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">wget</strong><a class="ae lg" href="https://storage.googleapis.com/velostrata-release/4.11.9/migrate-for-gce-prep-4.11.9-0.deb" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">https://storage . Google APIs . com/velostrata-release/4 . 11 . 9/migrate-for-GCE-prep-4 . 11 . 9-0 . deb</strong></a></p><p id="dfb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">sudo dpkg-I migrate-for-GCE-prep-4 . 11 . 9–0 . deb</strong></p><p id="3cca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> sudo apt-get更新&amp;&amp;sudo apt-get install-f–y</strong></p><p id="9509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您已经完成了EC2实例的设置。通过键入exit注销AWS VM实例</p><p id="ed60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> GCP环境准备:</strong></p><ol class=""><li id="f28a" class="li lj hi ih b ii ij im in iq lk iu ll iy lm jc ln lo lp lq bi translated">转到计算引擎🡪的GCP控制台🡪Compute引擎🡪Migrate，您将看到选项🡪 <strong class="ih hj">欢迎迁移计算引擎V5.0。使用V4。X </strong>(根据适用于云的文档V4.x(例如AWS &amp; Azure)和适用于Vcenter/VMware的V5.0，但保持检查最新更新)</li><li id="0633" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">切换按钮🡪 V4。x并创建迁移管理器🡪配置站点到站点VPN (AWS到GCP)并要求子网内的GCP防火墙规则(如果未配置为先决条件)并选择“管理器映像版本”— 4.11.9(截至2011年12月)</li><li id="6eac" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">选择地区、区域、机器类型、VPC、子网、标签等。部署迁移管理器实例</li><li id="d8a7" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">服务帐户🡪为“<strong class="ih hj">迁移管理器</strong>”创建服务帐户(保留默认值)，并为“<strong class="ih hj">云扩展</strong>”创建另一个服务帐户(保留默认值)</li><li id="a794" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">迁移管理器密码—用户名默认为<strong class="ih hj"> apiuser </strong>并创建新的passport(记下该密码，因为稍后需要)</li><li id="b0bf" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">审查和创建</li><li id="e0d1" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">在计算引擎下—您可以看到带有<strong class="ih hj">外部IP </strong>的虚拟机，并在浏览器中打开链接，接受证书的安全警告。用户名和密码。</li></ol><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/53ea559ae58889e229fb39c26f965de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8DQn9VH3GUW1F2AmKVTteA.png"/></div></div></figure><p id="df91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.点击源云-&gt;云凭据🡪创建</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lz"><img src="../Images/62bb0d31f38170fc438bb790e1255bcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Wg5bJH-_eLgedSL2TFOsg.png"/></div></div></figure><p id="48e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9 .点击源云-&gt;云详细信息🡪创建</p><p id="f962" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:选择AZ，而“<strong class="ih hj">要迁移的Ec2 </strong>”正在运行&amp;适当的细节在此步骤中。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ma"><img src="../Images/17e2fdfd48e595372d58ad5d3cde3da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rKmh1Y_fdtZdrSBRGZv1UQ.png"/></div></div></figure><p id="bf6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击目标云图标:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es mb"><img src="../Images/3509dbb50abba31bfbbf383cb5a145af.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*YPrRq7QUCvRn-ReziySkRg.png"/></div></figure><p id="82df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">在云扩展选项卡上，单击创建按钮:</strong></p><p id="e6f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">项目:</strong>选择您的GCP项目(迁移将在那里进行)</p><p id="a24b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">地区:</strong> GCP地区</p><p id="10e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">●<strong class="ih hj">VPC:</strong>GCP-网络</p><p id="ee7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">工作负载的默认目的项目:</strong>默认项目名称</p><p id="35da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">工作负载的默认服务账户:</strong>迁移-云-扩展(<em class="ly">管理器创建时创建的</em>)</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mc"><img src="../Images/2f1ccab1fc2ae64c654099d2a24582fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mHT23R7gjnBdh7LCk00XWg.png"/></div></div></figure><p id="d386" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在展开下面的部分来完成表格:</p><p id="2467" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">云扩展</strong></p><p id="d642" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">云扩展名称:</strong> ext1(或任何名称)</p><p id="8196" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">边缘节点服务账号:</strong>迁移-云-扩展</p><p id="df31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">云扩展规模:</strong>小型/大型(参见迁移工作负载的定义)</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es md"><img src="../Images/bb73ea6e710ca62554f149f2a61a9781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gIjKZBfiljMOHaJKmGCSgw.png"/></div></div></figure><p id="0c3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">区域</strong></p><p id="a5d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">节点A区域:</strong>美国-中央1-a</p><p id="43bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">节点B区域:</strong>美国中央1-b</p><p id="11b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">节点A子网:</strong></p><p id="cd9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">节点B子网:</strong></p><p id="88f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">● <strong class="ih hj">默认工作负载子网:</strong></p><p id="ac1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<strong class="ih hj">确定</strong>按钮。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es me"><img src="../Images/815e271187ddc466587b249c3817fd1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzIkB-vvIqZZYYoh_oFAtA.png"/></div></div></figure><p id="8adf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你现在应该看到<strong class="ih hj"> ext2 </strong>处于<strong class="ih hj">创建</strong>状态。</p><p id="b764" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">等待创建完成，并处于<strong class="ih hj">活动</strong>状态，然后继续。这将需要几分钟时间。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/a0bedc0bf09f29bb4391699e40b9b446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GWNI3MgDyqKUBn_iyzZtMg.png"/></div></div></figure><p id="9ad2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">点击主页按钮:</strong></p><p id="f60b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<strong class="ih hj">迁移波</strong>图标:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es mf"><img src="../Images/c2d021511f2eee9a2bc98e08c35b9d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*fNz4ZOW463vZHNFKU0S_8Q.png"/></div><figcaption class="mg mh et er es mi mj bd b be z dx translated">Name = aws <em class="mk">(该标签是为aws管理中的Ec2配置的。安慰..任何带有“aws”标签的机器将在CSV表中导出</em>)</figcaption></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ml"><img src="../Images/1d00e20af3fb43b9c69a9f48cd8ce616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sb6f2HzJNBTQi11UFUT8bQ.png"/></div></div></figure><p id="3f26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">点击生成运行手册:</strong></p><p id="5327" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">在本例- </strong>中，有5台ec2机器包含aws标签:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/ce05efdc2f0c933dd4f52a64b1479b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0tw6tO_zaYziODzt673sg.png"/></div></div></figure><p id="fb70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，更改并输入一些内容，然后保存表单:</p><p id="7402" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行组(<em class="ly">从-1到1，GCP要求的实例类型，公共IP &amp;项目ID等。</em>)</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mm"><img src="../Images/36717bc78daa02cf4f483b323a613f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nCpKCNPSdKR7FcNCjleZVQ.png"/></div></div></figure><p id="cdb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">点击New wave，上传CSV: </strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mn"><img src="../Images/024bb783c0722a47281db0000cd47ac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q07tCcyy4sCTtoECs6nuGA.png"/></div></div></figure><p id="45bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">点击New wave，上传CSV: </strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es mo"><img src="../Images/b112e8d42ebfa145cec98d31bc456e7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUZZKeHIxBXV4IIuvhEycg.png"/></div></div></figure><p id="a538" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">选择波🡪Action 🡪新工作和选择操作:</strong></p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/2394647454223a4e493161e409cf6ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q3ZqHv0LivY0iqZPrCr_lw.png"/></div></div></figure><p id="3673" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">- <strong class="ih hj">测试克隆:</strong>当想要在GCP上测试虚拟机时，该选项工作正常。这将在源位置创建一个导入器(例如C4.large )(克隆源Ec2的副本),并让原始机器运行，而没有任何影响/停止。虚拟机将在GCP创建，您可以控制使用SSH(源用户&amp;密码)并测试应用程序。此外，在决定完全迁移之前，您可以从虚拟机创建一个映像，并创建一个新的虚拟机，以便在GCP进行进一步测试。</p><p id="8d19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">- <strong class="ih hj">在云中运行:</strong>选项将停止源机器，创建导入程序并在GCP创建一个新的虚拟机。根据文档，此选项从源卷传输存储。你可以从新创建的虚拟机登录/检查GCP的应用程序</p><p id="5fa9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">- <strong class="ih hj">离线迁移:</strong>通常是迁移计算当前不支持的传统工作负载/操作系统。停止源计算机，在源计算机上创建导入程序，在目标计算机上创建导出程序，并使GCP虚拟机保持停止状态。一旦虚拟机完全缓存，导出器&amp;导入器将被删除，新的虚拟机将在GCP启动并运行</p><p id="c8aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">- <strong class="ih hj">完全迁移:</strong>停止源机器，在源机器上创建导入程序，在目标机器上创建导出程序，并使GCP虚拟机保持开启状态。一旦虚拟机被完全缓存，导出器&amp;导入器将被删除，新的虚拟机将在GCP运行&amp;。在发动机罩下，执行以下步骤:</p><p id="c41d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">-在云中运行— </strong>该步骤将计算资源从AWS移动到云&amp;流存储。</p><p id="23c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> -存储迁移— </strong>这一步在后台将存储移动到云中</p><p id="3e17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> - </strong> <strong class="ih hj">准备脱离</strong>-从AWS VM断开。</p><p id="af30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">-</strong>-<strong class="ih hj">清理</strong>-从计算引擎控制台的迁移中清理设置</p><p id="d9e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>每台源机器(例如ec2)都将在源环境中创建一个单独的导入器(例如，5台Ec2将有另外5台导入器<strong class="ih hj"> </strong>作为C4.large的Ec2(按需定价适用)，直到复制停止。</p><p id="b2a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在遵循上述虚拟机生命周期时，源/原始虚拟机将被<strong class="ih hj">【停止】</strong>，不会发生持续的数据复制(这意味着业务事务完全停止)。数据从源传输到目标的时间量将被视为迁移所用的时间。</p><p id="04f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="ly">注意:</em> </strong> <em class="ly">迁移流程会因VMware/VCenter工作负载而变化。本文仅适用于AWS Ec2机器。</em></p></div></div>    
</body>
</html>