<html>
<head>
<title>Playing with ConcourseCI via a Google Cloud Platform free trial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过谷歌云平台免费试用ConcourseCI</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/playing-with-concourseci-via-a-google-cloud-platform-free-trial-65acfbdd02d2?source=collection_archive---------0-----------------------#2016-10-17">https://medium.com/google-cloud/playing-with-concourseci-via-a-google-cloud-platform-free-trial-65acfbdd02d2?source=collection_archive---------0-----------------------#2016-10-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c695" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一名软件开发人员，我已经开始练习每个周末花几个小时来磨练和提高我的技能。这个周末的课程是通过<a class="ae jd" href="https://bosh.io/" rel="noopener ugc nofollow" target="_blank"> Bosh </a> <a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release" rel="noopener ugc nofollow" target="_blank"> Google CPI </a>将我自己的<a class="ae jd" href="http://concourse.ci" rel="noopener ugc nofollow" target="_blank">concoursesi</a>集群部署到<a class="ae jd" href="https://cloud.google.com" rel="noopener ugc nofollow" target="_blank"> Google计算平台</a>。</p><p id="da1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我猜大家都知道亚马逊的云计算平台叫做<a class="ae jd" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> Amazon Web Services </a>，简称AWS。直到最近，我才意识到谷歌有一个竞争平台，叫做<a class="ae jd" href="https://cloud.google.com" rel="noopener ugc nofollow" target="_blank">谷歌计算平台</a>，简称GCP。与AWS相比，我喜欢GCP的一点是定价模式。AWS向你收取整小时的使用费，而GCP则在至少10分钟后按分钟收费。更不用说300美元的60天免费试用。</p><p id="6c95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对我来说幸运的是，谷歌的人做了很好的工作，记录了将Concourse安装到GCP的过程。</p><p id="a125" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是我对上述说明所做的一些调整，以使其适合免费计划(当你阅读这篇文章时，最新的版本号可能已经不同了):</p><ol class=""><li id="88b2" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">在<a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release/tree/master/docs/concourse#deploy-a-bosh-director" rel="noopener ugc nofollow" target="_blank">部署BOSH director </a>的第8步，将<strong class="ih hj"> manifest.yml </strong>文件中的<strong class="ih hj">resource _ pools-&gt;cloud _ properties-&gt;machine _ type</strong>从<strong class="ih hj"> n1-standard-4 </strong>更改为<strong class="ih hj"> n1-standard-1 </strong>。每个区域最多有8个CPU，所以为你使用4个会消耗很多容量，并且会导致安装失败。这将降低director的安装和后续更新速度。您可以在关闭免费试用后随时更改此设置。</li><li id="d8bb" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">同样在<a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release/tree/master/docs/concourse#deploy-a-bosh-director" rel="noopener ugc nofollow" target="_blank">部署BOSH director </a>的第8步中，更新到最新版本的<a class="ae jd" href="http://bosh.io/releases/github.com/cloudfoundry/bosh?all=1" rel="noopener ugc nofollow" target="_blank"> BOSH </a> (257.15)、<a class="ae jd" href="http://bosh.io/releases/github.com/cloudfoundry-incubator/bosh-google-cpi-release?all=1" rel="noopener ugc nofollow" target="_blank"> Google CPI </a> (25.4.1)和<a class="ae jd" href="http://bosh.io/stemcells/bosh-google-kvm-ubuntu-trusty-go_agent" rel="noopener ugc nofollow" target="_blank"> Google stemcell </a> (3263.7)版本。旧的将会工作，但是为什么不在你设置东西的时候得到所有最新的好处。</li><li id="fed5" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">在<a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release/tree/master/docs/concourse#deploy-concourse" rel="noopener ugc nofollow" target="_blank"> Deploy Concourse </a>的第1步，上传最新版本的<a class="ae jd" href="http://bosh.io/stemcells/bosh-google-kvm-ubuntu-trusty-go_agent" rel="noopener ugc nofollow" target="_blank"> Google stemcell </a> (3263.7)。</li><li id="5182" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">在<a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release/tree/master/docs/concourse#deploy-concourse" rel="noopener ugc nofollow" target="_blank"> Deploy Concourse </a>的第2步，上传最新版本的<a class="ae jd" href="http://bosh.io/releases/github.com/concourse/concourse" rel="noopener ugc nofollow" target="_blank"> Concourse </a> (2.3.1)和<a class="ae jd" href="http://bosh.io/releases/github.com/cloudfoundry/garden-runc-release?all=1" rel="noopener ugc nofollow" target="_blank"> Garden RunC </a> (0.9.2)。这些版本是捆绑在一起的，因此请查看<a class="ae jd" href="https://concourse.ci/downloads.html" rel="noopener ugc nofollow" target="_blank"> Concourse下载页面</a>获取最新版本。</li><li id="8899" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">在<a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release/tree/master/docs/concourse#deploy-concourse" rel="noopener ugc nofollow" target="_blank">Deploy concoure</a>的第3步，确保再次将<strong class="ih hj"> cloud-config.yml </strong>中的<strong class="ih hj"> machine_type </strong>更改为<strong class="ih hj"> n1-standard-1 </strong>以适应CPU配额。由于这是一个演示环境，您可能不需要额外的马力。免费试用期结束后，您可以随时将其改回来并重新部署。这就是波什的妙处。:-)</li><li id="d81c" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">在<a class="ae jd" href="https://github.com/cloudfoundry-incubator/bosh-google-cpi-release/tree/master/docs/concourse#deploy-concourse" rel="noopener ugc nofollow" target="_blank">部署Concourse </a>的第4步，将<strong class="ih hj"> concourse.yml </strong>中的<strong class="ih hj"> basic_auth_password </strong>修改为更复杂的内容。您不希望“黑客”在您的Concourse环境中四处窥探。:-)</li></ol><p id="5b04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅此而已。按照这些小调整的指示，您应该可以快速启动并运行您自己的基于GCP的Concourse安装。</p><p id="ba3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您正在寻找教程来帮助您学习Concourse，请查看<a class="ae jd" href="https://concourse.ci/tutorials.html" rel="noopener ugc nofollow" target="_blank"> Concourse教程页面</a>。飞行学校的例子是一个很好的开始方式。你可以在这里查看我的跑步版本:<a class="ae jd" href="http://107.178.255.195/" rel="noopener ugc nofollow" target="_blank">http://107.178.255.195/</a></p></div></div>    
</body>
</html>