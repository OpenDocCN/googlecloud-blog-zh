<html>
<head>
<title>Getting Started w/ Dart on GCP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从GCP的Dart开始</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/getting-started-with-dart-on-gcp-ffc49165d181?source=collection_archive---------0-----------------------#2019-04-03">https://medium.com/google-cloud/getting-started-with-dart-on-gcp-ffc49165d181?source=collection_archive---------0-----------------------#2019-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e4f0" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">“缺失教程”系列</h2></div><p id="bdf0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是对《T2》系列的一个迟来但仍有希望有用的补充。</p><p id="497e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Stackoverflow上的一个开发者<a class="ae jt" href="https://stackoverflow.com/questions/55493003" rel="noopener ugc nofollow" target="_blank">无法</a>使用Dart(lang)为Google Cloud语音转文本API找到好的文档。</p><p id="acee" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我以前没有使用过Dart，无法通过文档的方式找到太多信息来提供响应。所以我试了一下。这并不容易，但这主要是因为我真的不熟悉Dart，也没有使用过语音到文本的API(但这并不复杂)。</p><p id="6efc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">切入正题，下面是<a class="ae jt" href="https://gist.github.com/DazWilkin/34d628b998b4266be818ffb3efd688aa" rel="noopener ugc nofollow" target="_blank">解决方案</a>“布鲁克林大桥有多老了？”</p><h2 id="772a" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">设置</h2><p id="ab78" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">我运行的是Linux (Debian)。我将提供安装Dartlang ( <a class="ae jt" href="https://www.dartlang.org/install" rel="noopener ugc nofollow" target="_blank">这里是</a>)的指导，虽然我是从zip文件安装的，而不是使用包管理器，但是我将让您自己安装。我用的是服务器SDK。</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="dbe6" class="ju jv hi kz b fi ld le l lf lg">PROJECT_ID=[[YOUR-PROJECT-ID]]<br/>LANG=dart</span><span id="ad93" class="ju jv hi kz b fi lh le l lf lg">mkdir -p ${HOME}/${PROJECT_ID}/${LANG}<br/>cd ${HOME}/${PROJECT_ID}/${LANG}</span></pre><p id="8e79" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要启用语音转文本API:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="c234" class="ju jv hi kz b fi ld le l lf lg">gcloud services enable speech.googleapis.com --project=${PROJECT}</span></pre><p id="ea4f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还需要一个(无权限)服务帐户的JSON密钥，以便您的代码可以访问API:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="0ec9" class="ju jv hi kz b fi ld le l lf lg">ROBOT=[[YOUR-SERVICE-ACCOUNT]]<br/>FILE=${PWD}/${ROBOT}.key.json</span><span id="2926" class="ju jv hi kz b fi lh le l lf lg">gcloud iam service-accounts create $ROBOT \<br/>--display-name=$ROBOT \<br/>--project=$PROJECT</span><span id="c534" class="ju jv hi kz b fi lh le l lf lg">gcloud iam service-accounts keys create ${FILE} \<br/>--iam-account=${ROBOT}@${PROJECT}.iam.gserviceaccount.com \<br/>--project=$PROJECT</span></pre><h2 id="0565" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">舞台管理</h2><p id="40f7" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">Dart的SDK包括<a class="ae jt" href="https://pub.dartlang.org/packages/stagehand" rel="noopener ugc nofollow" target="_blank"> Stagehand </a>哪些脚手架项目——我使用的是控制台应用程序——并有助于包管理:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="c1ff" class="ju jv hi kz b fi ld le l lf lg">mkdir speech &amp;&amp; cd speech</span><span id="6ac2" class="ju jv hi kz b fi lh le l lf lg">stagehand console-full</span></pre><p id="c3ed" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有用的是，该命令以如何继续的说明结束:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="33e6" class="ju jv hi kz b fi ld le l lf lg">--&gt; to provision required packages, run 'pub get'<br/>--&gt; run your app using `dart bin/main.dart`.</span></pre><p id="24e4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之前，我运行了<code class="du li lj lk kz b">pub get</code>，我在Visual Studio代码中打开了目录，并决定我需要添加对Google的API客户端库的引用</p><blockquote class="ll lm ln"><p id="5104" class="ix iy lo iz b ja jb ij jc jd je im jf lp jh ji jj lq jl jm jn lr jp jq jr js hb bi translated">d<strong class="iz hj">I表达式</strong>:参见<a class="ae jt" href="https://cloud.google.com/apis/docs/client-libraries-explained" rel="noopener ugc nofollow" target="_blank">谷歌客户端库解释</a>。</p></blockquote><p id="ac88" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">令人困惑的是，Dart有几个(非歧义的)谷歌管理的GitHub库:<a class="ae jt" href="https://github.com/dart-lang/gcloud" rel="noopener ugc nofollow" target="_blank">https://github.com/dart-lang/gcloud</a>、<a class="ae jt" href="https://github.com/dart-lang/googleapis" rel="noopener ugc nofollow" target="_blank">https://github.com/dart-lang/googleapis</a>，并且隐藏在这个<a class="ae jt" href="https://github.com/dart-lang/googleapis/tree/master/generated/googleapis" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/Dart-lang/Google APIs/tree/master/generated/Google APIs</a>中。后者用一个使用Google云存储的例子给了我最大的帮助。</p><p id="312c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我了解到Dart包的中央回购在这里:</p><p id="4a6d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://pub.dartlang.org/" rel="noopener ugc nofollow" target="_blank">https://pub.dartlang.org/</a></code></p><p id="1145" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过<code class="du li lj lk kz b">googleapis</code>搜索找到了这个:</p><p id="07b2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://pub.dartlang.org/packages/googleapis" rel="noopener ugc nofollow" target="_blank">https://pub.dartlang.org/packages/googleapis</a></code></p><figure class="ku kv kw kx fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ls"><img src="../Images/221f4f75b22884f139ab6a0588b03cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1XC6D8HFtIZNriMWYUUfiw.png"/></div></div></figure><p id="9ce1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我随后意识到我需要OAuth包来:</p><p id="d77b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://pub.dartlang.org/packages/googleapis_auth" rel="noopener ugc nofollow" target="_blank">https://pub.dartlang.org/packages/googleapis_auth</a></code></p><figure class="ku kv kw kx fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ma"><img src="../Images/2bed14533427a700c79ff2ca67ccdfe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7LzbpRdRvvEFS0-ZhVDFw.png"/></div></div></figure><p id="d714" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">方便的是，点击任何一个页面上的“安装”会提供要粘贴到<code class="du li lj lk kz b">pubspec.yaml</code>中的配置:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="bf04" class="ju jv hi kz b fi ld le l lf lg">dependencies:<br/>  googleapis: ^0.53.0<br/>  googleapis_auth: ^0.2.7</span></pre><p id="3244" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，您可以运行<code class="du li lj lk kz b">pub get</code>将这些包从repo中提取到您的项目中。</p><h2 id="c790" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">客户</h2><p id="eccb" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">GitHub repo提供了一些样板代码，用于访问由服务帐户JSON密钥授权的Google API客户端库(云存储):</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="553a" class="ju jv hi kz b fi ld le l lf lg">import 'package:googleapis/<strong class="kz hj">speech/v1.dart</strong>';<br/>import 'package:googleapis_auth/auth_io.dart';</span><span id="cad0" class="ju jv hi kz b fi lh le l lf lg">final _credentials = new ServiceAccountCredentials.fromJson(r'''<br/>{<br/>  "private_key_id": ...,<br/>  "private_key": ...,<br/>  "client_email": ...,<br/>  "client_id": ...,<br/>  "type": "service_account"<br/>}<br/>''');</span><span id="06f9" class="ju jv hi kz b fi lh le l lf lg">const _SCOPES = const [<strong class="kz hj">SpeechApi.CloudPlatformScope</strong>];</span><span id="1aaa" class="ju jv hi kz b fi lh le l lf lg">void main() {<br/>  clientViaServiceAccount(_credentials, _SCOPES).then((http_client) {<br/>    var speech = new <strong class="kz hj">SpeechApi</strong>(http_client);<br/>    speech...<br/>  });<br/>}</span></pre><p id="207a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">猜测语音API的替换值很简单。</p><blockquote class="ll lm ln"><p id="0fc7" class="ix iy lo iz b ja jb ij jc jd je im jf lp jh ji jj lq jl jm jn lr jp jq jr js hb bi translated"><strong class="iz hj"> NB </strong>最好将服务帐户JSON密钥作为一个文件引用，但我是noob，所以使用了示例中所示的文本文字，我将<code class="du li lj lk kz b">${ROBOT}.key.json</code>的内容复制并粘贴到该示例中。</p></blockquote><p id="11e4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这让我很困惑，因为<code class="du li lj lk kz b">auth-io</code>库接受JSON字符串或Dart映射，但是当我实例化Speech API的<code class="du li lj lk kz b">recognize</code>类时，它的<code class="du li lj lk kz b">fromJson</code>方法不…..最后，我不得不从头开始为自己编写一个示例，以理解这在Dart中是如何工作的:</p><figure class="ku kv kw kx fd lt"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="5566" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过尝试对谷歌的代码进行逆向工程，我学到了一些别的东西。例如，它使用了<code class="du li lj lk kz b">core.String</code>，但是<a class="ae jt" href="http://dartpad.dartlang.org/634c0cb8159549a44c5c786844da03f3" rel="noopener ugc nofollow" target="_blank">标板</a>对此产生了错误。我意识到<code class="du li lj lk kz b">core</code>前缀是某种形式的别名，并查看了Google代码中的导入，看到了<code class="du li lj lk kz b">import 'dart:core' as core;</code>。这可能是一个很好的具体做法，确保当你写下例如<code class="du li lj lk kz b">String</code>，并从<code class="du li lj lk kz b">dart:core</code>中表示<code class="du li lj lk kz b">String</code>时，这就是你所得到的。</p><p id="b726" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">查看谷歌的语音转文本文档，我意识到我将使用的关键方法是<code class="du li lj lk kz b">recognize</code>:</p><p id="3826" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://cloud.google.com/speech-to-text/docs/reference/rest/v1/speech/recognize" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/speech-to-text/docs/reference/rest/v1/speech/recognize</a></code></p><p id="ece0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">并且该方法采用:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="5be6" class="ju jv hi kz b fi ld le l lf lg">{<br/>  "config": {<br/>    object(RecognitionConfig)<br/>  },<br/>  "audio": {<br/>    object(RecognitionAudio)<br/>  }<br/>}</span></pre><p id="16d3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">搜索GitHub repo，发现:</p><p id="6440" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://github.com/dart-lang/googleapis/blob/9181a52ad90c47c56d38576090ebbc94957ab716/generated/googleapis/lib/speech/v1.dart#L442" rel="noopener ugc nofollow" target="_blank">https://github.com/dart-lang/googleapis/blob/9181a52ad90c47c56d38576090ebbc94957ab716/generated/googleapis/lib/speech/v1.dart#L442</a></code></p><p id="d187" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面有一个看起来很有希望的签名:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="2046" class="ju jv hi kz b fi ld le l lf lg">async.Future&lt;RecognizeResponse&gt; recognize(RecognizeRequest request)</span></pre><p id="2901" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在Node中使用了期货。JS，我意识到样板代码使用了另一个未来，我有我的出发点:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="ba5c" class="ju jv hi kz b fi ld le l lf lg">clientViaServiceAccount(_credentials, _SCOPES).then((...) {...})</span></pre><p id="3bbd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以…的形式:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="21aa" class="ju jv hi kz b fi ld le l lf lg">speech.<strong class="kz hj">speech</strong>.recognize(_recognizeRequest).then((response) {...})</span></pre><p id="ed8a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当<code class="du li lj lk kz b">speech.recognize</code>不工作时，我检查代码并与云存储进行比较，看到:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="d0af" class="ju jv hi kz b fi ld le l lf lg">SpeechResourceApi get <strong class="kz hj">speech</strong> =&gt; new SpeechResourceApi(_requester);</span></pre><p id="5458" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">并意识到我需要添加它(也许应该重新考虑我对第一个的命名)。</p><p id="f32a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">REST API文档显示该方法返回:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="33ac" class="ju jv hi kz b fi ld le l lf lg">{<br/>  "results": [<br/>    {<br/>      object(SpeechRecognitionResult)<br/>    }<br/>  ]<br/>}</span></pre><p id="60d7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是，从源代码来看，很明显这在Dart库中被称为<code class="du li lj lk kz b">RecognizeResponse</code>。我到目前为止:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="4984" class="ju jv hi kz b fi ld le l lf lg">speech.speech.recognize(_recognizeRequest).then((response) {<br/>  for (var result in response.results) {<br/>    print(result.toJson());<br/>  }<br/>});</span></pre><p id="4eb6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是我花了很长时间(正如我上面提到的)才想出如何将Map|JSON传递给命令。最后，我使用源代码(和我的例子)作为我的指南:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="79e9" class="ju jv hi kz b fi ld le l lf lg">final _json = {<br/>  "audio":{<br/>    "content":"<strong class="kz hj">[[SEE BELOW]]</strong>"<br/>  },<br/>  "config": {<br/>    "encoding": "LINEAR16",<br/>    "sampleRateHertz": 16000,<br/>    "languageCode": "en-US"<br/>  }<br/>};<br/>final _recognizeRequest = RecognizeRequest.fromJson(_json);</span></pre><p id="37fd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这似乎符合要求，当我试图<code class="du li lj lk kz b">dart bin/main.dart</code>时，我不再收到令人震惊的错误；-)</p><p id="1cec" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我需要一个(base-64编码的)样本文件。</p><p id="d3be" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">方便的是，Google文档正好涵盖了这个问题:</p><p id="7f59" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://cloud.google.com/speech-to-text/docs/base64-encoding" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/speech-to-text/docs/base64-encoding</a></code></p><p id="94ef" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我猜想，在谷歌的其他样本中，会有一个方便使用的音频文件:</p><p id="14ed" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du li lj lk kz b"><a class="ae jt" href="https://github.com/GoogleCloudPlatform/python-docs-samples/tree/master/speech/cloud-client/resources" rel="noopener ugc nofollow" target="_blank">https://github.com/GoogleCloudPlatform/python-docs-samples/tree/master/speech/cloud-client/resources</a></code></p><p id="6c40" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我用了<code class="du li lj lk kz b">audio.raw</code>。</p><p id="2830" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我浏览了一遍:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="5ae6" class="ju jv hi kz b fi ld le l lf lg">base64 audio.raw -w 0 &gt; audio.b64</span></pre><p id="2c6b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">而且，因为我还不知道如何使用Dart中的文件，所以我也将它的内容复制并粘贴到我的源代码中；-)</p><p id="ee1f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，我运行了它:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="2506" class="ju jv hi kz b fi ld le l lf lg">dart bin/main.dart</span></pre><p id="e0e0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">而且，它成功了:</p><pre class="ku kv kw kx fd ky kz la lb aw lc bi"><span id="4b45" class="ju jv hi kz b fi ld le l lf lg">{<br/>    alternatives: [{<br/>        confidence: 0.9835046,<br/>        transcript: how old is the Brooklyn Bridge<br/>    }]<br/>}</span></pre><h2 id="f7f1" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">结论</h2><p id="5491" class="pw-post-body-paragraph ix iy hi iz b ja kp ij jc jd kq im jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">Google的API的一致性(！)客户端库使得语言之间的转换变得非常容易，因为API客户端库大部分都是相同的(不管是哪种语言),而且Google在记录其REST APIs方面做得非常好。</p><p id="fd29" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我遗漏了一件东西，并且假设它是可用的，那就是Dart APIs的在线文档。很明显，谷歌的资源中包含了大量基于评论的文档，但我找不到展示这些内容的网站。显然，那会很有帮助。</p><blockquote class="ll lm ln"><p id="58c4" class="ix iy lo iz b ja jb ij jc jd je im jf lp jh ji jj lq jl jm jn lr jp jq jr js hb bi translated">19–04–04:<strong class="iz hj">更新</strong> —找到文档:<code class="du li lj lk kz b"><a class="ae jt" href="https://pub.dartlang.org/documentation/googleapis/latest/googleapis.speech.v1/googleapis.speech.v1-library.html" rel="noopener ugc nofollow" target="_blank">https://pub.dartlang.org/documentation/googleapis/latest/googleapis.speech.v1/googleapis.speech.v1-library.html</a></code></p></blockquote><p id="0078" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一般我在学习一个新的Google API的时候，都会用Google的**优* * APIs Explorer来测试调用。在这种情况下，API结构很清楚，我的主要挑战是如何与Google的机器生成的API客户端库进行交互。</p><p id="44a3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望这篇文章能帮助其他人使用Dart(lang)和Google的API客户端库导航。</p><p id="310a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">仅此而已！</p></div></div>    
</body>
</html>