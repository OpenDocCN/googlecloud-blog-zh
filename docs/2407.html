<html>
<head>
<title>Anthos Service Mesh</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Anthos服务网格</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/anthos-service-mesh-a0df02493964?source=collection_archive---------0-----------------------#2022-10-08">https://medium.com/google-cloud/anthos-service-mesh-a0df02493964?source=collection_archive---------0-----------------------#2022-10-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/a5005345e659d04e8f424ad3a294875a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*2sz94jhWbUKBwmp64uzYpw.png"/></div></figure><div class=""/><p id="9101" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">嘿大家，我希望你们都做得很好。在本文中，我想向您概述一下Anthos服务网格。</p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><blockquote class="jr"><p id="5558" class="js jt hp bd ju jv jw jx jy jz ka jj dx translated">如果你想从事科技行业，请订阅<a class="ae kb" href="https://www.youtube.com/c/TheCloudPilot" rel="noopener ugc nofollow" target="_blank">云领航员</a></p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><p id="64c2" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是在深入研究Anthos服务网格之前，我们需要知道什么是服务网格。</p><p id="3843" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">服务网格是一个专用的可配置基础设施层，它处理服务之间的通信，而无需更改微服务架构中的代码。使用服务网格，很容易处理安全性、管理流量、控制可观察性和发现服务。</p><blockquote class="kc kd ke"><p id="287c" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated"><strong class="io hq">了解更多Istio，</strong><a class="ae kb" href="https://pilotudesh.medium.com/list/istio-service-mesh-101-5de21ab4db08" rel="noopener">T5】阅读本 </a></p></blockquote><h1 id="218d" class="kj kk hp bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">Anthos服务网格</h1><blockquote class="jr"><p id="a02a" class="js jt hp bd ju jv jw jx jy jz ka jj dx translated">Anthos Service Mesh是一套工具，可帮助您监控和管理内部或Google Cloud上的可靠服务Mesh。</p></blockquote><p id="9700" class="pw-post-body-paragraph im in hp io b ip lh ir is it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj hb bi translated">Anthos Service Mesh构建于Istio之上，Istio是一个高度可配置且功能强大的开源服务Mesh平台，具有支持行业最佳实践的工具和功能。它作为统一层部署在您的整个基础架构中。它还提供了一个经过Anthos测试并受支持的Istio发行版，允许您在Google云和其他平台上的GKE上创建和部署服务网格。</p><h1 id="c059" class="kj kk hp bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">Anthos服务网状架构</h1><figure class="ln lo lp lq fd hk er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lm"><img src="../Images/da7cecc747b6c5fcf2d2544b1aeb20d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VXQgYlsN7vGIE8Tvf35nng.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">来源:<a class="ae kb" href="https://cloud.google.com/static/service-mesh/docs/images/mesh-arch.svg" rel="noopener ugc nofollow" target="_blank">谷歌云</a></figcaption></figure><h1 id="6c15" class="kj kk hp bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">特征</h1><p id="3487" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">Anthos提供了一组功能，帮助我们以统一的格式观察和管理安全可靠的服务。Anthos服务网格的主要特征是:</p><h2 id="1ca8" class="me kk hp bd kl mf mg mh kp mi mj mk kt ix ml mm kx jb mn mo lb jf mp mq lf mr bi translated">交通管理</h2><p id="4b20" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">Anthos服务网格控制服务之间的流量，包括入口(进入服务网格)和出口(到外部服务)。您可以配置和部署与Istio兼容的定制资源，以管理应用层(L7)的流量。</p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><blockquote class="jr"><p id="1bec" class="js jt hp bd ju jv jw jx jy jz ka jj dx translated">更多参考，请查看我关于<a class="ae kb" rel="noopener" href="/google-cloud/istio-service-mesh-101-part-2-3-ceff88a38558"> Istio交通管理</a>的文章</p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><h2 id="f9f3" class="me kk hp bd kl mf mg mh kp mi mj mk kt ix ml mm kx jb mn mo lb jf mp mq lf mr bi translated">可观察性</h2><p id="2a60" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">Anthos服务网格为您的服务网格提供了许多见解。其中一些是:</p><blockquote class="kc kd ke"><p id="ff22" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">网状网GKE集群内HTTP流量的服务度量和日志</p><p id="fdaf" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">了解服务的预配置服务控制面板</p><p id="b0de" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">深入遥测，深入挖掘服务指标和日志</p><p id="04a7" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">服务对服务的关系</p><p id="37f2" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">服务水平目标(SLO ),用于洞察服务的运行状况</p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><h2 id="8887" class="me kk hp bd kl mf mg mh kp mi mj mk kt ix ml mm kx jb mn mo lb jf mp mq lf mr bi translated">安全性</h2><p id="ca98" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">Anthos Service Mesh提供了在Istio和Google Cloud上实现的安全特性。其中一些是:</p><blockquote class="kc kd ke"><p id="4fe8" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">通过使用mTLS证书进行身份验证来降低模拟风险</p><p id="9641" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">传输中的加密</p><p id="7f1a" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">确保只有经过授权的客户端才能访问包含敏感数据的服务</p><p id="66c3" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">识别哪些客户端访问了包含敏感数据的服务</p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><blockquote class="jr"><p id="ce70" class="js jt hp bd ju jv jw jx jy jz ka jj dx translated">在我的Istio文章中阅读更多关于可观察性和安全性的内容</p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><h1 id="10a1" class="kj kk hp bd kl km ms ko kp kq mt ks kt ku mu kw kx ky mv la lb lc mw le lf lg bi translated">部署Anthos服务网格</h1><p id="992b" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">部署Anthos服务网格有两种不同的选择。它们是:</p><h2 id="7e7f" class="me kk hp bd kl mf mg mh kp mi mj mk kt ix ml mm kx jb mn mo lb jf mp mq lf mr bi translated">集群内控制平面</h2><figure class="ln lo lp lq fd hk er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es lm"><img src="../Images/da7cecc747b6c5fcf2d2544b1aeb20d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VXQgYlsN7vGIE8Tvf35nng.png"/></div></div></figure><p id="6227" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在集群内控制平面中，您使用<strong class="io hq"> <em class="kf"> asmcli </em> </strong>工具为集群内控制平面和边车代理安装Anthos服务网格组件及其功能。这将帮助您在GKE本地或内部平台上安装或升级Anthos Service Mesh。</p><h2 id="00a5" class="me kk hp bd kl mf mg mh kp mi mj mk kt ix ml mm kx jb mn mo lb jf mp mq lf mr bi translated">托管Anthos服务网格</h2><figure class="ln lo lp lq fd hk er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mx"><img src="../Images/44a88bfac40c37abfbadabffc55e6216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JXZaPvvnvNFg22Zv4TA-w.png"/></div></div></figure><p id="18c6" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有了<strong class="io hq">托管的Anthos服务网格</strong>，Google将为您的集群处理升级、扩展和安全问题，从而最大限度地减少用户维护。它由一个受管理的控制平面组成。当受管数据层启用时，您将能够向名称空间添加<strong class="io hq">注释</strong>，这些名称空间安装了管理sidecar代理的集群内控制器。</p><blockquote class="kc kd ke"><p id="21cc" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">您可以选择在Anthos Service Mesh 1.10.4或更高版本中启用托管数据平面。</p></blockquote><h1 id="1cfd" class="kj kk hp bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">Anthos服务网格的可观测性</h1><p id="72c6" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">Anthos服务网格提供了对服务运行状况和性能的可见性。为了获得遥测数据，它依赖于你作为一个单独的容器注入吊舱的边车代理。这些代理拦截所有<strong class="io hq">入口和出口流量</strong>并向<strong class="io hq"> Anthos服务网格</strong>报告。默认情况下，安装Anthos Service Mesh时，<strong class="io hq">云监控</strong>和<strong class="io hq">日志</strong>会自动启用。</p><p id="828d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Anthos Service Mesh还在Google云平台控制台中提供了几个<strong class="io hq">预配置的服务仪表盘</strong>。这将减少手动创建或设置图表或仪表板的任务。这种遥测细节还将使运营商能够观察服务的行为，并帮助他们排除故障，维护和优化他们的应用工作负载。</p><h1 id="2052" class="kj kk hp bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated">Anthos服务网格中的安全性</h1><p id="d027" class="pw-post-body-paragraph im in hp io b ip lz ir is it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj hb bi translated">Anthos Service Mesh还有助于缓解安全威胁，如<strong class="io hq">内部威胁</strong>和<strong class="io hq">降低数据泄露的风险</strong>。这是通过<strong class="io hq">加密</strong>、<strong class="io hq">相互认证</strong>和<strong class="io hq">授权</strong>启用通信来实现的。它还让我们采用一种<strong class="io hq">纵深防御态势</strong>，这种态势通过声明性策略与<strong class="io hq">零信任</strong>的安全原则保持一致，而无需修改应用程序代码。</p><p id="2b7f" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它使用<strong class="io hq"> <em class="kf"> mTLS </em> </strong>或<strong class="io hq"> <em class="kf">相互TLS </em> </strong>进行对等认证。这确保了工作负载可以相互验证身份并进行身份认证。Anthos服务网格提供的一些安全功能包括:</p><blockquote class="kc kd ke"><p id="2a6f" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">自动证书和密钥轮换</p><p id="a3d8" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">Anthos服务网状证书颁发机构(网状CA)</p><p id="90d7" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">使用身份感知代理的用户认证</p><p id="06e1" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">使用您现有的身份提供者进行用户身份验证</p><p id="dbee" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">访问日志记录和监控</p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><blockquote class="kc kd ke"><p id="a442" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">阅读我关于<a class="ae kb" rel="noopener" href="/google-cloud/introduction-to-gke-on-prem-78a42d630eb9"> GKE本地</a>的文章</p><p id="c06f" class="im in kf io b ip iq ir is it iu iv iw kg iy iz ja kh jc jd je ki jg jh ji jj hb bi translated">在LinkedIn上关注我</p></blockquote></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><p id="ee5e" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">这是对Anthos服务网格的高级概述。希望这对你有所帮助。感谢您的阅读。回头见！</strong></p></div></div>    
</body>
</html>