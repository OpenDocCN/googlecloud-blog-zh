<html>
<head>
<title>How to extend your Apache Atlas metadata to Google Data Catalog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将Apache Atlas元数据扩展到Google数据目录</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/how-to-extend-your-apache-atlas-metadata-to-google-data-catalog-e84b8ddc8f59?source=collection_archive---------1-----------------------#2020-07-09">https://medium.com/google-cloud/how-to-extend-your-apache-atlas-metadata-to-google-data-catalog-e84b8ddc8f59?source=collection_archive---------1-----------------------#2020-07-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="cf73" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">从设计决策到逐步执行，了解如何在Google Data Catalog中摄取Apache Atlas元数据，进行完整和增量运行。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a4ce8924b1beea0f33a35f32b8d630f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qzNe7rhvwlL5-bxi6Kv8dg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">在<a class="ae jn" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>上创建的图像。</figcaption></figure><blockquote class="jo jp jq"><p id="526d" class="jr js jt ju b jv jw ij jx jy jz im ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hj"> <em class="hi">免责声明:所有观点均为本人观点，仅代表本人……</em></strong><em class="hi">。</em> <strong class="ju hj"> <em class="hi">它们来自参与开发完全可操作的示例连接器的经验，可用在:</em></strong><a class="ae jn" href="https://github.com/GoogleCloudPlatform/datacatalog-connectors" rel="noopener ugc nofollow" target="_blank"><strong class="ju hj"><em class="hi">github</em></strong></a><strong class="ju hj"><em class="hi">上。</em> </strong></p></blockquote><p id="5fb6" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">如果你错过了关于Apache Atlas和Data Catalog如何构建元数据的最新帖子，请查看<a class="ae jn" rel="noopener" href="/@mesmacosta/a-metadata-comparison-between-apache-atlas-and-google-data-catalog-7e1ad391b4c2">a-metadata-comparison-between-Apache-Atlas-and-Google-Data-Catalog</a>。</p><h1 id="9bff" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">服装胜利公司</h1><p id="8348" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">在本文中，我们将首先创建一个虚构的场景，其中我们有Dress4Victory公司。他们帮助用户在购买服装时获得最优惠的价格，多年来，他们已经从几台服务器发展到几百台服务器。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lo"><img src="../Images/ab3f10c22ba4b7e36a743e2697a8b397.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*u7hWIwH0L8GaXYkXjfxbxQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">服装4胜利公司标志</figcaption></figure><p id="928f" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">该公司有许多分析工作负载要处理和支持他们的用户数据，他们的技术堆栈主要由Hadoop组件组成。</p><p id="5ca8" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">总的来说，他们的元数据管理一团糟。因此，去年他们的首席技术官将Apache Atlas添加到他们的技术堆栈中，以更好地组织他们的元数据，并可视化他们企业的数据结构。</p><p id="881f" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">通过改进他们的元数据管理，它帮助他们解决了许多问题，例如:</p><ul class=""><li id="043e" class="lp lq hi ju b jv jw jy jz ko lr kp ls kq lt kn lu lv lw lx bi translated">分析师花很长时间寻找有意义的数据。</li><li id="c2a6" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated">客户数据无处不在。</li><li id="6f6b" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated">对其数据的访问控制问题。</li><li id="c16b" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated">合规要求被忽略。</li></ul><p id="1e89" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">现在，他们正在将一些工作负载迁移到Google云平台，他担心，自从Apache Atlas开始为他们工作以来，管理他们的元数据将变得更加困难。</p><p id="194b" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">他发现了Google Data Catalog，他很想使用它，因为它得到了全面的管理，并将降低他的运营成本，但目前他们不能将所有东西都迁移到GCP。</p><p id="7540" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">幸运的是，他发现有一个用于apache-atlas的连接器。他想马上开始试验。</p><h1 id="af27" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">完全摄取执行</h1><p id="75d6" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">让我们帮助Dress4Victory，看看Apache Atlas <code class="du md me mf mg b">connector</code>全摄取架构:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mh"><img src="../Images/388b353e8ea8847b4a578bc60453c3f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*etiFgu3L0MIaysueCJRPXg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">完全摄取架构</figcaption></figure><p id="250d" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">每次执行时，它都会:</p><ul class=""><li id="cfc6" class="lp lq hi ju b jv jw jy jz ko lr kp ls kq lt kn lu lv lw lx bi translated"><strong class="ju hj"> Scrape </strong>:连接Apache Atlas，检索所有可用的元数据。</li><li id="b12d" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">准备</strong> : <strong class="ju hj"> </strong>在数据目录实体中转换，用额外的元数据创建标签。</li><li id="1b4b" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">摄取</strong>:将数据目录实体发送到Google Cloud项目。</li></ul><p id="fb6b" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">目前，连接器支持以下Apache Atlas资产类型:</p><ul class=""><li id="a367" class="lp lq hi ju b jv jw jy jz ko lr kp ls kq lt kn lu lv lw lx bi translated"><strong class="ju hj">实体类型</strong>由于Google数据目录有预定义的属性，我们创建了一个额外的模板来丰富Apache Atlas元数据。</li><li id="b955" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">分类类型</strong> <br/>每个分类类型都被转换成一个数据目录模板，因此我们能够授权用户创建标签，<strong class="ju hj"> </strong>使用他们在Apache Atlas中使用的相同分类。如果有分类附加到实体，连接器也会将它们作为标记进行迁移。</li><li id="20bf" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">实体</strong> <br/>每个实体被转换成一个数据目录条目。由于我们在Google数据目录中没有类型结构，所有来自相同类型的条目共享相同的模板<strong class="ju hj">、</strong>，因此用户可以用与在Apache Atlas中相似的方式进行搜索。</li></ul><p id="67e9" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">因为偶数列被表示为Apache Atlas实体，所以这个连接器允许用户将实体类型列表指定为摄取过程中要考虑的命令。</p><blockquote class="jo jp jq"><p id="b027" class="jr js jt ju b jv jw ij jx jy jz im ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在发布时，数据目录不支持沿袭，因此该连接器不使用Apache Atlas中的沿袭信息。如果情况有变，我们可能会考虑更新这个。</p></blockquote><h1 id="a17c" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">运行它</h1><p id="12fb" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">在设置连接器环境之后，按照<a class="ae jn" href="https://github.com/GoogleCloudPlatform/datacatalog-connectors-hive/tree/master/google-datacatalog-apache-atlas-connector" rel="noopener ugc nofollow" target="_blank"> Github repo </a>中的说明，让我们使用它的命令行参数来执行它:</p><pre class="iy iz ja jb fd mi mg mj mk aw ml bi"><span id="8d36" class="mm ks hi mg b fi mn mo l mp mq">#Environment variables<br/>export GOOGLE_APPLICATION_CREDENTIALS=datacatalog_credentials_file<br/>export DATACATALOG_PROJECT_ID=google_cloud_project_id<br/>export APACHE_ATLAS2DC_HOST=localhost<br/>export APACHE_ATLAS2DC_PORT=21000<br/>export APACHE_ATLAS2DC_USER=my-user<br/>export APACHE_ATLAS2DC_PASS=my-pass</span><span id="c113" class="mm ks hi mg b fi mr mo l mp mq">google-datacatalog-apache-atlas-connector sync \<br/>  --datacatalog-project-id $DATACATALOG_PROJECT_ID \<br/>  --atlas-host $APACHE_ATLAS2DC_HOST \<br/>  --atlas-port $APACHE_ATLAS2DC_PORT \<br/>  --atlas-user $APACHE_ATLAS2DC_USER \<br/>  --atlas-pass $APACHE_ATLAS2DC_PASS</span></pre><h2 id="ed40" class="mm ks hi bd kt ms mt mu kx mv mw mx lb ko my mz ld kp na nb lf kq nc nd lh ne bi translated">结果</h2><p id="400a" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">观看视频时打开字幕进行逐步指导。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nf ng l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">全运行Apache Atlas演示</figcaption></figure><p id="0a91" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">现在我们在谷歌数据目录中有了所有的阿帕奇地图集<code class="du md me mf mg b">Classifications</code>和<code class="du md me mf mg b">Entity Types</code>作为<code class="du md me mf mg b">Tag Templates</code>:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nh"><img src="../Images/33b4368ff0ba13713e94acce623121b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVkVsHXcOYvmO73KB21Udw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">Apache Atlas摄取了分类和实体类型</figcaption></figure><p id="4c20" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">和实体作为数据目录<a class="ae jn" href="https://cloud.google.com/data-catalog/docs/how-to/custom-entries" rel="noopener ugc nofollow" target="_blank">自定义条目</a>:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ni"><img src="../Images/714bb95f2065dc09bd8a98d74ef2ead7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2kgvZBUjGdHE5wkI9Am14g.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">Apache Atlas摄取了实体</figcaption></figure><p id="6a01" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">还记得Dress4Victory里的Hadoop组件吗？我们甚至从蜂巢中摄取了一些<code class="du md me mf mg b">loadProcesses</code>，像<code class="du md me mf mg b">loadsalesdaily</code>和<code class="du md me mf mg b">loadsalesmonthly</code>。</p><p id="6a33" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">Dress4Victory非常喜欢这一点，但他们得出的结论是，由于他们有100台服务器，每隔一段时间进行一次完整的接收对他们来说是不合适的。</p><blockquote class="jo jp jq"><p id="4891" class="jr js jt ju b jv jw ij jx jy jz im ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想知道完全摄取4048个Apache Atlas条目需要多长时间，请参阅本文末尾的<strong class="ju hj">执行指标</strong>部分。</p></blockquote><p id="d60f" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">幸运的是，我们有一个进行增量摄入的选项，接下来我们将看看这个选项是如何工作的。</p></div><div class="ab cl nj nk gp nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hb hc hd he hf"><h1 id="8761" class="kr ks hi bd kt ku nq kw kx ky nr la lb io ns ip ld ir nt is lf iu nu iv lh li bi translated">增量摄取执行</h1><p id="cb21" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">如果您不熟悉Apache Atlas，这张图片显示了它们的架构:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nv"><img src="../Images/69e3c647b5affe83d0bf92c3fe6c4b70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oV2o5HhKnp6Qb7Md9sIEXg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来自<a class="ae jn" href="https://atlas.apache.org/1.2.0/Architecture.html" rel="noopener ugc nofollow" target="_blank">图集文档</a>的图集架构</figcaption></figure><p id="4022" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">因此，我们将在连接器增量运行模式下利用Kafka消息传递事件总线:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nw"><img src="../Images/7afa12c2bb710777c09584bc31b22e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uSZJUgbte-tNKBuBizexxw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">增量摄取架构</figcaption></figure><p id="90a6" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">现在我们已经完成了完整的运行，我们可以执行增量摄取。</p><p id="07e8" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">每次执行时，它都会:</p><ul class=""><li id="64ef" class="lp lq hi ju b jv jw jy jz ko lr kp ls kq lt kn lu lv lw lx bi translated"><strong class="ju hj"> Scrape </strong>:监听Apache Atlas event bus上的事件变化，我们看到的是Kafka，检索给定事件的元数据。由于Kafka使用的是一个<a class="ae jn" href="https://kafka.apache.org/documentation/#design_pull" rel="noopener ugc nofollow" target="_blank">拉模型</a>，连接器通过以预先配置的时间间隔轮询元数据来工作。轮询机制，听<a class="ae jn" href="https://atlas.apache.org/1.1.0/Notifications.html" rel="noopener ugc nofollow" target="_blank">图集_实体</a>专题。</li><li id="41f7" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">准备</strong> : <strong class="ju hj"> </strong>在数据目录实体中转换，用额外的元数据创建标签。</li><li id="58bf" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">摄取</strong>:将数据目录实体发送到Google Cloud项目。</li></ul><p id="676d" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">这里的主要区别是，我们的执行速度快得多，我们只需要处理整个元数据的一部分。如果我们有一个高事件吞吐量，我们甚至可以运行连接器的多个实例，为它们分配不同的<a class="ae jn" href="https://kafka.apache.org/25/documentation/streams/architecture" rel="noopener ugc nofollow" target="_blank">分区</a>。</p><h1 id="c17a" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">运行它</h1><p id="075e" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">在设置连接器环境之后，按照<a class="ae jn" href="https://github.com/GoogleCloudPlatform/datacatalog-connectors-hive/tree/master/google-datacatalog-apache-atlas-connector" rel="noopener ugc nofollow" target="_blank"> Github repo </a>中的说明，让我们使用它的命令行参数来执行它:</p><pre class="iy iz ja jb fd mi mg mj mk aw ml bi"><span id="541f" class="mm ks hi mg b fi mn mo l mp mq">#Environment variables<br/>export GOOGLE_APPLICATION_CREDENTIALS=datacatalog_credentials_file<br/>export DATACATALOG_PROJECT_ID=google_cloud_project_id<br/>export APACHE_ATLAS2DC_HOST=localhost<br/>export APACHE_ATLAS2DC_PORT=21000<br/>export APACHE_ATLAS2DC_USER=my-user<br/>export APACHE_ATLAS2DC_PASS=my-pass<br/>export APACHE_ATLAS2DC_EVENT_SERVERS=my-event-server<br/>export APACHE_ATLAS2DC_CONSUMER_GROUP=atlas-event-sync</span><span id="621f" class="mm ks hi mg b fi mr mo l mp mq">google-datacatalog-apache-atlas-connector sync-event-hook \<br/>  --datacatalog-project-id $APACHE_ATLAS2DC_DATACATALOG_PROJECT_ID \<br/>  --atlas-host $APACHE_ATLAS2DC_HOST \<br/>  --atlas-port $APACHE_ATLAS2DC_PORT \<br/>  --atlas-user $APACHE_ATLAS2DC_USER \<br/>  --atlas-pass $APACHE_ATLAS2DC_PASS \<br/>  --event-servers $APACHE_ATLAS2DC_EVENT_SERVERS \<br/>  --event-consumer-group-id $APACHE_ATLAS2DC_CONSUMER_GROUP</span></pre><h2 id="79b8" class="mm ks hi bd kt ms mt mu kx mv mw mx lb ko my mz ld kp na nb lf kq nc nd lh ne bi translated">结果</h2><p id="651e" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">观看视频时打开字幕进行逐步指导。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="nf ng l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">增量运行Apache Atlas演示</figcaption></figure><p id="e6a0" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">通过增量执行，几分钟后我们就可以看到我们在Apache Atlas上添加的列级标记:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nx"><img src="../Images/79488ee9cbe1b806fbbdccf3e6ab01df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tCvc8NGnhrv8tawvja3u1w.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">地址栏中的日志数据标记</figcaption></figure><p id="241f" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">太棒了，现在Dress4Victory很开心。最后，让我们来看看一些执行指标。</p></div><div class="ab cl nj nk gp nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hb hc hd he hf"><h1 id="b359" class="kr ks hi bd kt ku nq kw kx ky nr la lb io ns ip ld ir nt is lf iu nu iv lh li bi translated">执行指标</h1><p id="71f6" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">最后，让我们看一下完整执行生成的一些指标。通过运行一个Apache Atlas 1.0.0实例来收集指标，该实例填充了1013个表、1个StorageDesc、3026列、2个视图、3个数据库和3个LoadProcesses，产生了4048个实体。</p><blockquote class="jo jp jq"><p id="e828" class="jr js jt ju b jv jw ij jx jy jz im ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">以下指标并非保证，而是近似值，可能会因环境、网络和执行情况而异。</p></blockquote><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ny"><img src="../Images/88fabc5d19e1c381294dbb70a73f5e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sh8hTUokgZSIDXiKREqm5A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">度量摘要</figcaption></figure><p id="8490" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">作为参考，谷歌数据目录提供了一个月免费的<code class="du md me mf mg b">1 million</code> API调用层，每个<code class="du md me mf mg b">100,000</code> API调用比<code class="du md me mf mg b">1 million</code> API调用收费10美元。</p><p id="6091" class="pw-post-body-paragraph jr js hi ju b jv jw ij jx jy jz im ka ko kc kd ke kp kg kh ki kq kk kl km kn hb bi translated">另外，如果我们看一下执行时间，<code class="du md me mf mg b">90</code>分钟，该执行消耗了超过<code class="du md me mf mg b">4000</code>的资产，这不是一个小数目的编目资产。好事情是我们有一个选择，做增量运行之后:)。</p><blockquote class="jo jp jq"><p id="259c" class="jr js jt ju b jv jw ij jx jy jz im ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">有关数据目录计费的最新信息，请访问:<a class="ae jn" href="https://cloud.google.com/data-catalog/pricing" rel="noopener ugc nofollow" target="_blank">数据目录计费文档</a>。</p></blockquote></div><div class="ab cl nj nk gp nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hb hc hd he hf"><h1 id="9b10" class="kr ks hi bd kt ku nq kw kx ky nr la lb io ns ip ld ir nt is lf iu nu iv lh li bi translated">样本连接器</h1><p id="351c" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">本文中讨论的所有主题都包含在一个示例连接器中，可以从GitHub上获得:<a class="ae jn" href="https://github.com/GoogleCloudPlatform/datacatalog-connectors-hive/tree/master/google-datacatalog-apache-atlas-connector" rel="noopener ugc nofollow" target="_blank"><strong class="ju hj">Apache-atlas-connector</strong></a>。你可以随便拿，按照说明跑。顺便说一下，欢迎投稿！</p><blockquote class="jo jp jq"><p id="3646" class="jr js jt ju b jv jw ij jx jy jz im ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><em class="hi">它是在Apache许可证版本2.0下许可的，以“原样”为基础发布，没有任何种类的担保或条件，无论是明示还是暗示。</em></p></blockquote></div><div class="ab cl nj nk gp nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hb hc hd he hf"><h1 id="2a74" class="kr ks hi bd kt ku nq kw kx ky nr la lb io ns ip ld ir nt is lf iu nu iv lh li bi translated">结束语</h1><p id="1358" class="pw-post-body-paragraph jr js hi ju b jv lj ij jx jy lk im ka ko ll kd ke kp lm kh ki kq ln kl km kn hb bi translated">在本文中，我们介绍了如何将Apache Atlas中的元数据导入Google Data Catalog，进行完整和增量运行。我们还拜访了一家虚构的公司，该公司将利用Google Data Catalog来扩展其元数据管理，由于这是一个完全托管的无服务器解决方案，它无疑增加了很多价值！干杯！</p><h1 id="c8f1" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">参考</h1><ul class=""><li id="9506" class="lp lq hi ju b jv lj jy lk ko nz kp oa kq ob kn lu lv lw lx bi translated"><strong class="ju hj"> Apache Atlas架构</strong>:<a class="ae jn" href="https://atlas.apache.org/1.2.0/Architecture.html" rel="noopener ugc nofollow" target="_blank">https://atlas.apache.org/1.2.0/Architecture.html</a></li><li id="6a5b" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">数据目录连接器Github Repo</strong>:<a class="ae jn" href="https://github.com/GoogleCloudPlatform/datacatalog-connectors" rel="noopener ugc nofollow" target="_blank">https://Github . com/Google cloud platform/Data Catalog-Connectors</a></li><li id="a47b" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated"><strong class="ju hj">Apache Atlas connector Github Repo:</strong><a class="ae jn" href="https://github.com/GoogleCloudPlatform/datacatalog-connectors-hive/tree/master/google-datacatalog-apache-atlas-connector" rel="noopener ugc nofollow" target="_blank">https://Github . com/Google cloud platform/data catalog-connectors-hive/tree/master/Google-data catalog-Apache-Atlas-connector</a></li><li id="1e52" class="lp lq hi ju b jv ly jy lz ko ma kp mb kq mc kn lu lv lw lx bi translated">数据目录公文:<a class="ae jn" href="https://cloud.google.com/data-catalog/" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/data-catalog</a></li></ul></div></div>    
</body>
</html>