<html>
<head>
<title>Google Cloud DevOps Series: Continuous Development Workflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google Cloud DevOps系列:持续开发工作流</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/part-3-google-devops-continuous-development-workflow-3ef446edfeb7?source=collection_archive---------1-----------------------#2021-11-03">https://medium.com/google-cloud/part-3-google-devops-continuous-development-workflow-3ef446edfeb7?source=collection_archive---------1-----------------------#2021-11-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e0d7" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Google Cloud DevOps系列:第3部分</h2></div><p id="8128" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">欢迎来到Google Cloud DevOps系列的第3部分..你可以在这里找到完整系列<a class="ae jt" rel="noopener" href="/google-cloud/google-cloud-devops-part-1-introduction-to-google-native-devops-process-bfb55be9e3f3"><strong class="iz hj"/></a></p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ju"><img src="../Images/3b1db65b876f280367087dd8b5a24439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xw-1UABifozj4fRoqd3L7w.png"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kg"><img src="../Images/dcd3e1c9add3bf4a778a98c0574356a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*73j6xIqQdXhfWojHn1BMig.png"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kh"><img src="../Images/e6d4de62edb0e18d7e6a68e5269c5bed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0WEq94sxgmizJ8gLqUea3Q.png"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ki"><img src="../Images/89547b027850f91b160e5f0283887d71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ks5YWIpTrUwNCUqsaBKfog.png"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kj"><img src="../Images/687cf39f7c7ed65bf5048af7702ebef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oy20B1Y4MV3MdWu4XSv7zQ.png"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kk"><img src="../Images/47ac334e24b62910a842772479b5fce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KzhoZTNtutN_7lxsC75aXA.png"/></div></div></figure><p id="af62" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">持续开发工作流程:实践演示</strong></p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kl"><img src="../Images/ae04e6d3bf0470d02a5a2e9fecad893e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gdeK7EQuTpDX-f5T"/></div></div></figure><p id="3c28" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“gcloud”是谷歌云的命令行工具。它预装在云壳上。在cloud shell环境中，键入以下命令来设置项目。</p><pre class="jv jw jx jy fd km kn ko kp aw kq bi"><span id="0e78" class="kr ks hi kn b fi kt ku l kv kw">gcloud config set project &lt;Your-Project-Name&gt;</span></pre><p id="b11d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">设置“项目名称”变量</p><pre class="jv jw jx jy fd km kn ko kp aw kq bi"><span id="857a" class="kr ks hi kn b fi kt ku l kv kw">PROJECT_NAME=&lt;Your-Project-Name&gt;</span></pre><p id="4b50" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为发展目的创建GKE集群</p><pre class="jv jw jx jy fd km kn ko kp aw kq bi"><span id="6746" class="kr ks hi kn b fi kt ku l kv kw">gcloud beta container --project "$PROJECT_NAME" clusters create "dev-cluster" --zone "us-central1-a" --no-enable-basic-auth --cluster-version "1.20.10-gke.301" --release-channel "regular" --machine-type "e2-medium" --image-type "COS_CONTAINERD" --disk-type "pd-standard" --disk-size "10" --metadata disable-legacy-endpoints=true --scopes "https://www.googleapis.com/auth/cloud-platform" --max-pods-per-node "110" --num-nodes "6" --logging=SYSTEM,WORKLOAD --monitoring=SYSTEM --enable-ip-alias --network "projects/placeholder-322809/global/networks/default" --subnetwork "projects/placeholder-322809/regions/us-central1/subnetworks/default" --no-enable-intra-node-visibility --default-max-pods-per-node "110" --no-enable-master-authorized-networks --addons HorizontalPodAutoscaling,HttpLoadBalancing,GcePersistentDiskCsiDriver --enable-autoupgrade --enable-autorepair --max-surge-upgrade 1 --max-unavailable-upgrade 0 --enable-shielded-nodes --node-locations "us-central1-a"</span></pre><p id="bb9c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在谷歌云控制台上验证新创建的GKE集群</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kx"><img src="../Images/3ff07e07d2fd44d4c2cda1acd13ae8f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*47YUbahPVrzrSiPw"/></div></div></figure><p id="416c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">转到云外壳并连接到集群</p><pre class="jv jw jx jy fd km kn ko kp aw kq bi"><span id="da72" class="kr ks hi kn b fi kt ku l kv kw">gcloud container clusters get-credentials dev-cluster — zone us-central1-a — project $PROJECT_NAME</span></pre><p id="e683" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">打开<strong class="iz hj">ide.cloud.google.com</strong>并导航到您已经克隆的微服务-演示文件夹。(注意—步骤参见<a class="ae jt" rel="noopener" href="/google-cloud/google-cloud-devops-series-4013adab603b"> <strong class="iz hj">博客-2 </strong> </a> <strong class="iz hj"> </strong>)</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ky"><img src="../Images/7081e6125a5ca7a5b5052d5a8425a1c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2aNnZ09f8cWlfJGQ"/></div></div></figure><p id="0e45" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">找到skaffold.yaml文件</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kz"><img src="../Images/2aecd931d832f201161ca9f13a44cf4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d67ZFrwqZrxEhwtT"/></div></div></figure><p id="8abe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择“云代码”选项</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es la"><img src="../Images/8a73c410db176bb959dd2d78d628018e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EQDi1C9Vi-u3CLc6"/></div></div></figure><p id="55e0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择“在Kubernetes上运行”选项</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es lb"><img src="../Images/8facd1292790411021e5fba250f41d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m5aIuJYzXsPEAWql"/></div></div></figure><p id="88f5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">选择适当的GKE集群</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es lc"><img src="../Images/da2d3869391a50685f8052a47641db68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Oa1SWHrt3xLSVPgL"/></div></div></figure><p id="2a9e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它将开始构建微服务。检查输出部分的进度。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ld"><img src="../Images/deaae6872fa04e551e0acc36f9ec8612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_853KbD45cPKNgdl"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kx"><img src="../Images/740d892edb4f41772fd4e4b7505f43eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CQ4CzOr6H_HKpEfP"/></div></div></figure><p id="d363" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">访问应用程序:</p><p id="b982" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意前端外部服务的公共IP地址。单击公共IP地址，它将在您的默认浏览器中打开应用程序。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kx"><img src="../Images/238bd0ff9026a8bc392a57a3f49cada5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0B8qupBSm_0V_xCR"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kx"><img src="../Images/73e98a11d6ddda15ff2c47a2c46d9dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x59k2nL7VklFPma5"/></div></div></figure><p id="5994" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">更改代码并观察自动部署</p><p id="21cf" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">转到源代码库中的文件“micro services-demo/src/frontend/templates/header . html ”,找到以下文本</p><pre class="jv jw jx jy fd km kn ko kp aw kq bi"><span id="a7ba" class="kr ks hi kn b fi kt ku l kv kw">Free shipping with $75 purchase!</span></pre><p id="5f8b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">把75美元改成150美元</p><pre class="jv jw jx jy fd km kn ko kp aw kq bi"><span id="1c8f" class="kr ks hi kn b fi kt ku l kv kw">Free shipping with $150 purchase!</span></pre><p id="c550" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Skaffold会自动检测到这种变化，启动相应微服务的构建和部署过程。Skaffold不构建和部署与代码变更无关的其他微服务。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kx"><img src="../Images/8bb15a1b6c26a584ab73716fc3970281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tHNGRVPk0qxkDR0O"/></div></div></figure><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kk"><img src="../Images/f48f30bc869eb81e17bc4be098738d9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dHQBiizDufVOgiIoImyZNA.png"/></div></div></figure><h2 id="6ceb" class="kr ks hi bd le lf lg lh li lj lk ll lm jg ln lo lp jk lq lr ls jo lt lu lv lw bi translated">接下来…</h2><p id="866a" class="pw-post-body-paragraph ix iy hi iz b ja lx ij jc jd ly im jf jg lz ji jj jk ma jm jn jo mb jq jr js hb bi translated">在这篇博客中，我们学习了GKE在谷歌云中的持续开发工作流程。现在，古汉变得更加好奇，想知道他如何在谷歌云上为Samajik的集装箱化工作负载实现端到端的CI/CD工作流。请继续收听拉姆和古汉的对话，了解更多相关信息..</p><p id="6048" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">供稿人:<a class="mc md ge" href="https://medium.com/u/41b475b881ff?source=post_page-----3ef446edfeb7--------------------------------" rel="noopener" target="_blank">施吉木尔·阿克</a>、<a class="mc md ge" href="https://medium.com/u/71d9487165c6?source=post_page-----3ef446edfeb7--------------------------------" rel="noopener" target="_blank">丹杜斯</a>、<a class="mc md ge" href="https://medium.com/u/2d47f7f3f8e2?source=post_page-----3ef446edfeb7--------------------------------" rel="noopener" target="_blank">安其特·尼尚特</a>、<a class="mc md ge" href="https://medium.com/u/ad9524f7f7fa?source=post_page-----3ef446edfeb7--------------------------------" rel="noopener" target="_blank">杰瓦纳·黑德</a>、<a class="mc md ge" href="https://medium.com/u/ee905ea343d?source=post_page-----3ef446edfeb7--------------------------------" rel="noopener" target="_blank">图沙尔·古普塔</a></p><p id="b20c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">更新:这里可以看Part-4 <a class="ae jt" rel="noopener" href="/google-cloud/part-4-google-devops-continuous-development-workflow-3feb1ea2227e">。</a></p></div></div>    
</body>
</html>