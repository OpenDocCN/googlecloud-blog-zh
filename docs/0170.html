<html>
<head>
<title>A Boys Name or a Girl’s Name? Ask BigQuery!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">男孩名还是女孩名？问BigQuery！</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/a-boys-name-or-a-girls-name-52a52a9acc1?source=collection_archive---------0-----------------------#2016-11-07">https://medium.com/google-cloud/a-boys-name-or-a-girls-name-52a52a9acc1?source=collection_archive---------0-----------------------#2016-11-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="bace" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">简单的问题往往有复杂的答案</h2></div><blockquote class="ix iy iz"><p id="d422" class="ja jb jc jd b je jf ij jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">最近我一直在玩<a class="ae jx" href="https://cloud.google.com/bigquery/" rel="noopener ugc nofollow" target="_blank"> BigQuery </a>上的<a class="ae jx" href="https://cloud.google.com/bigquery/public-data/" rel="noopener ugc nofollow" target="_blank">公共数据集</a>。我在写我实验时的那些经历，因为——为什么不呢？本文是该系列的一部分。</p></blockquote><p id="a5d7" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">问题的框架——或者它的答案——会导致截然不同的结果。我对“开放数据”充满热情，因为它允许更多的人分析一个给定的问题，并查看任何答案是如何得出的。</p><blockquote class="kb"><p id="98c5" class="kc kd hi bd ke kf kg kh ki kj kk jw dx translated">假设你想回答一个简单的问题:<strong class="ak"><em class="kl">这是女孩的名字还是男孩的名字</em>？”</strong></p></blockquote><p id="52bf" class="pw-post-body-paragraph ja jb hi jd b je km ij jg jh kn im jj jy ko jm jn jz kp jq jr ka kq ju jv jw hb bi translated">男孩和女孩都有很多名字。最受欢迎的五个(至少有10，000个男孩和女孩)，差异最小的是凯瑞、莱利、克里斯、以利沙和罗比——一个孩子的婴儿增加不到5%。</p><h2 id="77ba" class="kr ks hi bd kt ku kv kw kx ky kz la lb jy lc ld le jz lf lg lh ka li lj lk ll bi translated">凯丽是典型的女孩名还是男孩名？</h2><blockquote class="ix iy iz"><p id="fe5b" class="ja jb jc jd b je jf ij jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">想查其他名字？跳到本文末尾，您可以自己查看BigQuery SQL语句。</p></blockquote><p id="b4a5" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">问任何50岁以下的人，他们可能会说这是一个女孩的名字。</p><p id="9db7" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">简单的问题可以有复杂的答案，所以我喜欢良好的可视化所提供的数据密度。这意味着我能提供的最佳答案就是这张信息图。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es lm"><img src="../Images/87fb097eb6f23cd8c479412762abb3c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*K_VflSTliqfvO_dLfn5bQQ.gif"/></div></figure><p id="7c93" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">叫凯瑞的男孩和女孩几乎一样多——事实上男孩稍微多一点。从50年代到70年代，这是一个很流行的名字，但是现在对男孩和女孩来说，这是一个很少见的名字。在南方，它最初是一个男孩的名字，但是在北方，T8一直是女孩的名字。</p><h2 id="36ac" class="kr ks hi bd kt ku kv kw kx ky kz la lb jy lc ld le jz lf lg lh ka li lj lk ll bi translated">展示我的作品</h2><p id="9dbd" class="pw-post-body-paragraph ja jb hi jd b je lu ij jg jh lv im jj jy lw jm jn jz lx jq jr ka ly ju jv jw hb bi translated">我们可以获得自1900年以来在美国出生的婴儿的所有男孩和女孩的名字，所以快速查询显示，到目前为止，共有97，958个克里，男孩略多(51%比49%)。2015年，70%的克里新生儿是男孩。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es lz"><img src="../Images/c00b058ac63822f6abb2160e9fb2955c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0hzTqGkeLTqRen18znydA.png"/></div></div></figure><p id="961c" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">这可能预示着一种趋势——也许凯瑞越来越像一个男孩的名字？另一个简单的查询结果是，没有那么多:</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es me"><img src="../Images/05fb977bbe08aab680f5911c777993f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6kfvk9auTmnex7LMJXcqPw.png"/></div></div></figure><p id="4da1" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">那些双峰令人惊讶。让我们来看看1960年和1971年的地区细分:</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mf"><img src="../Images/4eb0a0f8e78aa0e37ef25bbdea6fe526.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8MozrWTGWd7PXWQGluloNw.png"/></div></div></figure><p id="98b6" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">在东北部，它一直是一个女孩的名字——在南部，它开始，并且很大程度上一直是一个男孩的名字。把所有的东西放在一起，你得到了这个动画，展示了从1960年到1971年男孩名字到女孩名字的变化。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es lm"><img src="../Images/87fb097eb6f23cd8c479412762abb3c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*K_VflSTliqfvO_dLfn5bQQ.gif"/></div></figure><p id="357a" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">我选择Kerry是因为这是最受欢迎、性别最模糊的名字——有近98000名婴儿出生，男孩和女孩的数量只有1%的差异。</p><p id="3a48" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">拥有至少10000个男婴的最受欢迎的女孩名(和总名)是拥有276000个男婴的杰西(女孩比男孩多20%)。)</p><p id="ca1b" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">拥有至少10，000个女婴的最受欢迎的男孩名是凯西，有184，000个男婴的名字比女婴多18%。</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><h1 id="4086" class="mn ks hi bd kt mo mp mq kx mr ms mt lb io mu ip le ir mv is lh iu mw iv lk mx bi translated">使用BigQuery检查其他名称</h1><p id="bce7" class="pw-post-body-paragraph ja jb hi jd b je lu ij jg jh lv im jj jy lw jm jn jz lx jq jr ka ly ju jv jw hb bi translated">这个<a class="ae jx" href="https://cloud.google.com/bigquery/public-data/usa-names" rel="noopener ugc nofollow" target="_blank"> USA Name数据集</a>非常小(~128Mb)，所以你并没有真正利用BigQuery快速分析Pb级数据的能力。另一方面，数据已经加载到那里了——有了一个慷慨的免费层，您真的不必担心运行这些查询会被收费。</p><p id="ec55" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">这些是我用过的查询——把<em class="jc">凯瑞</em>换成你想要的任何名字。</p><h2 id="174a" class="kr ks hi bd kt ku kv kw kx ky kz la lb jy lc ld le jz lf lg lh ka li lj lk ll bi translated">比较给定名字的男婴和女婴的总数</h2><pre class="ln lo lp lq fd my mz na nb aw nc bi"><span id="4d9e" class="kr ks hi mz b fi nd ne l nf ng">SELECT name, sum(number), gender<br/>FROM [fh-bigquery:popular_names.usa_summary_1880_2015] <br/>WHERE name=’Kerry’<br/>GROUP BY name, Gender</span></pre><h2 id="c4e2" class="kr ks hi bd kt ku kv kw kx ky kz la lb jy lc ld le jz lf lg lh ka li lj lk ll bi translated">比较给定年份中给定名字的男婴和女婴的总数</h2><pre class="ln lo lp lq fd my mz na nb aw nc bi"><span id="9c87" class="kr ks hi mz b fi nd ne l nf ng">SELECT name, sum(number), gender<br/>FROM [fh-bigquery:popular_names.usa_summary_1880_2015] <br/>WHERE name=’Kerry’ AND year=2015<br/>GROUP BY name, Gender</span></pre><h2 id="505f" class="kr ks hi bd kt ku kv kw kx ky kz la lb jy lc ld le jz lf lg lh ka li lj lk ll bi translated">用图表表示一段时间内给定名字的男孩和女孩的数量</h2><pre class="ln lo lp lq fd my mz na nb aw nc bi"><span id="5611" class="kr ks hi mz b fi nd ne l nf ng">SELECT year, name, gender, number<br/>FROM [fh-bigquery:popular_names.usa_summary_1880_2015] <br/>WHERE name=’Kerry’</span></pre><p id="9bc8" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">我将结果导出到Google Sheets并做了一个简单的数据透视表，其中列为年份，行为性别，值为数字。那么就很容易绘制成两个线形(或条形)图。</p><h2 id="fc15" class="kr ks hi bd kt ku kv kw kx ky kz la lb jy lc ld le jz lf lg lh ka li lj lk ll bi translated">用图表表示给定时间段内不同州的同名男婴和女婴的数量</h2><pre class="ln lo lp lq fd my mz na nb aw nc bi"><span id="1bd1" class="kr ks hi mz b fi nd ne l nf ng">SELECT year, state, name, gender, number<br/>FROM [fh-bigquery:popular_names.usa_1910_2013] <br/>WHERE name='Kerry' AND year&gt;1959 AND year&lt;1972</span></pre><p id="f9ec" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">对于这一个，我们需要使用包括州人口统计的不同的表。我将结果输出到Google Sheets并再次创建了一个数据透视表——这个数据透视表以州为行，以性别为列，以数字为值。</p><p id="488f" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj jy jl jm jn jz jp jq jr ka jt ju jv jw hb bi translated">为了创建一个更有用的地图，我绘制了每年男婴和女婴数量之间的差异。</p></div></div>    
</body>
</html>