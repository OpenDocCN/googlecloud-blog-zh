<html>
<head>
<title>Translating Hive Queries to BigQuery using Interactive SQL translator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Interactive SQL translator将Hive查询转换为BigQuery</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/translating-hive-queries-to-bigquery-using-interactive-sql-translator-21fe46ad3fc7?source=collection_archive---------1-----------------------#2022-07-12">https://medium.com/google-cloud/translating-hive-queries-to-bigquery-using-interactive-sql-translator-21fe46ad3fc7?source=collection_archive---------1-----------------------#2022-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3c7c3fd1a00925c92bcdee4f3b49ea78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x6J-2pR4cD-ERwEOwKS_Jg.png"/></div></div></figure><p id="18b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Interactive SQL translator是BigQuery控制台的一部分，您可以使用交互式界面翻译各种SQL方言，并实时执行翻译后的查询。这个特性对于开发人员在数据仓库迁移到BigQuery期间测试他们的脚本非常有用。</p><p id="f814" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇博客特别关注使用translator服务将Hive查询翻译成BigQuery SQL。</p><p id="c314" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">组织使用Apache Hive作为分布式数据仓库。Apache Hive是一个建立在Apache Hadoop之上的项目，它旨在对大型数据集执行分析。</p><p id="c6b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">BigQuery是Google完全托管的、Pb级的低成本分析数据仓库。BigQuery是NoOps，因此您可以专注于分析数据以找到有意义的见解，使用熟悉的SQL，并利用我们的现收现付模型。</p><p id="55ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">客户出于各种原因从Hive迁移到BigQuery，例如更好的性能、NoOps serverless消除了管理开销，例如namenode容量问题、自动重新集群等。</p><p id="169b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">BigQuery SQL translator服务可以将各种SQL方言(Amazon Redshift、Teradata、HiveQL、Spark SQL、Azure Synapse T-SQL等多种方言)翻译成BigQuery SQL。</p><p id="b39f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当将Apache Hive迁移到BigQuery时，您可以利用这个翻译服务。</p><p id="ea8d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个截屏显示了如何在BigQuery控制台中翻译配置单元DDL(例如，创建外部表)来创建表。您可以单击Translate来翻译HiveQLs，然后运行来执行查询。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/81b9f2714f43dca70ef9b906b2e9a49f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2QOaWjZFDaS_qyIr"/></div></div></figure><p id="9bae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以添加创建外部表的强制参数格式的外部文件，并单击运行来执行DDL查询。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/f332e23242f344dabdaa9c08718ab651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WqXYAIuTErQEErw1"/></div></div></figure><blockquote class="ju jv jw"><p id="d3f7" class="iq ir jx is b it iu iv iw ix iy iz ja jy jc jd je jz jg jh ji ka jk jl jm jn hb bi translated">在将外部配置单元表迁移到BigQuery时，您可以使用像<a class="ae kb" href="https://github.com/GoogleCloudPlatform/hdfs-to-gcs" rel="noopener ugc nofollow" target="_blank">https://github.com/GoogleCloudPlatform/hdfs-to-gcs</a>这样的最佳解决方案在GCS中暂存外部配置单元表HDFS文件，并在BigQuery中使用Google云存储(GCS)暂存位置创建BigLake表(<a class="ae kb" href="https://cloud.google.com/bigquery/docs/biglake-quickstart" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/bigquery/docs/biglake-quickstart</a>)。通过这种方式，您可以利用基于gRPC的BigQuery存储读取API，它可以更快、更有效地查询外部表数据。</p></blockquote><p id="af57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在像Hive这样的其他数据仓库服务中，有许多参数需要控制和配置集群，以优化各种查询和数据处理需求。BigQuery会为您处理所有必要的查询规划和优化，因此您不必担心管理基础设施或配置设置。BigQuery经过自动优化，可以高效地处理大型数据集。即使数据流入BigQuery，您也可以实时查询它。</p></div></div>    
</body>
</html>