<html>
<head>
<title>Custom Intercom domain using GCP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GCP的自定义内部通信域</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/custom-intercom-domain-using-gcp-fceabab3ab69?source=collection_archive---------1-----------------------#2022-07-08">https://medium.com/google-cloud/custom-intercom-domain-using-gcp-fceabab3ab69?source=collection_archive---------1-----------------------#2022-07-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/7c74627bd96bdac24582da1d41b69253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4LCjiPFTxHCBWIq0wvDhng.png"/></div></div></figure><div class=""/><p id="e622" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇短文描述了如何在Google管理的SSL证书后面添加一个自定义域到Intercom。目前可用的指南仅支持通过CloudFare CDN的基于AWS的解决方案，我们可以轻松地将其复制到GCP。由于不是Intercom官方提供的，所以我决定为Google provider做一个Terraform模块。</p><p id="011e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本指南不包括CDN功能，因为我认为没有必要。文档和地形模块本身可以在<a class="ae jo" href="https://registry.terraform.io/modules/adriantr/intercom/google/latest" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="a81c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该解决方案由三个主要部分组成:</p><ul class=""><li id="19d9" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">解析为LB的IP地址的DNS条目</li></ul><figure class="jy jz ka kb fd hk"><div class="bz dy l di"><div class="kc kd l"/></div></figure><ul class=""><li id="f6c4" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">通过HTTPS向内部通信转发请求的互联网网络端点组</li></ul><figure class="jy jz ka kb fd hk"><div class="bz dy l di"><div class="kc kd l"/></div></figure><ul class=""><li id="5e27" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx bi translated">具有SSL证书的HTTPS代理接收请求并将其转发给后端服务</li></ul><figure class="jy jz ka kb fd hk"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="363d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦部署了该模块，您会注意到负载平衡菜单中有以下负载平衡器:</p><figure class="jy jz ka kb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/f777fe2614c1b076d415decd6d8400c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KWEtdctWzZx9IpQkLYMzhw.png"/></div></div></figure><p id="fb20" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以轻松地导航到证书以检查其状态，也可以导航到后端服务以查看其指向的内容。提供证书后，您应该会看到关于证书本身的以下信息:</p><figure class="jy jz ka kb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kf"><img src="../Images/2961c3d30f7deff5c08332fa3da1c7e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z-Jlzes4kW7sn7BBnJU1kg.png"/></div></div></figure><p id="5742" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当输入主机名时，在本例中是<code class="du kg kh ki kj b">help.kubectl.no</code>，您应该被转到有效SSL证书后面的内部通信的帮助页面。</p></div></div>    
</body>
</html>