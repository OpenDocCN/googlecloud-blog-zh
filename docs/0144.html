<html>
<head>
<title>Containers Four Ways</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">四向容器</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/containers-four-ways-457f4b7dd898?source=collection_archive---------0-----------------------#2016-09-08">https://medium.com/google-cloud/containers-four-ways-457f4b7dd898?source=collection_archive---------0-----------------------#2016-09-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="40fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在当地的一次聚会上，我参加了集装箱会议，集装箱化是一个相对常见的讨论话题。谷歌是容器的大力倡导者，所以在谷歌云平台上有四种不同的方式来运行容器可能并不奇怪。</p><h2 id="99ad" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">Kubernetes和Google容器引擎</h2><p id="e480" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">在谷歌云上运行容器最明显的方式是使用<a class="ae kd" href="http://kubernetes.io" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>和<a class="ae kd" href="https://cloud.google.com/container-engine/" rel="noopener ugc nofollow" target="_blank">谷歌容器引擎</a>。Kubernetes是一个开源的容器编排工具，始于Google。我喜欢你在使用Kubernetes时描述健康的跑步系统应该是什么样子。你写出描述你想要什么样的容器组(pod)，每组需要多少，以及它们应该如何相互通信的文件。Kubernetes在虚拟机上调度容器，并负责联网。</p><p id="0c07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您的系统有多个具有不同伸缩特性的组件时，Kubernetes和Container Engine是一个不错的选择。例如，您可能有一个身份验证服务和一个数据处理服务。使用Kubernetes，您可以轻松适应这些服务的不同伸缩特性。您可以将运行每个服务的容器放在不同的pod中，并为每种类型的pod创建不同的自动缩放规则。Kubernetes为您提供了自动伸缩逻辑和一定程度的自动修复的优势。如果托管您的容器的虚拟机出现故障，Kubernetes会在剩余的主机上自动重新调度在该虚拟机上运行的容器。最后，Kubernetes支持滚动更新，如果您在应用程序上实践连续部署，这是非常好的。</p><h2 id="8a91" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">App Engine Flex</h2><p id="d6dd" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">如果你只有一个容器，而这个容器运行一个web应用，那么<a class="ae kd" href="https://cloud.google.com/appengine/docs/flexible/" rel="noopener ugc nofollow" target="_blank"> App Engine Flex </a>是一个运行它的好方法。App Engine Flex为您提供了App Engine的许多优势(自动扩展、自动修复、集成诊断和简单部署),但您不会受限于App Engine过去使用的受限运行时。相反，每种受支持的语言都有基于Dockerfile的基本图像。如果现有的容器映像不适合您，那么您可以通过使用<a class="ae kd" href="https://cloud.google.com/appengine/docs/flexible/custom-runtimes/" rel="noopener ugc nofollow" target="_blank">自定义运行时间</a>来使用您自己的容器映像。</p><p id="8838" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">App Engine Flex仍处于测试阶段，但如果您的应用程序运行一个网站或web后端，并且您希望在一个完全托管的平台上运行它，那么它是值得一看的。使用App Engine Flex，您可以获得基于容器的平台的所有优势(快速启动时间和可移植性),但如果您不想编写docker文件，则不必自己编写。Flex也非常支持无缝更新你的应用程序。</p><h2 id="932b" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">托管实例组的容器映像</h2><p id="90d7" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">如果只需要运行一个容器，还可以使用在托管实例组上运行的容器映像。<a class="ae kd" href="https://cloud.google.com/compute/docs/instance-groups/deploying-docker-containers" rel="noopener ugc nofollow" target="_blank">托管实例组上的容器映像</a>。此功能目前处于Alpha版本，因此您必须请求将其添加到白名单中才能使用。</p><p id="5049" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使用这种方法在GCP上运行容器，您必须编写自己的docker文件，构建它，并将其推送到Google容器注册表。您也可以使用Docker Hub的公开图片。这种运行容器的方式非常适合不适合网站的容器工作负载，比如数据处理。当您希望完全控制容器在虚拟机上的分布时，这也是一个不错的选择。它既支持在每个虚拟机上运行单个容器，也支持运行多个容器。它目前不支持滚动更新，这是它不适合网站的另一个原因。</p><h2 id="f081" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">谷歌计算引擎</h2><p id="42a8" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">在Google云平台上运行容器的最后一种方法是在普通的旧计算引擎虚拟机上运行容器。以这种方式运行容器可以让您更好地控制它们的运行方式。但是您必须自己安装运行容器的所有基础设施。如果你需要非常严格地控制你的容器如何运行，或者你不准备转移到一个更受管理的工具，这是在GCP上运行容器的另一个选择。</p><h2 id="295f" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">结论</h2><p id="4cca" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">这是在谷歌云平台上运行容器的四种不同方式。希望有一个适合你。</p></div></div>    
</body>
</html>