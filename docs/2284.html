<html>
<head>
<title>Google Cloud Dataplex -Part 3-Data Quality using Cloud DQ</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云数据复合体-第3部分-使用云DQ的数据质量</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/google-cloud-dataplex-part-3-data-quality-using-cloud-dq-b9b1ca5b80b0?source=collection_archive---------0-----------------------#2022-08-04">https://medium.com/google-cloud/google-cloud-dataplex-part-3-data-quality-using-cloud-dq-b9b1ca5b80b0?source=collection_archive---------0-----------------------#2022-08-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="f789" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="82c3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><em class="kb">声明:本文中表达的所有观点都是我个人的，仅代表我个人，不代表我现在或以前的雇主。</em></p><p id="6410" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我打算在Google Cloud Dataplex上发布一系列帖子，从最基础的开始，到最终执行逐渐变得更加复杂的任务。这是本系列的第3部分，描述了如何使用Dataplex数据质量任务为现代数据平台构建一个复杂的、可管理的数据质量组件。</p><p id="2c38" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">到目前为止，这个系列看起来是这样的:</p><p id="ed92" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">第1部分:<a class="ae kh" rel="noopener" href="/google-cloud/google-cloud-dataplex-part-1-lakes-zones-assets-and-discovery-5f288486cb2f">谷歌云数据复合体——第1部分——湖泊、区域、资产和发现</a></p><p id="ce50" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">第2部分:<a class="ae kh" rel="noopener" href="/google-cloud/google-cloud-dataplex-part-2-dataplex-gcloud-cli-819d3c678518"> Google Cloud Dataplex —第2部分—用于Dataplex的g Cloud CLI</a></p><p id="67e5" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">第3部分:Google Cloud Data plex-第3部分-使用云DQ的数据质量(当前帖子)</p><p id="056a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">构建企业数据平台几乎总是需要强大的数据治理实践来确保数据的可信性。数据质量或DQ仍然是数据平台上数据治理实践的最重要支柱之一。</p><p id="9619" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">数据质量定义了表明其有用性的数据内容的属性。</p><p id="886a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">受管DQ产品为最终用户提供了一系列特性和功能，用于测量、监控和改善数据平台的DQ。</p><p id="a885" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">数据质量在概念上可以分为多个阶段，这些阶段代表了数据质量操作通常是如何流动的。</p><p id="e3e0" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这些阶段呈现了事件的概念性流程，有助于对各种DQ能力进行分类。它们不一定反映DQ功能的实施顺序。通常，所有4个阶段的要素都需要到位，以提供可操作的DQ功能。</p><ul class=""><li id="5e13" class="ki kj hi jf b jg kc jk kd jo kk js kl jw km ka kn ko kp kq bi translated"><strong class="jf hj">定义</strong>包括围绕建立DQ基准/规则的众多功能，分为手动和自动DQ规则定义、DQ规则部署和DQ规则治理。</li><li id="45c7" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka kn ko kp kq bi translated"><strong class="jf hj">测量</strong>包括根据预定义的DQ基准/规则测量数据的流程。对于用户来说，这些流程需要高效、可扩展且易于管理(最好是透明的)。此阶段还包括定义如何在数据环境中部署DQ度量。</li><li id="6fbd" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka kn ko kp kq bi translated"><strong class="jf hj">观察</strong>包括捕捉DQ测量输出，并使其对用户可用。此阶段还包括识别DQ输出中可能构成问题的负面模式，并标记它们以供后续故障排除。</li><li id="7a9a" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka kn ko kp kq bi translated"><strong class="jf hj">故障排除</strong>包括解决之前发现的数据问题，包括捕获、交流、区分优先级、上报和补救。</li></ul><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/948776ea12aa3b0b38bda5d72c5bb265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tfTKXk6buQyyRbEejn5VgA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">数据质量生命周期</figcaption></figure><h1 id="2441" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">谷歌云数据质量</h1><p id="a780" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Google cloud上的数据质量不是一项孤立的功能，而是与数据空间中的许多其他流程和功能相互关联的。数据质量既依赖于它们，也支持它们。</p><p id="5dbc" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">Google cloud Dataplex支持在使用Google产品和工具构建的数据平台上进行数据治理。请阅读<a class="ae kh" rel="noopener" href="/google-cloud/google-cloud-dataplex-part-1-lakes-zones-assets-and-discovery-5f288486cb2f">第1部分</a>和<a class="ae kh" rel="noopener" href="/google-cloud/google-cloud-dataplex-part-2-dataplex-gcloud-cli-819d3c678518">第2部分</a>以了解Dataplex的核心功能，data plex是一种智能数据结构，它提供元数据主导的数据管理和内置的数据质量和治理，因此数据从业人员可以减少与基础架构边界和低效问题的斗争，信任静态数据，并花更多时间从这些数据中获取价值。</p><p id="0a83" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">数据质量是Dataplex支持的数据治理的关键部分。</p><p id="5973" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">Dataplex通过一个内置的数据质量任务来支持数据质量，该任务可用于定义规则并在任何BigQuery或Google Cloud Storage (GCS)表上执行。</p><p id="b495" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">Dataplex中的数据质量任务在BigQuery和GCS中为跨数据团队和资产的分布式部署提供了高效的、可伸缩的和完全托管的DQ验证。</p><p id="e990" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">对于数据质量验证，数据质量任务使用Google专业服务组织开发的CloudDQ开源引擎(此处<a class="ae kh" href="https://github.com/GoogleCloudPlatform/cloud-data-quality" rel="noopener ugc nofollow" target="_blank">为</a>)。这些任务可以在由Dataplex管理的无服务器基础设施上按计划或以特定方式运行。</p><p id="aa3f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">Dataplex DQ任务的关键属性如下所示:</p><ol class=""><li id="f2a6" class="ki kj hi jf b jg kc jk kd jo kk js kl jw km ka lm ko kp kq bi translated">CI/CD的声明性规则配置和支持</li><li id="8a47" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka lm ko kp kq bi translated">在BQ和GCS内部进行验证，无需提取数据，受益于BQ的可扩展性并最大限度地降低安全风险</li><li id="3a66" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka lm ko kp kq bi translated">为编程消费(持久BQ存储和云日志记录接收器)设计的端点，支持与UI的定制集成(如BI和元数据管理工具)</li><li id="4b0e" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka lm ko kp kq bi translated">由Dataplex编排的托管执行</li></ol><p id="dd13" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">了解了Dataplex DQ任务的关键特性后，让我们构建一个动手演示来说明Dataplex DQ在实践中是如何工作的。在这个演示中，我们将构建一个Dataplex数据质量任务，并安排它在一个BigQuery表上运行，我们将在任务被安排并成功运行后解释任务的结果。</p><p id="f637" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">步骤1:创建一个新的谷歌云项目</strong></p><p id="bbae" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">创建一个新的谷歌云项目' dataplex-dq-demo '</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/aee5c503209d67d67e6faa3db105ef91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CYTnBfsSg8BW4ov_E710tg.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">一个新的谷歌云项目</figcaption></figure><p id="e44f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">步骤2:创建新的BigQuery数据集</strong></p><p id="e234" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在BigQuery中为我们将要创建的示例表创建一个新的数据集和一个表。</p><p id="b620" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们把数据集称为dataplex_dq_task_demo</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/bfa9740c8984ec9ebcff1eb9824c69a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6A4grSwOrLaCwXmNf9ffPA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">新的BigQuery数据集</figcaption></figure><p id="fa9c" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们使用下面的脚本创建一个名为orders的表:</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="e985" class="ls ig hi lo b fi lt lu l lv lw">CREATE OR REPLACE TABLE dataplex-dq-demo.dataplex_dq_task_demo.orders(</span><span id="2fac" class="ls ig hi lo b fi lx lu l lv lw">ID STRING NOT NULL,</span><span id="3295" class="ls ig hi lo b fi lx lu l lv lw">LAST_MODIFIED_TIMESTAMP TIMESTAMP,</span><span id="8b9b" class="ls ig hi lo b fi lx lu l lv lw">CUSTOMER_ID STRING,</span><span id="1a76" class="ls ig hi lo b fi lx lu l lv lw">ITEM_ID STRING,</span><span id="3183" class="ls ig hi lo b fi lx lu l lv lw">AMOUNT NUMERIC,</span><span id="7d20" class="ls ig hi lo b fi lx lu l lv lw">TRANSACTION_CURRENCY STRING</span><span id="bd1c" class="ls ig hi lo b fi lx lu l lv lw">);</span></pre><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/c35681c4cfaa331dca83fe49321895f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iSwznqZYiiG4gRRo3B26Vg.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">创建新的BigQuery订单表</figcaption></figure><p id="1689" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">第三步:插入一些样本记录</strong></p><p id="d000" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">一旦成功地创建了表，让我们插入一些样本记录，数据质量任务将在这些记录上运行。</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="e893" class="ls ig hi lo b fi lt lu l lv lw">INSERT INTO dataplex-dq-demo.dataplex_dq_task_demo.orders</span><span id="3030" class="ls ig hi lo b fi lx lu l lv lw">(ID,LAST_MODIFIED_TIMESTAMP,CUSTOMER_ID,ITEM_ID,AMOUNT,TRANSACTION_CURRENCY)</span><span id="c819" class="ls ig hi lo b fi lx lu l lv lw">VALUES</span><span id="a328" class="ls ig hi lo b fi lx lu l lv lw">("order1", CURRENT_TIMESTAMP(), "customer1", "ASDWQ123456789012345", 100, "USD"),</span><span id="6c59" class="ls ig hi lo b fi lx lu l lv lw">("order1", CURRENT_TIMESTAMP(), "customer2", "bad_item_id", -10, "XXX"),</span><span id="5d26" class="ls ig hi lo b fi lx lu l lv lw">("order2", CURRENT_TIMESTAMP(), "customer3", "INTNL987654321098765", 50, "GBP"),</span><span id="c1e1" class="ls ig hi lo b fi lx lu l lv lw">("order3", CURRENT_TIMESTAMP(), "customer4", "INTNL932716428593847", 50, "GBP")</span></pre><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/c227b6370bbdf8a1af8f30a5dd2e904e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fWUdwpkPC-nqdNPCuDZ0Mg.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">插入样本记录</figcaption></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/3eaefa3131084d5a18a4a7dd159d1b3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9bV9pEA6s4A0qK2C2Nrvtw.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">检查样本记录</figcaption></figure><p id="5d2d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">步骤4:将BigQuery数据集作为Dataplex资产</strong></p><p id="b980" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">现在，我们将BigQuery数据集映射为Dataplex中的资产。为此，首先，我们创建一个名为dq-demo-lake的数据湖。要了解更多关于如何创建Dataplex湖、区域和资产的信息，请阅读本系列的前两篇博客，<a class="ae kh" rel="noopener" href="/google-cloud/google-cloud-dataplex-part-1-lakes-zones-assets-and-discovery-5f288486cb2f">第一部分</a>和<a class="ae kh" rel="noopener" href="/google-cloud/google-cloud-dataplex-part-2-dataplex-gcloud-cli-819d3c678518">第二部分</a>。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/b8fa5a0e7b241f100ff141511f88a19e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IRV4p6k17maVpxl1InXvXQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">创建一个新的数据湖</figcaption></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/0142ca2eeb9519a20dadcbca6f99b354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BoR0qDk3iWl-Sj5arvgh5w.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">数据湖</figcaption></figure><p id="f70c" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们还在Dataplex lake中创建了一个名为“transactions”的区域，并将其创建为原始区域。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/fc2c210f52d788ffcf7805266915bbf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jfXNSZ0tOJ2LgPSXu6twHA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">创建一个Dataplex原始区域</figcaption></figure><p id="15e8" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们将之前创建的BigQuery数据集作为资产添加到‘transactions’data plex区域中。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/4cee7458d0ecfd794d9b29557be606aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XuMKF0DbNcp4FC_jFvbsAQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">作为Dataplex资产添加的BigQuery数据集</figcaption></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/e954a38b254c84a72cbb96046de203a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08iR44HJ4XDMb7UGqivU2A.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">Dataplex资产已创建</figcaption></figure><p id="2cf9" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们还在同一个项目中创建了另一个数据集，称为“data plex _ dq _ task _ summary _ dataset ”,它将保存数据质量任务运行的结果。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/a72925a8549a37dcbedaeaa0387979bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0RJQxmIYj3Z7lykVBBgCg.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">DQ任务摘要BigQuery数据集</figcaption></figure><p id="d48e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">作为最后一步，我们还创建了一个名为“dq-task-demo-config”的Google云存储桶，用于编写规则的配置文件将存储在这里。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/1e98a7dc06d4b1265489719bfa2c9676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxzSgf3RK6dg328SiP-b1A.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">DQ的Google云存储配置文件</figcaption></figure><p id="19b7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">至此，运行Dataplex数据质量任务的先决条件已经完成。</p><p id="14e5" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">步骤4 : DQ规则配置</strong></p><p id="9da2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们现在用数据质量检查的规则来定义配置文件。</p><p id="c298" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在这一节中，让我们分解规则文件的每个部分，并理解它到底做什么。</p><p id="deb3" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">第一部分提供数据资产的元数据，在本例中是发现BigQuery数据集的Dataplex表。</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="9e64" class="ls ig hi lo b fi lt lu l lv lw">metadata_registry_defaults:</span><span id="af6b" class="ls ig hi lo b fi lx lu l lv lw">  dataplex:</span><span id="ec62" class="ls ig hi lo b fi lx lu l lv lw">    projects: dataplex-dq-demo</span><span id="3cc2" class="ls ig hi lo b fi lx lu l lv lw">    locations: us-central1</span><span id="d8a9" class="ls ig hi lo b fi lx lu l lv lw">    lakes: dq-demo-lake</span><span id="d468" class="ls ig hi lo b fi lx lu l lv lw">    zones: TRANSACTIONS</span></pre><p id="48e3" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">元数据注册表默认值为每个方案定义了默认的entity_uri值。</p><p id="9810" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">对于我们的例子，由于我们使用Dataplex实体，我们将使用entity_uri来发现将应用数据质量规则的表。Dataplex数据质量任务也可以应用于没有使用Dataplex发现的BigQuery表。在这种情况下，除了下面的四个部分，还需要创建一个“实体”部分来描述BigQuery表的模式和列细节。</p><p id="0e59" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">一般来说，除了metadata_registry_defaults，一个配置文件中有4个部分。</p><p id="3817" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">行过滤器</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="562a" class="ls ig hi lo b fi lt lu l lv lw">row_filters:</span><span id="7fd8" class="ls ig hi lo b fi lx lu l lv lw">  INTERNATIONAL_ITEMS:</span><span id="3e31" class="ls ig hi lo b fi lx lu l lv lw">    filter_sql_expr: |-</span><span id="c964" class="ls ig hi lo b fi lx lu l lv lw">      REGEXP_CONTAINS(item_id, 'INTNL')</span></pre><p id="6406" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">行过滤器为从相应实体提取的数据定义过滤条件，以生成用于验证的数据子集。</p><p id="bdae" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">规则维度</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="0338" class="ls ig hi lo b fi lt lu l lv lw">rule_dimensions:</span><span id="0c80" class="ls ig hi lo b fi lx lu l lv lw">  - consistency</span><span id="534e" class="ls ig hi lo b fi lx lu l lv lw">  - correctness</span><span id="fa2c" class="ls ig hi lo b fi lx lu l lv lw">  - duplication</span><span id="0703" class="ls ig hi lo b fi lx lu l lv lw">  - completeness</span><span id="8639" class="ls ig hi lo b fi lx lu l lv lw">  - conformance</span><span id="2750" class="ls ig hi lo b fi lx lu l lv lw">  - integrity</span></pre><p id="a731" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">规则维定义了数据质量规则可以在相应的维字段中定义的数据质量规则维的允许列表。</p><p id="a174" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">规则</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="373b" class="ls ig hi lo b fi lt lu l lv lw">rules:</span><span id="4326" class="ls ig hi lo b fi lx lu l lv lw">  VALUE_ZERO_OR_POSITIVE:</span><span id="9362" class="ls ig hi lo b fi lx lu l lv lw">  rule_type: CUSTOM_SQL_EXPR</span><span id="c142" class="ls ig hi lo b fi lx lu l lv lw">  dimension: correctness</span><span id="1614" class="ls ig hi lo b fi lx lu l lv lw">  params:</span><span id="f4d3" class="ls ig hi lo b fi lx lu l lv lw">    custom_sql_expr: |-</span><span id="5199" class="ls ig hi lo b fi lx lu l lv lw">      $column &gt;= 0</span></pre><p id="deb6" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">规则定义了数据质量验证的可重用逻辑。</p><p id="66b9" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">规则绑定</p><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="90d2" class="ls ig hi lo b fi lt lu l lv lw">rule_bindings:</span><span id="262f" class="ls ig hi lo b fi lx lu l lv lw">TRANSACTION_AMOUNT_VALID:</span><span id="5437" class="ls ig hi lo b fi lx lu l lv lw">  entity_uri: dataplex://projects/dataplex-dq-demo/locations/us-  central1/lakes/dq-demo-lake/zones/transactions/entities/orders</span><span id="a810" class="ls ig hi lo b fi lx lu l lv lw">  column_id: amount</span><span id="f18b" class="ls ig hi lo b fi lx lu l lv lw">  row_filter_id: NONE</span><span id="b7cc" class="ls ig hi lo b fi lx lu l lv lw">  incremental_time_filter_column_id: last_modified_timestamp</span><span id="4668" class="ls ig hi lo b fi lx lu l lv lw">  rule_ids:</span><span id="8604" class="ls ig hi lo b fi lx lu l lv lw">    - VALUE_ZERO_OR_POSITIVE</span></pre><p id="b49b" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">规则绑定定义了一个数据质量验证例程。entity_id / entity_url、column_id、filter_id和rule_id中声明的每个值都是更详细配置的查找关键字，这些配置必须在各自的配置文件中定义。</p><p id="bc8f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">既然我们已经理解了编写规则的配置文件的结构，下面是我们将用于在示例BigQuery表上应用规则的示例文件。</p><h2 id="6c4b" class="ls ig hi bd ih ly lz ma il mb mc md ip jo me mf it js mg mh ix jw mi mj jb mk bi translated">dq_demo_config.yaml</h2><pre class="kx ky kz la fd ln lo lp lq aw lr bi"><span id="12cb" class="ls ig hi lo b fi lt lu l lv lw">metadata_registry_defaults:<br/> dataplex:<br/>   projects: dataplex-dq-demo<br/>   locations: us-central1 <br/>   lakes: dq-demo-lake<br/>   zones: TRANSACTIONS</span><span id="0c50" class="ls ig hi lo b fi lx lu l lv lw">row_filters:<br/> NONE:<br/>   filter_sql_expr: |-<br/>      True<br/> INTERNATIONAL_ITEMS:<br/>   filter_sql_expr: |-<br/>      REGEXP_CONTAINS(item_id, 'INTNL')</span><span id="5a95" class="ls ig hi lo b fi lx lu l lv lw">rule_dimensions:<br/>  - consistency<br/>  - correctness<br/>  - duplication<br/>  - completeness<br/>  - conformance<br/>  - integrity</span><span id="e16f" class="ls ig hi lo b fi lx lu l lv lw">rules:<br/> NO_DUPLICATES_IN_COLUMN_GROUPS:<br/>   rule_type: CUSTOM_SQL_STATEMENT<br/>   dimension: duplication<br/>   params:<br/>     custom_sql_arguments:<br/>       - column_names<br/>     custom_sql_statement: |-<br/>       select a.*<br/>       from data a<br/>       inner join (<br/>         select<br/>           $column_names<br/>         from data<br/>         group by $column_names<br/>         having count(*) &gt; 1<br/>       ) duplicates<br/>       using ($column_names)</span><span id="78ce" class="ls ig hi lo b fi lx lu l lv lw">VALUE_ZERO_OR_POSITIVE:<br/>   rule_type: CUSTOM_SQL_EXPR<br/>   dimension: correctness<br/>   params:<br/>     custom_sql_expr: |-<br/>       $column &gt;= 0</span><span id="1607" class="ls ig hi lo b fi lx lu l lv lw">VALID_ITEM_ID:<br/>   rule_type: REGEX<br/>   dimension: conformance<br/>   params:<br/>     pattern: |-<br/>       [A-Z]{5}[0-9]{15}</span><span id="d296" class="ls ig hi lo b fi lx lu l lv lw">VALID_CURRENCY_ID:<br/>   rule_type: CUSTOM_SQL_EXPR<br/>   dimension: integrity<br/>   params:<br/>     custom_sql_expr: |-<br/>      $column in ('GBP', 'JPY')</span><span id="a9e2" class="ls ig hi lo b fi lx lu l lv lw">rule_bindings:<br/> TRANSACTIONS_UNIQUE:<br/>   entity_uri: dataplex://projects/dataplex-dq-demo/locations/us-central1/lakes/dq-demo-lake/zones/transactions/entities/orders<br/>   column_id: id<br/>   row_filter_id: NONE<br/>   incremental_time_filter_column_id: last_modified_timestamp<br/>   rule_ids:<br/>     - NO_DUPLICATES_IN_COLUMN_GROUPS:<br/>         column_names: "id"</span><span id="7266" class="ls ig hi lo b fi lx lu l lv lw">TRANSACTION_AMOUNT_VALID:<br/>   entity_uri: dataplex://projects/dataplex-dq-demo/locations/us-central1/lakes/dq-demo-lake/zones/transactions/entities/orders<br/>   column_id: amount<br/>   row_filter_id: NONE<br/>   incremental_time_filter_column_id: last_modified_timestamp<br/>   rule_ids:<br/>     - VALUE_ZERO_OR_POSITIVE</span><span id="87aa" class="ls ig hi lo b fi lx lu l lv lw">TRANSACTION_VALID_ITEM_ID:<br/>   entity_uri: dataplex://projects/dataplex-dq-demo/locations/us-central1/lakes/dq-demo-lake/zones/transactions/entities/orders<br/>   column_id: item_id<br/>   row_filter_id: NONE<br/>   incremental_time_filter_column_id: last_modified_timestamp<br/>   rule_ids:<br/>     - VALID_ITEM_ID</span><span id="902c" class="ls ig hi lo b fi lx lu l lv lw">TRANSACTION_CURRENCY_VALID:<br/>   entity_uri: dataplex://projects/dataplex-dq-demo/locations/us-central1/lakes/dq-demo-lake/zones/transactions/entities/orders<br/>   column_id: transaction_currency<br/>   row_filter_id: INTERNATIONAL_ITEMS<br/>   incremental_time_filter_column_id: last_modified_timestamp<br/>   rule_ids:<br/>     - VALID_CURRENCY_ID</span></pre><p id="7337" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">第六步:上传DQ规则配置文件到谷歌云存储</strong></p><p id="3f1a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们需要上传之前已经创建好的云存储桶中的dq_demo_config.yaml规则配置文件‘dq-task-demo-config’。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/521dc5f44d72a3598d0c9b28117a4726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xo2cgVBOcbyEM1UJWQAl_g.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">GCS的DQ规则配置文件</figcaption></figure><p id="3c15" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">步骤7:创建一个Dataplex数据质量任务</strong></p><p id="ace6" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">上传配置文件后，我们现在可以从Google Cloud控制台创建一个Dataplex数据质量任务。同样的任务也可以用gCloud CLI创建。点击左侧导航菜单中的Dataplex -&gt;管理湖泊-&gt;流程。然后点击数据质量-&gt;创建任务。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/f68825e9d8acd24f56fa34f85b287805.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DS5bPPXy8zX75zddKjlqNA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">创建Dataplex数据质量任务</figcaption></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/8e44bfea51f7c8a798e0b8b56f044541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FlvVGWR-Ipnf5crkWMro6w.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">检查数据质量</figcaption></figure><p id="6eca" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">然后单击检查数据质量打开创建任务屏幕。在创建任务屏幕中，需要填写以下字段</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/9b79e627a027f26fa7cd46530a828690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UF0zt7ZTd_5ZElGT8xNFtg.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">创建任务</figcaption></figure><p id="6b33" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">除了任务名称之外，还需要选择规则配置文件，该文件是在指定的云存储桶中上传的。</p><p id="b0dc" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">对于结果表，让我们选择前面创建的BigQuery数据集来存储结果摘要。因为在该数据集中没有创建表，所以让我们添加一个表名，该表将由任务创建。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/e08aa3a254d5e22e3e282f263d15ffd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ddvR1SaYDWmCfNc1r-wh5g.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">选择BigQuery结果表</figcaption></figure><p id="03c5" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">对于此任务，我们安排它立即运行。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/435376c85528f3f678e988241e793044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q5_j9WnfUdxIAHoeeQspEA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">立即计划任务</figcaption></figure><p id="70ae" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">该任务也可以计划为每天、每月、每周运行，如下所示:</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/8ec8d3bc1ee3226d8e993612269bb8d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ngy26nie3oDfZFPPKRisyg.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">每天或每月计划</figcaption></figure><p id="bb4a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">或者，它也可以使用UNIX cron表达式按自定义计划运行:</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/874c831114ae2a3dfeef1cd09d120a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ef464Q50hMfYwyuOUTeBHQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">任务CRON计划</figcaption></figure><p id="fc66" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">任务成功运行后，数据质量控制台会显示“成功”消息</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es ml"><img src="../Images/31479ee9af37df41b83f81c1699387bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ghXpjDsXF3MBran1cd3JjQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">任务成功</figcaption></figure><p id="5e66" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">第八步:BigQuery汇总表上的任务汇总</strong></p><p id="fe7c" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">现在，任务运行已经成功，BigQuery汇总表将保存运行的汇总统计信息。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/3194c76341501225ae8448a696173a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFm9SlUUTTI5PfJRe9NMXw.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">BQ汇总表</figcaption></figure><p id="ab5d" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">如果我们深入到表dq_summary，下面是任务运行细节如何插入到表中:</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/bc3bc8dd7597ed5265f85b4e967066c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bJLObQ7L-gC5dJsRzhSCbA.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">任务运行详细信息</figcaption></figure><p id="aef3" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">每个规则和rule_binding_id与成功计数、成功百分比、失败计数、失败百分比等一起收集..</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/e4f2723b4e33625647ac1e96d51bff43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p2MKPPGibmtoYP7R13uxpQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">规则成功失败计数</figcaption></figure><p id="2088" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">步骤9:使用Google Data Studio的数据质量仪表板</strong></p><p id="a9b8" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">一旦使用任务运行汇总统计信息填充了BigQuery汇总表，就可以使用Google Data Studio在这些数据的基础上构建一个仪表板，可以通过单击表上的Export -&gt; Explore with Data Studio链接来激活该仪表板。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/c15ee77aef259d9432b881ed7c366a43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8--rKNvDjQ4L1rSHkCBmMw.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">使用Google Data Studio探索</figcaption></figure><p id="6fa7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">下面是一个使用Google Data Studio创建的数据质量仪表板示例</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/3b0589eb3eff305b5494bd602ecf1d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ygyUsOLT--rb_xCPirShgQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">样本数据质量仪表板</figcaption></figure><p id="a4bc" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">在本例中，显示了四个图表:</p><ul class=""><li id="5595" class="ki kj hi jf b jg kc jk kd jo kk js kl jw km ka kn ko kp kq bi translated">每个rule_binding_id和dq_run_id的成功验证数据百分比</li><li id="ce10" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka kn ko kp kq bi translated">每个表标识、列标识、规则绑定标识和规则标识的最高验证失败次数</li><li id="8279" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka kn ko kp kq bi translated">每个规则绑定标识和dq运行标识的验证失败计数</li><li id="4d7c" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka kn ko kp kq bi translated">每个dq_run_id的验证成功、失败和空值的计数</li></ul><p id="f367" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">类似地，还可以基于度量和维度来创建不同的数据质量仪表板，并且可以基于成功计数和失败计数以及在指定的数据范围上运行平均值来计算总体质量分数。</p><p id="0dd0" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">总而言之，Dataplex数据质量任务可以用来构建描述实时数据质量度量的复杂的数据质量仪表板。数据质量任务与Google云数据集成产品进行了本机集成，并使用无服务器Spark作业以托管方式运行dq任务。</p><p id="684e" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">作为一个开源项目，cloud-data-quality接收社区反馈以添加功能，并且仍然是在基于Google Cloud的现代数据平台中建立数据质量组件的一种简单和声明性的方式。</p><p id="9057" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">阅读更多信息:</p><ol class=""><li id="4168" class="ki kj hi jf b jg kc jk kd jo kk js kl jw km ka lm ko kp kq bi translated"><a class="ae kh" href="https://github.com/GoogleCloudPlatform/cloud-data-quality" rel="noopener ugc nofollow" target="_blank">谷歌云平台云数据质量</a></li><li id="1ac8" class="ki kj hi jf b jg kr jk ks jo kt js ku jw kv ka lm ko kp kq bi translated"><a class="ae kh" href="https://cloud.google.com/dataplex/docs/check-data-quality" rel="noopener ugc nofollow" target="_blank">谷歌云Dataplex数据质量任务</a></li></ol></div></div>    
</body>
</html>