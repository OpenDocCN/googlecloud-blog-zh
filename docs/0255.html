<html>
<head>
<title>Going #Serverless on Google Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在谷歌云平台上实现#无服务器</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/going-serverless-on-google-cloud-platform-b770803c5ee7?source=collection_archive---------0-----------------------#2017-04-13">https://medium.com/google-cloud/going-serverless-on-google-cloud-platform-b770803c5ee7?source=collection_archive---------0-----------------------#2017-04-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3142" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在叫无服务器的东西很热门。每个开发工具公司都发现了这一点，突然间一切都变得不需要服务器了。</p><p id="df99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实上，在谷歌云未来17个主题演讲中，很多东西都被称为无服务器。这些产品本身就令人惊叹，但是“无服务器”这个词被随意使用，以至于有时令人生厌。</p><p id="165c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不出所料，<a class="ae je" rel="noopener" href="/@cloud_opinion/googles-folly-d57166b40045">人对这个</a>感到不安。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="jk jl l"/></div></figure><p id="6f3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么无服务器到底是什么？还是那句话，什么是无服务器，每个人都有自己的看法。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="jk jl l"/></div></figure><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="jk jl l"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">所以也许只有凯尔西关心这个😊</figcaption></figure><p id="ea94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我来定义一下<em class="jd">我的</em>定义。</p><p id="5b75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将把“云”产品分为四个不同的类别。名字基本上都是编出来的，但这是我觉得有意义的。</p><h2 id="235a" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">1) SaaS</h2><p id="f205" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">最终用户可以直接使用SaaS的产品。没有要供应的东西。你要么为你所使用的付费，要么购买某种批量信用。</p><h2 id="f84a" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">2)无服务器</h2><p id="0a3f" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">开发人员使用无服务器产品来构建高阶产品。没有什么可供应的，但是可能有一些旋钮来调整基础设施。您只需为您使用的内容付费，仅此而已。</p><h2 id="d41e" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">3)管理</h2><p id="460b" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">开发人员使用托管产品来构建高阶产品。开发人员需要提供容量和进行调整，但不需要维护基础设施。当基础设施未被使用时，您需要为多余的基础设施付费。</p><h2 id="1b45" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">4) IaaS</h2><p id="701c" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">IaaS产品反映了内部解决方案，只是您可以在几秒钟/几分钟而不是几天/几个月内调配资源。它们需要明确的供应和维护。当基础设施未被使用时，您需要为多余的基础设施付费。</p><p id="3549" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你同意这种分类吗？我是不是在各方面都完全错了！！？<br/>在评论里告诉我吧！</p></div><div class="ab cl kq kr gp ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hb hc hd he hf"><p id="8318" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将把谷歌云的大部分产品归入这四个类别中的一个。当然，可以提出让产品适合多个类别的论点，但我将做出艰难的决定，只把它们放在一个类别中。我想这会让我很清楚我是如何看待这些类别的。</p></div><div class="ab cl kq kr gp ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hb hc hd he hf"><h1 id="4f60" class="kx jr hi bd js ky kz la jw lb lc ld ka le lf lg kd lh li lj kg lk ll lm kj ln bi translated">1) SaaS</h1><p id="bc43" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated"><a class="ae je" href="https://gsuite.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> G组曲</strong> </a> <br/>明显的进入了这一类。G Suite可供最终用户使用，不需要开发人员做任何事情。当然，Apps脚本可以被认为是无服务器的，但是由于它如此依赖于G Suite的其余部分，它在这一类别中感觉是正确的。</p><p id="a23e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://www.google.com/analytics/data-studio/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Data Studio</strong></a><br/>Data Studio让你为你的Google Analytics、云SQL、BigQuery等数据建立仪表盘。这涉及到许多拖放操作，最终用户可以在没有开发人员支持的情况下高效工作。</p></div><div class="ab cl kq kr gp ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hb hc hd he hf"><h1 id="1f1c" class="kx jr hi bd js ky kz la jw lb lc ld ka le lf lg kd lh li lj kg lk ll lm kj ln bi translated">2)无服务器</h1><p id="7ac8" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/functions" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云功能</strong> </a> <br/>很明显的进入了这个范畴。AWS Lambda开启了FaaS革命，云功能也遵循类似的模式。您编写函数，指定它们触发的时间，调整每次调用分配多少内存/cpu，然后部署。其他的都是为你处理的。您为每个函数调用付费，因此它与您的流量完全匹配。</p><p id="363a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/run" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Cloud Run</strong></a><br/>Google的无服务器容器产品，Cloud Run类似于云功能或App Engine，只是你部署了一个容器而不是代码。其他的都是为你处理的。云对每个传入的请求收费，所以你只需为你所使用的付费。</p><p id="bc4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你也可以使用在GKE上运行的云，在这种情况下，它变得比无服务器更易于管理。更多详情见GKE部分。</p><p id="dfa8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/storage" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云存储</strong> <br/> </a>云存储类似于Google Drive，但最终用户无法使用。它需要开发者在上面构建更高阶的系统。您不需要提供任何东西，只需为您使用的东西付费。您可以通过选择存储桶类型(近线、多区域等)来调整延迟和价格。</p><p id="2daa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/appengine/docs/standard/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> App引擎标准</strong> <br/> </a>首款Google云产品。编写您的代码，调整您想要的内存/cpu数量，并进行部署。其他的都是为你处理的。App Engine Standard可扩展至与您的流量完全匹配，当您没有流量时可扩展至零，因此您只需为您使用的流量付费。</p><p id="a22b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/datastore" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云数据存储</strong> <br/> </a>首个NoSQL数据库亮相Google Cloud。您不需要配置任何东西，只需要读写数据。您需要为每次读/写和您使用的确切存储付费，它会自动扩展。</p><p id="6dd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="http://firebase.google.com" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Firebase实时数据库/托管</strong> <br/> </a>类似于云数据存储，但是直接在前端使用。您不需要配置任何东西，只需要读写数据。您为数据传输和您使用的确切存储空间付费，它会自动扩展。</p><p id="8323" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="http://firebase.google.com" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Cloud Firestore</strong><br/></a>这款下一代数据库结合了数据存储和Firebase实时数据库的优点。您可以从前端(如实时数据库)和服务器(如数据存储)直接使用它，并获得高级查询支持和强大的一致性。您不需要配置任何东西，只需要读写数据。您需要为每次读/写和您使用的确切存储付费，它会自动扩展。</p><p id="106d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/bigquery/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">big query</strong></a><strong class="ih hj"><br/></strong>big query是Google的数据仓库服务，让用户用SQL查询TB的数据。没有什么需要管理的，只是转储/流式传输您的数据并进行查询。您只需支付存储数据和查询数据的费用，无需调配机器或存储或建立索引。</p><p id="ff81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/pubsub/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Pub/Sub</strong></a><strong class="ih hj"><br/></strong>Pub/Sub是Google的多对多异步消息总线(想想Apache Kafka或者RabbitMQ)。不需要提供任何东西，它可以瞬间扩展到每秒数百万条消息。Pub/Sub对每条消息收费，因此您需要为您使用的内容付费。</p><p id="916b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/stackdriver" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">【stack driver(日志、监控、调试、跟踪)</strong></a><br/>stack driver工具让你无需任何设置就能访问强大的工具。他们都有一个免费层，但你可以付费来监控更多的资源和其他云，如AWS。不需要配置或调整任何东西，而且您需要为监控的每个资源付费，因此没有额外的支出。</p><p id="86e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/dataflow/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云数据流</strong> </a> <br/>云数据流使用Apache Beam创建完全托管的ETL、批处理和流分析管道。它会自动缩放来处理您的管道，并在没有剩余工作时缩放回零。</p><h2 id="c3a3" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">3)管理</h2><p id="1731" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/container-engine/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Kubernetes引擎</strong></a><strong class="ih hj"><br/></strong>Google Kubernetes引擎为你一键创建一个Kubernetes集群。Google管理主节点和节点，并为您自动更新它们。您必须提前配置一个集群(尽管有一些自动扩展功能)，因此您要为未使用的资源付费。</p><p id="f262" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/appengine/docs/flexible/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">App Engine Flexible</strong></a><strong class="ih hj"><br/></strong>App Engine Flexible类似于Standard，但是运行在虚拟机上而不是沙箱上。虽然这给了它更多的“灵活性”,但是你失去了标准的“无服务器”魔力。自动扩展和部署没有那么快，但最大的区别是您必须始终运行一个虚拟机实例，这意味着您要为未使用的资源付费。</p><p id="c1bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/sql" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云SQL <br/> </strong> </a>云SQL给你托管MySQL和PostgreSQL实例。Google担心备份、故障转移复制等，这减少了运行数据库的操作开销。虽然有一些自动扩展功能，但您需要提前配置机器和磁盘，这意味着为未使用的资源付费。</p><p id="1928" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/bigtable" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云Bigtable</strong></a><strong class="ih hj"><br/></strong>云Bigtable是Google的HBase兼容NoSQL数据库。虽然存储会自动扩展(您可以选择SSD或HDD)，但您需要选择想要调整性能的节点数量。更多节点=更高性能，但当然您可以过度/不足配置。</p><p id="0d62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" rel="noopener ugc nofollow" target="_blank" href="/google-cloud/cloud.google.com/spanner"> <strong class="ih hj">云扳手</strong> <br/> </a>云扳手类似于BigTable，除了它是全局一致和关系的，而不是NoSQL。这太神奇了！您需要选择想要调优性能的节点数量。更多节点=更高性能，但当然您可以过度/不足配置。</p><p id="0938" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/load-balancing" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云负载平衡(L4/L7)</strong><br/></a>Google Cloud提供的L4和L7负载平衡器都是完全托管的服务，不需要配置、预热或调整。它不属于无服务器类别的唯一原因是，无论负载平衡器处理多少流量，您都必须支付统一的费用来启动它。</p><p id="9f2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/dataproc" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Cloud data proc<br/></strong></a>Cloud data proc启动托管Spark/Hadoop集群。您需要指定想要多少个虚拟机，并对它们进行调优，但之后您就可以使用集群，无需任何额外的设置。即使虚拟机未被使用，您也要为其付费。</p><p id="9200" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/ml-engine/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云机器学习引擎<br/> </strong> </a>云机器学习引擎创建并管理一个分布式TensorFlow集群，供你在上面训练和服务你的模型。您必须调配一个群集，但该群集是完全受管理的，您可以向它提交作业。</p><h2 id="563a" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">4) IaaS</h2><p id="6275" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/compute" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">计算引擎</strong> </a> <strong class="ih hj"> <br/> </strong>这些是Linux和Windows虚拟机。虽然您可以使用托管实例组自动扩展它们，并且您可以做一些很酷的事情，比如让磁盘自动增长，但是最终您要100%负责。</p><p id="b04a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://cloud.google.com/launcher" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">云启动器</strong> </a> <br/>云启动器让您在计算引擎上部署预配置的应用。虽然初始设置是自动的，但是您要负责维护服务器并为未使用的资源付费。</p><p id="54a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你怎么想呢?这有道理吗？这整个辩论值得吗？我错过了什么吗？请让我知道！</p></div></div>    
</body>
</html>