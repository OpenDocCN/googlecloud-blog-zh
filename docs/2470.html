<html>
<head>
<title>Unleashing the Power of Index Advisory Extension on AlloyDB for boosting Performance.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">释放AlloyDB上索引咨询扩展的威力，提升性能。</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/alloydb-and-advisory-extension-for-improving-performance-90f0b06192be?source=collection_archive---------3-----------------------#2022-11-01">https://medium.com/google-cloud/alloydb-and-advisory-extension-for-improving-performance-90f0b06192be?source=collection_archive---------3-----------------------#2022-11-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6eee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一名数据库爱好者。<a class="ae jd" href="https://cloud.google.com/alloydb" rel="noopener ugc nofollow" target="_blank"> <em class="je"> AlloyDB </em> </a>公开预览版的发布确实是令人兴奋和充满希望的谷歌云数据库工作负载发布。最近，AlloyDB Index advisor被宣布为一项通过分析查询运行时指标和推荐索引来提高整体性能特性。点击查看<a class="ae jd" href="https://cloud.google.com/alloydb/docs/release-notes#December_12_2022" rel="noopener ugc nofollow" target="_blank">了解更多详情。</a></p><p id="0e08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AlloyDB带来了Google Cloud的精华，并且与PostgreSQL兼容，PostgreSQL是最受欢迎的开源数据库之一。AlloyDB提供了丰富的特性列表。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="jk jl l"/></div></figure><p id="0500" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看一些精心策划的官方链接，获得关于AlloyDB的有趣见解。</p><blockquote class="jm jn jo"><p id="1772" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><a class="ae jd" href="https://cloud.google.com/blog/products/databases/introducing-alloydb-for-postgresql" rel="noopener ugc nofollow" target="_blank">公告</a><br/><a class="ae jd" href="https://cloud.google.com/blog/products/databases/alloydb-for-postgresql-intelligent-scalable-storage" rel="noopener ugc nofollow" target="_blank">intelligent storage</a><br/><a class="ae jd" href="https://cloud.google.com/blog/products/databases/alloydb-for-postgresql-columnar-engine" rel="noopener ugc nofollow" target="_blank">ColumnarEngine</a><br/><a class="ae jd" href="https://www.gcppodcast.com/post/episode-304-alloydb-with-sandy-ghai-and-gg-goindi/" rel="noopener ugc nofollow" target="_blank">播客</a> <br/> <a class="ae jd" href="https://www.youtube.com/watch?v=YODa-x0_3l0" rel="noopener ugc nofollow" target="_blank">视频-什么是AlloyDB </a> <br/> <a class="ae jd" href="https://www.youtube.com/watch?v=ep2pdW_ywo4" rel="noopener ugc nofollow" target="_blank">视频-简介</a> <br/> <a class="ae jd" href="https://www.youtube.com/watch?v=o5pKfH0Tonw" rel="noopener ugc nofollow" target="_blank">视频-详细介绍</a></p></blockquote><p id="674f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您是数据库开发人员或DBA，性能改进始终是我们的核心工作，并有助于关键工作流的业务SLA。索引一直是促进性能提高的关键驱动力。选择正确的候选索引一直是数据库领域讨论的话题。候选索引涉及多个决策点。</p><blockquote class="jm jn jo"><p id="14e0" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">a柱的选择性如何？</p><p id="18bd" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">它有好的基数或唯一性吗？</p><p id="4f05" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">列数据是倾斜的，并且只为特定的一组值提供选择性。</p><p id="ce6f" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">复合索引的前导列应该是什么</p><p id="54a6" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">在单列和多列索引之间选择</p></blockquote><p id="b824" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主动确定可以从索引中受益的SQL也是一项挑战，因为通常情况下，它在任何性能下降或用户投诉后都会更加被动。</p><p id="e4aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AlloyDB为推荐以<strong class="ih hj"><em class="je">Google _ db _ advisor</em></strong>为扩展名的索引提供了一个简化的自动化解决方案。它分析数据库上查询工作负载，并推荐索引作为提高整体性能的建议。</p><p id="5ccb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看<strong class="ih hj">行动，</strong></p><h2 id="a785" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">步骤1 —创建AlloyDB集群和主实例。</h2><p id="2342" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">作为供应的一部分，我们还为google_db_advisor扩展启用了必要的数据库标志。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ks"><img src="../Images/e8b81a75d2f2326624283f0b98c87816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GEhLHDayIjG1hEFP0z9dtw.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">AlloyDB集群和实例创建</figcaption></figure><h2 id="7f1f" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">步骤2—扩展创建</h2><p id="aa59" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">实例创建后，我们可以验证是否创建了必要的扩展。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ld"><img src="../Images/f8ec1cfb0b3a8b4355c5e9103a42ae7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYEoc54PyVTcErNYMOMsKA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">谷歌数据库顾问扩展。</figcaption></figure><p id="7f47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你会注意到一个额外的扩展<a class="ae jd" href="https://github.com/HypoPG/hypopg" rel="noopener ugc nofollow" target="_blank"><em class="je"/></a>也被创建了。<strong class="ih hj"/></p><h2 id="f6de" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">步骤3—加载样本数据集来测试google_db_advisor</h2><p id="ae51" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我们将利用<a class="ae jd" href="https://www.kaggle.com/datasets/thedevastator/adoptable-dogs-in-the-us" rel="noopener ugc nofollow" target="_blank"> <em class="je">可收养的狗公共数据集</em> </a> <em class="je"> </em>并使用复制命令将其加载到AlloyDB中。</p><p id="8f73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建表格DDL，用于存储可收养的狗数据集。</strong></p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="9e48" class="js jt hi lf b fi lj lk l ll lm">drop <br/> table if not exists tbldogdesc;</span><span id="3289" class="js jt hi lf b fi ln lk l ll lm">CREATE TABLE tbldogdesc(<br/> id BIGINT NOT NULL PRIMARY KEY, <br/> org_id VARCHAR(10) NOT NULL, <br/> url text NOT NULL, <br/> breed_primary VARCHAR(100), <br/> breed_secondary VARCHAR(100), <br/> breed_mixed BOOLEAN, <br/> breed_unknown BOOLEAN, <br/> color_primary VARCHAR(100), <br/> color_secondary VARCHAR(100), <br/> color_tertiary VARCHAR(100), <br/> age VARCHAR(100) NOT NULL, <br/> sex VARCHAR(10) NOT NULL, <br/> size VARCHAR(100), <br/> coat VARCHAR(100), <br/> fixed BOOLEAN, <br/> house_trained BOOLEAN, <br/> declawed VARCHAR(30), <br/> special_needs BOOLEAN, <br/> shots_current BOOLEAN, <br/> env_children BOOLEAN, <br/> env_dogs BOOLEAN, <br/> env_cats BOOLEAN, <br/> name text, <br/> status VARCHAR(9), <br/> posted DATE, <br/> contact_city VARCHAR(100), <br/> contact_state VARCHAR(100), <br/> contact_zip VARCHAR(100), <br/> contact_country VARCHAR(2), <br/> stateQ VARCHAR(100), <br/> description text<br/>);</span></pre><p id="4f27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用复制命令将csv加载到AlloyDB表中。</p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="1d38" class="js jt hi lf b fi lj lk l ll lm"><strong class="lf hj">\copy</strong> public.tbldogdesc from '/home/deepakmahto/allDogDescriptions.csv' (header true , format csv);</span><span id="124f" class="js jt hi lf b fi ln lk l ll lm">postgres=&gt; select count(1) from tbldogdesc ;</span><span id="b43d" class="js jt hi lf b fi ln lk l ll lm"><strong class="lf hj">count<br/>-------<br/>58147</strong></span><span id="9049" class="js jt hi lf b fi ln lk l ll lm">(1 row)</span></pre><h2 id="d221" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">步骤4—模拟索引建议的工作负载</h2><p id="9688" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在工作负载中，我们为具有不同选择性和偏斜度的不同列类型提供了不同的访问模式。</p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="c6c1" class="js jt hi lf b fi lj lk l ll lm">SELECT <br/>  * <br/>from <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">house_trained = true;</em></strong><br/>  <br/>SELECT <br/>  * <br/>from <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">house_trained = false;</em></strong><br/>  <br/>SELECT <br/>  * <br/>from <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">special_needs = true;</em></strong><br/>  <br/>SELECT <br/>  * <br/>from <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">special_needs = false;</em></strong><br/>  <br/>select <br/>  * <br/>from <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">upper(name) = 'HARLEY';</em></strong><br/><br/>  <br/>select <br/>  * <br/>from <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">status = 'adoptable';</em></strong><br/>  <br/>SELECT <br/>  * <br/>FROM <br/>  public.tbldogdesc <br/>where <br/>  <strong class="lf hj"><em class="je">org_id = 'NV129';</em></strong></span></pre><p id="4ff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<strong class="ih hj"> <em class="je"> psql </em> </strong>命令行在AlloyDB上运行工作负载。</p><blockquote class="jm jn jo"><p id="538a" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">注意* :-使用AlloyDB身份验证代理连接到AlloyDB主实例。查看<a class="ae jd" href="https://cloud.google.com/alloydb/docs/auth-proxy/overview" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">这里</strong> </a>了解更多详情。</p></blockquote><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="6128" class="js jt hi lf b fi lj lk l ll lm">PGPASSWORD=******** psql -h localhost -U postgres -d postgres -p 5433 <strong class="lf hj"><em class="je">-f dbadvisor_sample.sql</em></strong> &gt; output.txt</span></pre><h2 id="fe59" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">第五步——分析谷歌数据库顾问的建议。</h2><p id="4423" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">自动捕获工作负载，并对其运行索引建议。我们可以使用AlloyDB提供的google_db_advisor函数来获取推荐索引。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lo"><img src="../Images/e599a21d8b0a851cecd9d58c71c6abf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uo7d4cRK8bTHXGkvTDHs9A.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">谷歌数据库顾问推荐索引</figcaption></figure><p id="fb76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它提供了多个视图来查看工作负载语句、推荐索引等的详细信息。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lp"><img src="../Images/aaba3ed6ee0716bcfb42cbd3e2fbad38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pi8RDg2vOe_rxGvCAJsmrA.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">视图—谷歌数据库顾问</figcaption></figure><p id="6ee7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们对为<br/> AlloyDB执行的工作负载运行索引建议。</p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="4ac5" class="js jt hi lf b fi lj lk l ll lm">select * from <em class="je">google_db_advisor_recommend_indexes</em>();</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lq"><img src="../Images/39516f0947cc542bc2a0a5913046636f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C3Bnt_AQJhkhMMgGMUkEVg.png"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">谷歌数据库顾问推荐索引</figcaption></figure><p id="3cd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于工作负载，我们根据查询模式和列的底层统计信息获得了索引建议。</p><p id="de58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们检查一下作为<em class="je"> google_db_advisor </em>一部分的一些工作负载报告视图。</p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="f121" class="js jt hi lf b fi lj lk l ll lm">select * from <em class="je">google_db_advisor_workload_report</em>;</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lr"><img src="../Images/0376ec447e9a9b71f017b0c720ec2f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iBmwIKVAfed0HzeqwvCo0Q.png"/></div></div></figure><h2 id="3258" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">第6步—验证google db advisor的建议。</h2><p id="c167" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">根据访问模式、选择性、基数和偏斜度来验证对列的索引建议始终是最佳实践。<br/>让我们根据列过滤器，合并狗收养表上SQL工作负载的统计数据。我们可以查询PostgreSQL底层的与stats相关的表，以获得一些列的指标。</p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="7e05" class="js jt hi lf b fi lj lk l ll lm">select attname , null_frac , n_distinct , most_common_vals, most_common_freqs<br/>from pg_stats where tablename = 'tbldogdesc'<br/>and attname in ('house_trained','special_needs','status');</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ls"><img src="../Images/f7e8d86e1329426fbdf7b1dfa121028a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*onQwJq1zHe5AvZ1WlXQ-vA.png"/></div></div></figure><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="798f" class="js jt hi lf b fi lj lk l ll lm">select attname , null_frac , n_distinct , most_common_vals, most_common_freqs<br/>from pg_stats where tablename = 'tbldogdesc'</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lt"><img src="../Images/5bffecadb69e91c636f05abab498247f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZokD834UVwAhuQovl-ZWg.png"/></div></div></figure><p id="7d95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于列的底层统计数据，让我们检查一些数据库工程师或DBA应该很清楚的关键观察。</p><blockquote class="jm jn jo"><p id="b68b" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">建议不支持基于函数的索引— <strong class="ih hj"> upper(name) </strong>。</p><p id="00fe" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">列<strong class="ih hj">状态</strong>上的索引由于<strong class="ih hj">低的不同值而被忽略，它只有1(可采用)。</strong></p><p id="8c5c" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">由于<strong class="ih hj">低不同值</strong>和<strong class="ih hj">无数据偏斜</strong>，忽略列<strong class="ih hj"> house_trained </strong>上的索引</p><p id="11f6" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">建议对列<strong class="ih hj"> org_id </strong>进行索引，因为<strong class="ih hj">具有良好的不同值</strong>并且<strong class="ih hj">具有选择性</strong>。</p><p id="3189" class="if ig je ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">由于真实病例的<strong class="ih hj">数据偏斜，建议在<strong class="ih hj">特殊需求</strong>列添加索引。</strong></p></blockquote><p id="23be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为最佳实践，根据推荐索引上所需的访问模式进行审查和验证并在后续步骤中实施它是至关重要的。</p><h2 id="756c" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">步骤7—创建并测试推荐的索引。</h2><p id="1230" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">现在，我们已经完成了工作负载的运行，生成了推荐的索引，并完成了必要的验证步骤。现在让我们继续前进，创造它。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lu"><img src="../Images/9ee55397ad948b65efc4a88ffa64fcd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T-PJMSB5YBfGCJ8kN1qV4g.png"/></div></div></figure><p id="c8f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将运行explain analyze来验证运行时计划post新索引，并测量与之前的顺序扫描相比的改进(整个表)</p><pre class="jf jg jh ji fd le lf lg lh aw li bi"><span id="37c1" class="js jt hi lf b fi lj lk l ll lm">explain (analyze , buffers)<br/>SELECT * FROM public.tbldogdesc where org_id = 'NV129';</span><span id="8bd0" class="js jt hi lf b fi ln lk l ll lm">explain (analyze , buffers)<br/>SELECT * FROM public.tbldogdesc where special_needs = true;</span><span id="5a19" class="js jt hi lf b fi ln lk l ll lm">explain (analyze , buffers)<br/>SELECT * FROM public.tbldogdesc where special_needs = false;</span></pre><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lv"><img src="../Images/89bb7023e4bb22a18e8a568bd501b21a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ffEwmnHsZDuX39Yfy9tQg.png"/></div></div></figure><p id="147a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所看到的，索引创建对于推荐的工作负载来说是最佳的。它是由底层查询引擎根据选择性和数据偏斜度选择的。</p><h1 id="0119" class="lw jt hi bd ju lx ly lz jy ma mb mc kc md me mf kf mg mh mi ki mj mk ml kl mm bi translated">摘要</h1><p id="d1e2" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">AlloyDB for PostgreSQL为要求苛刻的企业级数据库工作负载带来了最佳的Google云和PostgreSQL。借助Google DB advisory特性，我们可以获得关于提高整体性能的推荐索引，作为主动措施。目前，AlloyDB在公共预览版中可用，用于必要的测试和数据库工作负载资格分析。</p></div></div>    
</body>
</html>