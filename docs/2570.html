<html>
<head>
<title>Kubernetes vs Nomad: Side-by-Side Comparison</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">库伯内特人vs游牧人:并排比较</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/kubernetes-vs-nomad-side-by-side-comparison-8c0ffef27483?source=collection_archive---------0-----------------------#2022-11-30">https://medium.com/google-cloud/kubernetes-vs-nomad-side-by-side-comparison-8c0ffef27483?source=collection_archive---------0-----------------------#2022-11-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d7e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kubernetes是一个容器编排系统，最初由Google设计，现在由云本地计算基金会(CNCF)管理，由Google、Red Hat和许多其他公司开发。自2014年推出以来，Kubernetes 已经成为容器化应用的一个非常受欢迎的选择。Kubernetes旨在提供运行基于Linux容器的应用程序所需的所有特性，包括集群管理、调度、服务发现、监控、秘密管理等等。许多软件/应用程序开发人员依赖于该工具。然而，对于容器编排，市场上还有其他选择。</p><p id="58e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中一个工具是由哈希公司于2015年推出的<a class="ae jd" href="https://www.nomadproject.io/" rel="noopener ugc nofollow" target="_blank">游牧部落</a>。Nomad通常被定位为Kubernetes的替代品，宣传自己是软件/应用程序团队的一个简单、灵活的选择。Nomad的唯一目标是专注于集群管理和调度，其设计理念是在使用Consul for service discovery/service mesh和Vault for secret management等工具的同时拥有一个小范围。</p><p id="cd43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将对这两种容器编排工具进行比较，因此您可以决定哪种工具最适合您各自的应用程序/软件/系统。</p><h1 id="cb5a" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">库伯内特人vs游牧人:相似之处</h1><p id="3f78" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Kubernetes和Nomad都是为容器编排而构建的开源工具，并支持类似的用例。因此，两者都具有一些共同的特征:</p><h2 id="c693" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">自动化调度</h2><p id="fa44" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><strong class="ih hj"> Kubernetes </strong>使用过滤器和分数来保存pod可以绑定的可行机器的排名。该平台使用诸如资源需求、工作负载间干扰、策略约束和相似性规范等因素来记录健康节点。</p><p id="ed2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Nomad </strong>通过使用评估过程来改变节点的状态并使其与作业的期望状态相匹配，从而自动化工作负载调度。</p><h2 id="69a3" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">自动恢复和自我修复部署</h2><p id="cdb7" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><strong class="ih hj"> Kubernetes将pods </strong>重新调度到最健康的可用节点，以防一台工作机出现故障。Kubernetes部署环境还包括类似于<strong class="ih hj">scale set</strong>和<strong class="ih hj">auto scaling group</strong>的功能，支持自修复节点。</p><p id="a04c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Nomad </strong>通过检查每个节点的<strong class="ih hj">紧急状态</strong>来确保自愈。客户端节点的状态失败会触发新的评估，之后Nomad会尝试将紧急状态与系统的期望状态相协调。</p><h2 id="fea5" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">展示和回滚策略</h2><p id="9bb9" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Kubernetes 使用复制集来维护应用程序的期望状态。Kubernetes将滚动更新作为其默认部署策略之一，允许一个渐进的过程来替换pod，一次一个。通过回滚，Kubernetes还允许将部署更新到更早的期望状态。</p><p id="657b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Nomad </strong>通过限制并行性和与HashiCorp的监控接口来确定服务的健康状况，从而实现滚动更新。在部署失败或配置不正常的情况下，Nomad会根据定义的更新策略自动回滚到较旧的正常服务。</p><h2 id="afe5" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">Nomad和Kubernetes存储编排</h2><p id="ecea" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Nomad和Kubernetes都支持符合容器存储接口(CSI)标准的各种第三方插件，允许应用程序附加外部存储卷。通过允许从公共/私有云或裸机内部基础架构消耗存储，这两个平台都允许高效的存储编排来维护有状态的工作负载。</p><h1 id="950c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">库伯内特人vs游牧人:差异</h1><p id="d786" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">虽然这两个平台都是为了容器编排，但Nomad和Kubernetes有一些基本的不同，包括:</p><h1 id="9600" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">简单</h1><p id="c430" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Kubernetes被设计为六个以上互操作服务的集合，它们共同提供完整的功能。协调和存储由核心的etcd提供。状态由API控制器包装，由其他服务使用，这些服务为调度等功能提供更高级别的API。Kubernetes支持在高度可用的配置中运行，但是设置起来操作复杂。</p><p id="b8a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Nomad在架构上要简单得多。Nomad是一个单一的二进制文件，适用于客户机和服务器，不需要外部服务来协调或存储。Nomad将一个轻量级的资源管理器和一个复杂的调度器结合到一个系统中。默认情况下，Nomad是分布式的，高度可用，操作简单。</p><h1 id="c73d" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">灵活的工作负载支持</h1><p id="595a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">虽然Kubernetes特别关注Linux容器，但Nomad更通用。Nomad支持虚拟化、容器化和独立应用，包括Docker、Java、Windows上的IIS、Qemu等。Nomad设计了可扩展的驱动程序，支持将扩展到所有常见的驱动程序。</p><h1 id="b96f" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">一致部署</h1><p id="23b0" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">在生产环境中安装完整的Kubernetes非常耗时，操作复杂，而且需要大量资源。Kubernetes社区创建了越来越多的实现来缓解这些挑战，比如minikube、kubeadm、k3s等等。Kubernetes的这些精简版本使开发和测试更容易采用，但是在进入生产时会导致功能、配置和管理的不一致。</p><p id="f9d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与Kubernetes的分散发行版相比，Nomad作为一个轻量级的二进制文件可以以一致的方式部署在本地开发、生产、本地、边缘和云中，并在所有环境中提供相同的操作易用性。</p><h1 id="074a" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">可量测性</h1><p id="113d" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Kubernetes文档声明他们支持多达5，000个节点和300，000个容器的集群。随着环境的增长，具有不同约束的互操作组件增加了操作的复杂性。甚至谷歌的运营商也透露了管理大规模系统的巨大挑战。联邦项目的不成熟和管理集中式管理平面的额外开销也使得部署跨多个集群的分布式系统变得困难。</p><p id="b9f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实证明，在真实的生产环境中，Nomad可以扩展到超过10，000个节点的集群规模。它可以部署在多个可用性分区、区域和具有单个集群或多个集群的数据中心。Nomad旨在本机处理多集群部署，而没有在集群上运行集群的开销。这使得跨多个数据中心、区域和云扩展应用程序部署变得更加容易，而不会增加复杂性。</p><h1 id="1d6c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">用哪一个</h1><p id="5fe0" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><strong class="ih hj"> Kubernetes </strong>平台拥有广泛的社区支持、增强的可移植性和灵活性、开源、多云支持，被认为是已经在Linux容器上运行应用程序并拥有管理其复杂生态系统的合适技能的组织的完美之选。</p><p id="0d96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Nomad </strong>是一个通用编排平台，可用于管理遗留应用集群、传统批处理作业。Nomad的优势包括易于学习和使用、需要较少的配置管理、不受平台限制、支持基于Windows和基于Linux的容器，这使得它非常适合刚刚开始使用容器编排的组织。</p><h1 id="7e4d" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">摘要</h1><p id="fece" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">与Kubernetes相比，Nomad还不是一个势均力敌的竞争对手，但它是container orchestrator世界中的一个新兴颠覆者，使用一个可移植的二进制代理提供更简单、更可扩展的部署。</p><p id="9eea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然这两个平台都是为了在集群中编排容器而构建的，但它们具有不同的特性和功能，支持不同的用例。</p></div></div>    
</body>
</html>