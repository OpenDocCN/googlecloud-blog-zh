<html>
<head>
<title>3-Tier Application deployment in Google Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google云中的三层应用部署</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/3-tier-application-deployment-in-google-cloud-d474339bccad?source=collection_archive---------0-----------------------#2022-12-23">https://medium.com/google-cloud/3-tier-application-deployment-in-google-cloud-d474339bccad?source=collection_archive---------0-----------------------#2022-12-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/06226559b9914ee2d36f4b0979a3ed75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6K4rrSgzZszOqd-vbzNzeQ.jpeg"/></div></div></figure><p id="8b6b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你正在学习任何云平台，在学习技术的同时获得一些实践经验是非常必要的。在这篇博客中，我将帮助您在GCP上部署一个示例Flask应用程序，集成不同的Google云服务，如<strong class="is hj"> GCE、Cloud SQL、load balancing、</strong>和<strong class="is hj"> Cloud NAT。</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/5bcc2b3d728930619dad9a51534c44ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*24Fwtj-fACsNYulDpEcCSQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">三层应用程序的架构</figcaption></figure><p id="efe4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在继续之前，让我们看看我们要遵循哪些步骤:-</p><p id="a062" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">- <strong class="is hj"> VM设置</strong> <br/> - <strong class="is hj"> Nat配置</strong> <br/> - <strong class="is hj">代码集成</strong> <br/> - <strong class="is hj">负载均衡器设置<br/> -云SQL集成</strong> <br/> - <strong class="is hj"> VPC </strong> <strong class="is hj">网络设置<br/> -测试</strong></p><p id="6dbe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们开始学习吧…..</p><h1 id="e615" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak">步骤1 :-虚拟机设置</strong></h1><p id="81ea" class="pw-post-body-paragraph iq ir hi is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hb bi translated">对于演示，我们将在一个VM实例中托管我们的应用程序，这类似于在您的本地机器上运行您开发的应用程序。</p><p id="888b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们从使用Google Cloud中的计算引擎服务创建一个VM实例开始。</p><pre class="jp jq jr js fd la lb lc ld aw le bi"><span id="53b5" class="lf jy hi lb b fi lg lh l li lj">google cloud console — &gt; In search bar type "GCE" and click on VM instances — &gt; click on <strong class="lb hj">Create Instance</strong></span></pre><ol class=""><li id="6cb9" class="lk ll hi is b it iu ix iy jb lm jf ln jj lo jn lp lq lr ls bi translated">给你的实例起一个合适的名字，然后<strong class="is hj">允许完全访问所有的云API</strong>，然后让一切保持默认。</li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/aa1382bd5dbdd452eac1ba7b1a224310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RRj1NrqEgOWgPr6fYUegXQ.png"/></div></div></figure><p id="7c8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2 .在<strong class="is hj">防火墙设置</strong>部分下，启用<strong class="is hj">允许http </strong>复选框。</p><p id="a58c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.在<strong class="is hj">高级选项</strong>下选择<strong class="is hj">网络接口</strong>现在<strong class="is hj">禁用</strong>外部IPv4地址。</p><p id="b3b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.点击C <strong class="is hj">创建</strong>。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/8f91342b4486929cacc09e70f07dbb27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KBucNOgUKmZESVAin0Iy9Q.png"/></div></div></figure><h1 id="3ab8" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">步骤2:- NAT配置</h1><p id="3192" class="pw-post-body-paragraph iq ir hi is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hb bi translated">由于我们已经禁用了虚拟机中的外部ip，它无法连接到互联网进行不同的目的，如软件包安装等。所以这里我们需要配置<strong class="is hj"> NAT </strong>以便我们的虚拟机可以访问互联网。</p><ol class=""><li id="c7cb" class="lk ll hi is b it iu ix iy jb lm jf ln jj lo jn lp lq lr ls bi translated">转到顶部的搜索栏，搜索<strong class="is hj">网络服务</strong>并点击它。</li><li id="2c45" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">点击屏幕左侧的<strong class="is hj">云NAT </strong>选项。</li><li id="eccc" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">输入一个<strong class="is hj">网关名称</strong>，然后选择我们的虚拟机所在的网络，并选择一个区域<strong class="is hj"> us-west1(Oregon) </strong>，就像我们的例子<strong class="is hj">一样。</strong></li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/c7845e6c4e133d81232f555396a1d279.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SEeHUnj62QjkjIERaoE-0Q.png"/></div></div></figure><p id="94e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.创建一个路由器并给它命名<strong class="is hj"> flask-mig-cr，</strong> cilck <strong class="is hj"> create </strong>然后再次<strong class="is hj"> </strong>点击<strong class="is hj"> create </strong>用默认网络配置NAT。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/451b94226e4401abe4612714528f72b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*CQ8dRU16HS0VRCOf12gb5g.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">创建路由器</figcaption></figure><h1 id="f6bd" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">步骤3:-代码集成</h1><p id="2327" class="pw-post-body-paragraph iq ir hi is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hb bi translated">在这一步中，我们将了解如何在我们的VM中集成应用程序代码，就像在本地开发应用程序一样。您需要先安装和配置您的环境，比如编程语言的依赖性和兼容性，然后才能使用它。</p><ol class=""><li id="0c11" class="lk ll hi is b it iu ix iy jb lm jf ln jj lo jn lp lq lr ls bi translated">使用<strong class="is hj"> gcloud compute scp </strong>命令将所有文件从google cloud shell传输到虚拟机，如下图所示。</li><li id="a986" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">或者，您可以使用git clone命令ssh到虚拟机上。</li></ol><pre class="jp jq jr js fd la lb mc bn md me bi"><span id="2146" class="mf jy hi lb b be mg mh l mi lj">gcloud compute scp --recurse /path/of/folder/at/cloud/shell vmuser@hostname:/path/to/folder</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/ea8f7a711665dec820ac20759fa0a8b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JJm8hPbTff27m5hZovg6cA.png"/></div></div></figure><pre class="jp jq jr js fd la lb mc bn md me bi"><span id="e175" class="mf jy hi lb b be mg mh l li lj">###SSH into your VM and to the installation<br/>##if you don't want to use scp command just git clone the repo inside the VM<br/><br/>sudo apt update -y<br/>sudo apt install python3-pip python3-dev build-essential libssl-dev libffi-dev python3-setuptools -y <br/><br/>pip install flask -y<br/>pip install wheel -y <br/>pip install gunicorn flask -y <br/><br/>sudo apt-get install python3-mysqldb -y<br/></span></pre><p id="9c63" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要下载代码，请点击<a class="ae mk" href="https://github.com/operator670/blogapp" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="ml">github URL</em></strong></a></p><h1 id="45a8" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">步骤4:-负载平衡器设置</h1><p id="9b00" class="pw-post-body-paragraph iq ir hi is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hb bi translated">在这一步中，我们将了解针对基于虚拟机的工作负载(应用程序)的端到端负载平衡器设置。</p><h2 id="d536" class="lf jy hi bd jz mm mn mo kd mp mq mr kh jb ms mt kl jf mu mv kp jj mw mx kt my bi translated">非托管例程组(UMIG)设置</h2><p id="7ad5" class="pw-post-body-paragraph iq ir hi is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hb bi translated">正如我们所知，我们将在这一步中设置负载平衡器，但这里我们无法将虚拟机直接连接到负载平衡器，因此我们需要创建一个UMIG(非托管实例组)或MIG(托管实例组)来将我们的应用程序链接到负载平衡器。</p><p id="9779" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了简单起见，我用的是<strong class="is hj"> UMIG </strong>你也可以用<strong class="is hj"> MIG </strong>但是过程会稍有不同。</p><ol class=""><li id="f9d6" class="lk ll hi is b it iu ix iy jb lm jf ln jj lo jn lp lq lr ls bi translated">点击GCE仪表板左侧的<strong class="is hj">实例组</strong>。</li><li id="2196" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">点击<strong class="is hj">创建实例组</strong>。</li><li id="a674" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">单击<strong class="is hj">新的未管理实例组</strong>，它将使用我们之前创建的虚拟机。在这种情况下，当我们不需要时，我们可以毫无问题地轻松停止我们的虚拟机以节省成本。我们将为演示选择此选项。</li><li id="456b" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">在选择虚拟机选项下，选择先前创建的虚拟机<strong class="is hj">烧瓶-机器。</strong></li><li id="ca01" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">点击<strong class="is hj">创建</strong>。</li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/c0a7bd3b36e66e93e78ce37e2d903a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nalr2PGxLmAFzNdxRGxJ_A.png"/></div></div></figure><p id="1148" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们为我们的应用程序设置负载平衡器。我们将使用<strong class="is hj"> HTTP(S)负载平衡</strong>在非托管实例组的虚拟机上分配流量(在我们的例子中，它只是一个虚拟机)。</p><ol class=""><li id="a66c" class="lk ll hi is b it iu ix iy jb lm jf ln jj lo jn lp lq lr ls bi translated">在搜索栏顶部输入<strong class="is hj">网络服务</strong>并点击它。</li><li id="0244" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">点击左侧的<strong class="is hj">负载平衡</strong>并选择<strong class="is hj">开始配置。</strong></li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es na"><img src="../Images/29547534ccf515088f1afe94f467b38d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MPjbiGy9UjOjAk08IGcFrg.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/788ee583918175a52433a202a165a510.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zPJmEPuiPYHBllsD5ty5_Q.png"/></div></div></figure><p id="6d3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.选择如上图所示的选项。</p><p id="957b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.点击<strong class="is hj">继续。</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/ea3ffdf4ac27a21c02988e707ac08ef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjqs3mtC3rSti6kjbeuS1w.png"/></div></div></figure><p id="f583" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.为前端配置选择上图中给出的所有选项。</p><p id="5cd0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.转到后端配置并创建一个<strong class="is hj">后端服务</strong>确保使用您之前在实例组选项中创建的<strong class="is hj">非托管实例组</strong>，并且<strong class="is hj">取消选中</strong>启用CDN 选项，因为不需要CDN。</p><p id="9f0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.按照下面的图像。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/8aa0ce9501ec9c69f4b5e3f90ed30677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JcOiZb2x8wdOuet0rNR6bw.png"/></div></div></figure><p id="f36c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.单击“查看并完成”并创建负载平衡器。</p><p id="57e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">9.现在检查负载平衡器，并获取稍后将用于访问应用程序的<strong class="is hj"> ip地址</strong>。在我们的例子中，IP是34.110.175.200的<strong class="is hj"/></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ne"><img src="../Images/85c6ee79decd824ebddcec50674bd63a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SD7ZJ2KXNERgSwcNUFhPhA.png"/></div></div></figure><p id="a711" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您成功地完成了这一旅程，那么恭喜您成功地将应用程序与服务集成在一起。现在让我们继续将云SQL实例与我们的flask应用程序集成。</p><h1 id="df79" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">步骤5:-云SQL集成</h1><p id="e3e6" class="pw-post-body-paragraph iq ir hi is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hb bi translated">对于大多数应用程序，我们需要某种数据库来存储数据。在我们的例子中，我们存储的是结构化数据，因此我们需要一个关系数据库。在Google Cloud中，我们有一个完全托管的数据库服务，称为Cloud SQL，我们可以在其中存储我们的数据。</p><ol class=""><li id="0b0a" class="lk ll hi is b it iu ix iy jb lm jf ln jj lo jn lp lq lr ls bi translated">进入顶部的搜索栏，输入<strong class="is hj">云SQL </strong>，选择云SQL服务。</li><li id="2cb7" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">点击<strong class="is hj">创建实例。</strong></li><li id="f5ad" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">选择<strong class="is hj"> MySQL </strong>作为您的数据库引擎</li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nf"><img src="../Images/9def8c535bee4842a542a3229570ea75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C3pblOPWN0hPRjTIhG-W2A.png"/></div></div></figure><p id="76d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.输入您的云SQL实例的I <strong class="is hj">实例ID </strong>并生成一个密码。</p><p id="403a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.选择最新的数据库版本，并选择低成本的<strong class="is hj">开发</strong>模式，因为这是本项目的需要。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ng"><img src="../Images/6b95b207bf205b6a6bf64522c1af8eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*Y5YOsrY-SCIjNr0ujdLUMw.png"/></div></figure><p id="7f11" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.转到连接并选择<strong class="is hj">私有ip </strong>，这是一种更安全的访问数据库的方式，因为它没有公共ip地址，不可能从外部连接。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nh"><img src="../Images/bd91382fa32425265f1f92c6770d88f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*IeBJGb9Ct0B4-rKFd5i7sQ.png"/></div></figure><p id="50c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.点击<strong class="is hj">添加网络</strong>，因为我们想要指定哪个IP地址可以访问数据库。</p><p id="cd05" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.输入负载平衡器的<strong class="is hj"> frontend-IP </strong>(应用程序IP ),因为我们将使用我们的应用程序发布数据。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ni"><img src="../Images/96000451de87631af9e708071776ede3.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*a-MmvUuFZ8BPKI2LMdcoQQ.png"/></div></figure><p id="2ead" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">9.点击<strong class="is hj">创建实例</strong>。</p><p id="9e79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">10.现在转到<strong class="is hj">用户</strong>并创建一个新用户，如下所示。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nj"><img src="../Images/e284f4b48dec7f3232643a3a54c860bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*IeLPfrSe_DKLntoHT2m6yQ.png"/></div></figure><p id="15ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">11.点击<strong class="is hj">添加。</strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nk"><img src="../Images/b17507c39e1c5859de88e17bcb8155e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CsN5o6RYheu92i8jrCcjWQ.png"/></div></div></figure><p id="e7a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建实例后，我们必须确保用于连接SQL实例的端口是打开的。</p><h1 id="c619" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">步骤6:- VPC网络设置</h1><ol class=""><li id="a7ac" class="lk ll hi is b it kv ix kw jb nl jf nm jj nn jn lp lq lr ls bi translated">在搜索栏中输入VPC网络，然后进入VPC网络页面。</li><li id="56c1" class="lk ll hi is b it lv ix lw jb lx jf ly jj lz jn lp lq lr ls bi translated">点击左边的<strong class="is hj">防火墙</strong>。</li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es no"><img src="../Images/33fac8d1a7fce48995da52eb1a3de36e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2kB6XlxxdE1u8Z3c5PDQKg.png"/></div></div></figure><p id="62e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.单击创建防火墙规则。</p><p id="d1dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。</strong>输入名称<strong class="is hj"> default-allow-db </strong>，因为我们稍后将使用云SQL连接到这个端口3306。<br/> 5。<strong class="is hj">目标:网络中的所有实例</strong>只是为了简单起见，在现实世界中最好使用<strong class="is hj">指定的目标标签</strong>以获得更好的安全性。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es np"><img src="../Images/54ef1b4b0aa6b8ce567baa105e3c4cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*yOkwAJugeZoM1PUK_CknPQ.png"/></div></figure><p id="06f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.如上图所示，选择其余选项。</p><p id="8e12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.点击<strong class="is hj">保存</strong>。</p><h1 id="3193" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">步骤7:-测试</h1><ol class=""><li id="146a" class="lk ll hi is b it kv ix kw jb nl jf nm jj nn jn lp lq lr ls bi translated">使用命令<strong class="is hj"> python3 __init__启动服务器。py </strong></li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nq"><img src="../Images/ee72f87c2a6f9d7570c19f45fc6d9dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e5ANT2Y2lN-Mh9zPfICJRw.png"/></div></div></figure><p id="fb0d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.转到您网站的<strong class="is hj">/联系人</strong>页面，在表格中填写详细信息</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nr"><img src="../Images/49692dd6bccf59b0b076f461b06f110f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jinPHTh002vzIkwvCs1S9g.png"/></div></div></figure><p id="53aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.登录到您的<strong class="is hj">数据库</strong>转到<strong class="is hj">云外壳</strong>并使用此命令:-</p><pre class="jp jq jr js fd la lb mc bn md me bi"><span id="0c65" class="mf jy hi lb b be mg mh l mi lj">mysql --host=IP_address of CloudSQL instance -u 'username' -p</span></pre><p id="272a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.为用户输入<strong class="is hj">密码</strong>按<strong class="is hj">回车键。</strong></p><p id="2ae5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.一旦进入mysql shell &gt;</p><pre class="jp jq jr js fd la lb mc bn md me bi"><span id="c5ec" class="mf jy hi lb b be mg mh l mi lj">show databases;<br/>use database_name;  #Replace database_name with codingthunder as in my case<br/>show tables;<br/>select * from contacts;</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ns"><img src="../Images/5a21020dba006a6a59ee2129b4f4478e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9OGvELvnWdraqJE2jie6pg.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nt"><img src="../Images/e4848d413c13e347f11e260f5859036e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qJBnzIMg2oJCJZ7zjgRjCw.png"/></div></div></figure><p id="eb95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">注意:- </strong>插入第一行数据后，进入<strong class="is hj"> __init__。py </strong>文件和<strong class="is hj">注释掉</strong>的<strong class="is hj"> create_table() </strong>函数调用行，因为我们已经创建了表，不需要它们。</p></div><div class="ab cl nu nv gp nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="hb hc hd he hf"><p id="1ef0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您的阅读。如果你喜欢这篇文章，并希望看到更多类似的内容，请考虑关注它。如果您有任何问题或需要任何帮助，请随时给我发电子邮件或通过<a class="ae mk" href="https://www.linkedin.com/in/sarthak-kesarwani/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> LinkedIn </strong> </a>与我联系。</p><p id="3bef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我想对<strong class="is hj"> CodewithHarry </strong>和<strong class="is hj"/><a class="ae mk" href="https://www.youtube.com/@guysinthecloud/videos" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">Guysinthecloud</strong></a><strong class="is hj"/>的烧瓶应用代码大声疾呼。如果你有兴趣了解更多关于代码如何工作的信息，请查看CodewithHarry的<a class="ae mk" href="https://www.youtube.com/watch?v=DD3ou9sa3Z8&amp;list=PLu0W_9lII9agAiWp6Y41ueUKx1VcTRxmf" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">播放列表</strong> </a>。我只包含了演示该项目工作所需的最少代码。</p><p id="0b91" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢，<br/> <a class="ae mk" href="https://www.linkedin.com/in/sarthak-kesarwani/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">萨尔萨克·凯萨瓦尼</strong> </a></p></div></div>    
</body>
</html>