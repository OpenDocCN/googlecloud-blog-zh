# Kubernetes å¯¹è±¡:åç§°ç©ºé—´â˜¸â˜¸

> åŸæ–‡ï¼š<https://medium.com/google-cloud/what-are-namespaces-in-kubernetes-d03c76a83d04?source=collection_archive---------0----------------------->

# Kubernetes ä¸­çš„åç§°ç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ

![](img/47e53241b5264fc599deaaf2b3df59d8.png)

Kubernetes åç§°ç©ºé—´

***åç§°ç©ºé—´*** æ˜¯å°†å•ä¸ª Kubernetes é›†ç¾¤åˆ’åˆ†ä¸ºå¤šä¸ªè™šæ‹Ÿé›†ç¾¤çš„ Kubernetes å¯¹è±¡ã€‚
åœ¨ Kubernetes ä¸­ï¼Œ ***åç§°ç©ºé—´*** æä¾›äº†ä¸€ç§åœ¨å•ä¸ªé›†ç¾¤ä¸­éš”ç¦»èµ„æºç»„çš„æœºåˆ¶ã€‚èµ„æºçš„åç§°åœ¨ä¸€ä¸ªåç§°ç©ºé—´å†…éœ€è¦æ˜¯å”¯ä¸€çš„ï¼Œä½†åœ¨ä¸åŒçš„åç§°ç©ºé—´ä¹‹é—´ä¸éœ€è¦ã€‚

> è®©æˆ‘ä»¬ä½¿ç”¨çœŸå®ä¸–ç•Œçš„ä¾‹å­ï¼Œç”¨éå¸¸ç®€å•çš„æœ¯è¯­æ¥ç†è§£å¤åˆ¶é›†çš„æ¦‚å¿µã€‚

## è®©æˆ‘ä»¬å¼€å§‹å§ï¼ï¼â›ï¸â›ï¸

![](img/186f3915f08c7c59242e8c4a71a51d0a.png)

è®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹åœºæ™¯

å‡è®¾åŠå…¬å®¤æœ‰ä¸‰ä¸ªå›¢é˜Ÿ

1.  è®¾è®¡ç»„
2.  å¼€å‘å›¢é˜Ÿ
3.  æµ‹è¯•å›¢é˜Ÿ

æ‰€ä»¥åœ¨ä¸Šé¢çš„åœºæ™¯ä¸­ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹äº‹æƒ…

*   æ¯ä¸ªå°ç»„å°†è¢«åˆ†é…åˆ°å¤§æ¥¼çš„ä¸åŒæ¥¼å±‚å»å·¥ä½œ
*   æ¯ä¸ªå›¢é˜Ÿéƒ½æœ‰è‡ªå·±çš„èµ„æºæ¥å®Œæˆå·¥ä½œ
*   æ¯ä¸ªå›¢é˜Ÿéƒ½æœ‰ä¸åŒæ•°é‡çš„æˆå‘˜ï¼Œè¿™å–å†³äºä»–ä»¬çš„å·¥ä½œé‡

å›¢é˜Ÿä¸­æ²¡æœ‰äººä¼šä½¿ç”¨å½¼æ­¤çš„èµ„æºï¼Œä¹Ÿä¸ä¼šåœ¨å½¼æ­¤çš„æ¥¼å±‚å·¥ä½œã€‚
åœ¨è¿™é‡Œï¼Œä¸åŒçš„æ¥¼å±‚åŸºæœ¬ä¸Šæœ‰åŠ©äºå°†å›¢é˜Ÿå½¼æ­¤åˆ†å¼€ï¼Œå¹¶é¿å…ä»»ä½•ç±»å‹çš„æ··åˆã€‚

ç°åœ¨è®©æˆ‘ä»¬æŠŠä¸Šé¢çš„ä¾‹å­å’Œåº“ä¼¯å†…ç‰¹æ–¯çš„ä¸–ç•Œè”ç³»èµ·æ¥

*   Kubernetes é›†ç¾¤ä¹Ÿå¯ä»¥æœ‰å¤šç§èµ„æºã€‚
*   èµ„æºå°†æ ¹æ®ä»–ä»¬çš„å·¥ä½œé‡åˆ†é…ç»™ä¸åŒçš„å›¢é˜Ÿã€‚

æ‰€ä»¥é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬å¦‚ä½•å°†èµ„æºå½¼æ­¤åˆ†ç¦»ï¼Œå¹¶åƒçœŸå®ä¸–ç•Œçš„å›¢é˜Ÿä¸€æ ·å°†å®ƒä»¬éš”ç¦»åœ¨ä¸åŒçš„æ¥¼å±‚ã€‚

> å›¾ç‰‡ä¸­çš„**åç§°ç©ºé—´**å‡ºç°äº†ã€‚å› æ­¤ï¼Œåç§°ç©ºé—´åªä¸è¿‡æ˜¯æˆ‘ä»¬åœ¨ Kubernetes é›†ç¾¤ä¸­åˆ›å»ºçš„æŸäº›æˆ¿é—´ï¼Œåªæ˜¯ä¸ºäº†å°†èµ„æºç›¸äº’éš”ç¦»ã€‚
> è¿™æ ·è¿™äº›ä¸åŒçš„åç§°ç©ºé—´(æˆ¿é—´)å¯ä»¥è¢«ä¸åŒçš„å›¢é˜Ÿä½¿ç”¨ï¼Œè€Œä¸ä¼šæœ‰ä»»ä½•ä¸€ä¸ªå›¢é˜Ÿå¼„ä¹±å’Œä½¿ç”¨å…¶ä»–å›¢é˜Ÿçš„èµ„æºã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸‰ä¸ªåç§°ç©ºé—´

1.  è®¾è®¡å›¢é˜Ÿåç§°ç©ºé—´
2.  å¼€å‘å›¢é˜Ÿåç§°ç©ºé—´
3.  æµ‹è¯•å›¢é˜Ÿåç§°ç©ºé—´

é¡¾åæ€ä¹‰ï¼Œä»¥ä¸Šå°†ç”±å„è‡ªçš„å›¢é˜Ÿä½¿ç”¨ï¼Œå¹¶å°†æ‹¥æœ‰è¯¥å›¢é˜Ÿæ‰€éœ€çš„èµ„æºã€‚
è¿™æœ‰åŠ©äºç”¨æˆ·ä¿æŒä¸€åˆ‡éš”ç¦»å’Œæ¸…æ´ã€‚

> ä¸‡å²ï¼ï¼ğŸ¥³ğŸ¥³:æˆ‘ä»¬å·²ç»ç†è§£äº†ä»€ä¹ˆæ˜¯åç§°ç©ºé—´ã€‚
> ç°åœ¨è®©æˆ‘ä»¬ç†è§£ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åç§°ç©ºé—´ğŸ¤” ğŸ¤”

## æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Kubernetes åç§°ç©ºé—´ï¼ŸğŸ˜“ ğŸ˜“

![](img/955cf3442349353cac4922db5ed5a14b.png)

åŸƒæ–‡Â·ä¸¹å°¼æ–¯åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

Kubernetes åç§°ç©ºé—´æœ‰è®¸å¤šç”¨ä¾‹ï¼Œå…¶ä¸­ä¸€äº›å¦‚ä¸‹:

*   ä½¿ç”¨åç§°ç©ºé—´ï¼Œ ***å…è®¸å›¢é˜Ÿæˆ–é¡¹ç›®å­˜åœ¨äºä»–ä»¬è‡ªå·±çš„è™šæ‹Ÿé›†ç¾¤ä¸­*** è€Œä¸ç”¨æ‹…å¿ƒå½±å“å½¼æ­¤çš„å·¥ä½œã€‚
*   ä½¿ç”¨åç§°ç©ºé—´ï¼Œ ***é€šè¿‡å°†ç”¨æˆ·å’Œè¿›ç¨‹é™åˆ¶åˆ°ç‰¹å®šçš„åç§°ç©ºé—´ï¼Œå¢å¼ºäº†åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)*** ã€‚
*   ä½¿ç”¨åç§°ç©ºé—´ï¼Œ ***å¯ä»¥é€šè¿‡èµ„æºé…é¢åœ¨å¤šä¸ªå›¢é˜Ÿ*** å’Œç”¨æˆ·ä¹‹é—´åˆ’åˆ†é›†ç¾¤çš„èµ„æº ***ã€‚***
*   ä½¿ç”¨åç§°ç©ºé—´ï¼Œ ***æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥åˆ†ç¦»*** å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ï¼Œä½¿æ•´ä¸ªç”Ÿå‘½å‘¨æœŸåœ¨åŒä¸€ä¸ªé›†ç¾¤ä¸Šè¿›è¡Œ

## æˆ‘ä»¬å¦‚ä½•åˆ›å»ºåç§°ç©ºé—´ï¼ŸğŸ¤”ğŸ¤”

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ YAML æ–‡ä»¶åˆ›å»ºåç§°ç©ºé—´ã€‚è¦ç”¨ YAML åˆ›å»º Kubernetes åç§°ç©ºé—´ï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œä¸ºå®ƒåˆ†é…å¿…è¦çš„è®¿é—®æƒé™ï¼Œç„¶åå®šä¹‰å¿…è¦çš„é”®-å€¼å¯¹ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªåç§°ç©ºé—´å®šä¹‰æ–‡ä»¶*(****namespace . YAML****)*çš„ä¾‹å­

```
**apiVersion**: v1
**kind**: Namespace
**metadata**:
  **name**: MyNamespace
```

è¿™ä¸ªæ–‡ä»¶ä¸­æœ‰å¾ˆå¤šæ–¹é¢å’Œç»„ä»¶ã€‚è®©æˆ‘ä»¬é€ä¸€åˆ†æğŸ˜€

*   è®©æˆ‘ä»¬ä»`apiVersion`(é”®å€¼å¯¹)å¼€å§‹ã€‚è¿™ç”¨äºè¯´æ˜åœ¨åˆ›å»ºåç§°ç©ºé—´æ—¶ï¼Œæ‚¨å°†åœ¨åå°è¿è¡Œä»€ä¹ˆ API æœåŠ¡å™¨å’Œç‰ˆæœ¬ã€‚
*   æ¥ä¸‹æ¥æ˜¯`kind`,è¡¨ç¤ºè¿™æ˜¯ä¸€ç§å®šä¹‰æ–‡ä»¶ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªâ€œåç§°ç©ºé—´â€ã€‚
*   æ¥ä¸‹æ¥æ˜¯`metadata`ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…æ‹¬é¡¹ç›®åç§°å’Œæ ‡ç­¾çš„å­—å…¸ã€‚å…ƒæ•°æ®å­˜å‚¨åˆ†é…ç»™æ­£åœ¨åˆ›å»ºçš„åç§°ç©ºé—´çš„å€¼ã€‚

æˆ‘ä»¬å·²ç»å®Œæˆäº†åç§°ç©ºé—´å®šä¹‰æ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ã€‚

ä½¿ç”¨æ­¤å‘½ä»¤åŸºäºä¸Šè¿° YAML æ–‡ä»¶åˆ›å»ºå‘½åç©ºé—´:

```
kubectl create -f namespace.yaml
```

***æˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºåç§°ç©ºé—´:***

```
kubectl create namespace MyNamespace
```

## ä½¿ç”¨åç§°ç©ºé—´ğŸ™ŒğŸ™Œ

åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸åŒçš„å’Œæœ€å¸¸ç”¨çš„ kubectl å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å‘½ä»¤åœ¨ Kubernetes é›†ç¾¤ä¸­å¤„ç†åç§°ç©ºé—´ã€‚

![](img/aa59548c2d457cd93e17dfd78d9a65d8.png)

ç…§ç‰‡ç”±[å°¹æ–°è£](https://unsplash.com/@insungyoon?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) æ‹æ‘„

ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä»ç‰¹å®šçš„åç§°ç©ºé—´(è¿™é‡Œæ˜¯â€œç”Ÿäº§â€)è·å– pod åˆ—è¡¨

```
kubectl get pods --namespace=production
```

ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åœ¨ç‰¹å®šçš„åç§°ç©ºé—´ä¸­åˆ›å»º POD(è¿™é‡Œæ˜¯â€œdevelopmentâ€)

```
kubectl create â€“f pod-definition.yml --namespace=development
```

ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ›´æ”¹æ‚¨æ‰€åœ¨/å·¥ä½œçš„åç§°ç©ºé—´(è¿™é‡Œæ˜¯â€œå¼€å‘â€)

```
kubectl config set-context $(kubectl config current-context)       
--namespace=development
```

ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä» K8s é›†ç¾¤ä¸­å­˜åœ¨çš„æ‰€æœ‰åç§°ç©ºé—´è·å– pod

```
kubectl get pods --all-namespaces
```

## æ¥ä¸‹æ¥å‘¢ï¼ŸğŸ‘€ ğŸ‘€

![](img/b6fb33951d5f6da8600e639caa9dcd24.png)

> éå¸¸æ„Ÿè°¢ä½ æ¥åˆ°è¿™é‡Œï¼è¿™æ˜¯æœ¬æ–‡çš„ç»“å°¾ã€‚
> ä½†æˆ‘ä»¬åªæ˜¯è§¦åŠäº† K8s ç”Ÿæ€ç³»ç»Ÿçš„è¡¨é¢:)
> è¿˜æœ‰å¾ˆå¤šï¼Œè¿™å°†æ˜¯ä¸€æ¬¡æœ‰è¶£çš„æ—…ç¨‹ï¼Œæˆ‘ä»¬å°†ä¸€èµ·å­¦ä¹ å¾ˆå¤šå¾ˆé…·çš„ä¸œè¥¿ã€‚
> 
> ***åšæ‹æ‰‹è·Ÿæˆ‘æ¥*** *ğŸ™ˆå¦‚æœä½ å–œæ¬¢æˆ‘çš„ä½œå“ï¼Œå¹¶å¸Œæœ›åœ¨æœªæ¥æ›´å¤šåœ°é˜…è¯»æˆ‘çš„ä½œå“:)*

å¦‚æœä½ å¯¹è¿™ç¯‡æ–‡ç« æœ‰ä»»ä½•ç–‘é—®ï¼Œæˆ–è€…æƒ³èŠèŠå¤©ï¼Œè¯·éšæ—¶è”ç³»æˆ‘çš„ç¤¾äº¤åª’ä½“è´¦å·

*æ¨ç‰¹â€”*[*https://twitter.com/ChindaVibhor*](https://twitter.com/ChindaVibhor)

*LinkedInâ€”*[*https://www.linkedin.com/in/vibhor-chinda-465927169/*](https://www.linkedin.com/in/vibhor-chinda-465927169/)

## ç›¸å…³æ–‡ç« 

[](https://faun.pub/kubernetes-object-deployments-1e09cd904963) [## Kubernetes å¯¹è±¡:â˜¸â˜¸éƒ¨ç½²

### Kubernetes ä¸­æœ‰å“ªäº›éƒ¨ç½²ï¼Ÿ

faun.pub](https://faun.pub/kubernetes-object-deployments-1e09cd904963) [](https://faun.pub/kubernetes-objects-replicasets-35c07ba22d47) [## Kubernetes å¯¹è±¡:å¤åˆ¶é›†â˜¸â˜¸

### Kubernetes ä¸­çš„å¤åˆ¶é›†æ˜¯ä»€ä¹ˆï¼Ÿ

faun.pub](https://faun.pub/kubernetes-objects-replicasets-35c07ba22d47) 

æˆ‘ä»ç„¶ä¼šç»§ç»­å‘è¡¨æ–°çš„æ–‡ç« ï¼Œæ¶µç›–æˆ‘æ­£åœ¨æ¢ç´¢çš„ä¸€ç³»åˆ—ä¸»é¢˜ã€‚

é‚£éƒ½æ˜¯ä¹¡äº²ä»¬ï¼ï¼æ¶‚é¸¦:))