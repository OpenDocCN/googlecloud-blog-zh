<html>
<head>
<title>A to Z of Google Cloud Platform a personal selection — H — Hosting static sites</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台的a到Z个人选择——H——托管静态网站</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-h-hosting-static-sites-1d0db2eb5d89?source=collection_archive---------1-----------------------#2016-02-07">https://medium.com/google-cloud/a-to-z-of-google-cloud-platform-a-personal-selection-h-hosting-static-sites-1d0db2eb5d89?source=collection_archive---------1-----------------------#2016-02-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="bcd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">许多网站不需要网络服务器，因此也不需要相关的计算服务，因为服务器端基本上没有移动部件。因此，使用谷歌云存储(GCS)进行托管是一个理想的用例。</p><p id="053b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GCS imho上托管的静态网站的优势包括:</p><ul class=""><li id="6627" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">表演</li><li id="bccc" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">几乎没有运营开销</li><li id="a4e7" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">托管平台内置的可扩展性</li></ul><p id="65d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在谷歌云存储(GCS)上托管一个静态站点可以归结为5个步骤:</p><ol class=""><li id="5fd7" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc jr jj jk jl bi translated">使用您选择的编辑器创建您的内容</li><li id="0a61" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">创建一个云存储桶</li><li id="f331" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">设置一个CNAME记录，指向新创建的存储桶</li><li id="4d1f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">将您的内容上传到此桶</li><li id="5f8e" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">使存储桶可公开浏览</li></ol><p id="19f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如需完整浏览，请查看<a class="ae js" href="https://cloud.google.com/storage/docs/website-configuration?hl=en" rel="noopener ugc nofollow" target="_blank">文档</a>。看看这篇关于在GCS上主持<a class="ae js" href="http://googlecloudplatform.blogspot.co.uk/2015/04/BandAid-30-on-Google-Cloud-Platform-Theres-more-than-one-way-to-skin-a-Web-server.html" rel="noopener ugc nofollow" target="_blank"> BaindAid 30 </a>之旅的文章是如何从经济学角度来看的，值得一读。</p><p id="f068" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很简单，但是我真正想谈论的是如何持续更新你的网站，也就是说，用构建和部署你的代码的方式来创建你的静态网站。</p><p id="c74b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我意识到，如果我试图把所有的内容都塞进一篇帖子里，我就会打破我自己强加的每一条规则，所以我将不得不分两部分来做这件事，并在本系列的后半部分回到第2部分。好的，继续…</p><p id="1e1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用静态生成器是能够进行持续更新的方法。</p><p id="7437" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我想到静态网站生成器时，我会想到一个通过将<a class="ae js" href="https://en.wikipedia.org/wiki/Markdown" rel="noopener ugc nofollow" target="_blank"> markdown </a>文件转换成html来自动创建完整静态网站的系统。系统通常有一个本地服务器，所以你可以实时看到你所做的改变。有很多静态站点生成器，当我在github上搜索静态站点生成器时，发现了1744个库。</p><p id="854f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我遇到的最流行的发电机往往是<a class="ae js" href="http://jekyllrb.com/" rel="noopener ugc nofollow" target="_blank">杰基尔</a>、<a class="ae js" href="https://gohugo.io/" rel="noopener ugc nofollow" target="_blank">雨果</a>或<a class="ae js" href="https://ghost.org/" rel="noopener ugc nofollow" target="_blank">幽灵</a>中的一种</p><p id="ea3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它们都按照我前面描述的方式生成页面。你选择一个而不是另一个的原因取决于什么样的“独特”特征对你来说是重要的。互联网上有很多帖子可以帮助你做出决定。</p><p id="812d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我要用Hugo帮我生成一个静态站点。我过去已经使用过jekyll和ghost，但我喜欢Hugo是用go编写的，所以不需要太多依赖(Jekyll需要ruby和ghost node.js)。有了Hugo，我可以直接下载二进制文件，不需要其他任何东西，所以我认为这是最干净的方法(这只是我的个人偏好，不过你可以自己决定使用哪个生成器)</p><p id="661d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好了，现在我已经设置好了我的bucket，我现在需要在我的本地机器上安装Hugo，创建一个文件夹来存储我的站点的文件，使用Hugo来生成我的站点的结构，创建一些内容，然后将文件上传到GCS。</p><p id="857c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这最后一部分确实需要几分钟，取决于你有多少内容。扩展这5个步骤，我们现在有8个步骤</p><ol class=""><li id="8b50" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc jr jj jk jl bi translated">创建一个云存储桶</li><li id="39bf" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">设置一个CNAME记录，指向新创建的存储桶</li><li id="5f75" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">安装hugo</li><li id="2deb" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">生成本地文件结构</li><li id="880d" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">使用您选择的编辑器创建内容</li><li id="a362" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">使用本地Hugo服务器预览内容</li><li id="1a9c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">将您的内容上传到您的桶中</li><li id="c32f" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc jr jj jk jl bi translated">使存储桶可公开浏览</li></ol><p id="c01b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，每当你做更新的时候，你真的冲洗并且重复步骤5到7，并且运行本地Hugo服务器意味着你能在本地观看实时更新</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/c90e26d6706930251b16a8e6fb73e617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJdt3gaOOH0CkwpdlDcgxQ.jpeg"/></div></div></figure><p id="45e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图显示了推送到我的桶中的内容。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/534fa68d869cf6ac589f07a1c9383ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BNzFK5kl2CY1HmD2."/></div></div></figure><p id="7672" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想从头到尾了解如何使用HUGO和GCS来充实8个步骤，请阅读moxie.io的这篇<a class="ae js" href="http://www.moxie.io/post/static-websites-with-hugo-on-google-cloud-storage/" rel="noopener ugc nofollow" target="_blank">好文章</a></p><p id="6b61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很好，我听到你说，但是为什么是两个部分呢？</p><p id="5936" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我觉得停在这里是一个自然的突破，因为它显示了你可以多么快地开始托管自己的静态站点，因此是系列中的一个独立条目。这两部分中的下一部分是关于在这个基础上构建的。</p><p id="24a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其次是协作。以上对于单个创作者来说已经足够好了，但是当你有多个内容创作者时，这就变得不可行了。</p><p id="6c03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三，我也承认它给了我J！</p><p id="06ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在接下来的部分(J所以不要等太久！)我将使用Jenkins演示如何建立一个可以被多个贡献者使用的发布管道。我将解释如何将生成网站内容的本地文件夹推送到位于GCP的<a class="ae js" href="https://cloud.google.com/tools/cloud-repositories/docs/" rel="noopener ugc nofollow" target="_blank">云仓库</a>。</p></div></div>    
</body>
</html>