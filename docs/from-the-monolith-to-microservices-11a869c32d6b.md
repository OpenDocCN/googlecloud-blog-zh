# 从整体到微服务

> 原文：<https://medium.com/google-cloud/from-the-monolith-to-microservices-11a869c32d6b?source=collection_archive---------0----------------------->

我记得过去，我们习惯于将所有模块打包到一个应用程序(又名 Monolith)中，一次性部署所有东西，并将其称为企业应用程序。不得不承认，第一次听到企业 app 这个名词，感觉很特别。突然，我的小模块不再那么小了。这是更大更重要的事情的一部分，至少我是这么认为的。在这种企业应用模型中工作有很多惯例和开销，但这对于一致性来说是很小的代价，对吗？

这种方法适用于具有少量模块的小型项目。随着项目越来越大，涉及的团队和模块越来越多，对我来说显而易见的是，由于一些原因，monolith 方法不再具有可扩展性。

1.  整合太难了。为了创建一个应用程序，我们必须捆绑许多模块，这不仅很困难，而且在发布周期中总是发生得太晚。这意味着我们在发布周期的后期没有真正测试我们的集成应用程序。整合时间是压力的持续原因。
2.  **一点都不敏捷**。我们必须等待最慢的模块完成开发周期，然后才能发布我们的任何模块。这一点也不敏捷。
3.  **调试太难了**。我可以单独调试我的模块，但是调试包含所有模块的整个应用程序几乎是不可能的。我无法访问其他模块的源代码，整个应用程序太重了，我无法在笔记本电脑上运行。
4.  **环境不一致**。在我的笔记本电脑上一切都很好，但生产环境总是略有不同，并导致难以调试和难以预料的错误。

在过去的几年里，发生了许多有助于解决这些问题的事情。业界开始意识到 Monotith 方法不可扩展，并转向更小的可管理微服务。这解决了集成、调试和灵活性问题。Docker 为这些微服务提供了一致的上下文。这解决了环境不一致的问题。

但是我们仍然需要在生产中运行容器，并处理随之而来的所有问题。我们必须找到一种为容器提供节点的方法。我们必须确保容器已经启动并运行。我们必须进行可靠的推出和回滚。我们必须编写健康检查和所有其他我们需要做的事情，以便在生产中运行软件。

谢天谢地，我们开始看到像 Kubernetes 这样的开源容器管理平台。Kubernetes 为我们提供了一个高级 API 来自动化部署、管理部署/回滚、扩展/缩减等等。最棒的是，Kubernetes 可以在任何地方运行，从你的笔记本电脑到云，它可以跨越多个云，所以没有锁定。

结果，我觉得我们在构建和运行软件的方式上带回了一些理智，这总是一件好事！

*原载于 2017 年 1 月 23 日*[*【meteatamel.wordpress.com】*](https://meteatamel.wordpress.com/2017/01/23/from-the-monolith-to-microservices/)*。*