<html>
<head>
<title>Build a Self-Driving RC Car using Raspberry Pi and Machine Learning using Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Raspberry Pi构建自动驾驶遥控汽车，使用Google Colab进行机器学习</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/build-a-self-driving-rc-car-using-raspberry-pi-and-machine-learning-using-google-colab-8ca2b4ae547f?source=collection_archive---------1-----------------------#2019-06-29">https://medium.com/google-cloud/build-a-self-driving-rc-car-using-raspberry-pi-and-machine-learning-using-google-colab-8ca2b4ae547f?source=collection_archive---------1-----------------------#2019-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7440d6e6d2e29e673f36528de2bf9a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jqF_jeX9v4Q95eYC98NVaA.png"/></div></div></figure><p id="663c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们将学习如何使用Raspberry Pi和使用Google Colab的机器学习来构建自动驾驶的RC汽车。自从关于自动驾驶汽车的想法、讨论和宣传出现以来，我一直想自己造一辆。本教程是迈向这一现实的一小步，也将为你提供一些深入的分析和自动驾驶汽车的基础知识。本教程还将介绍如何使用Google Colab训练你的模型</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/fe684f7f378ae75cb4f4a076f367964c.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*e23RVHqEYyTeutmH0FR-kg.gif"/></div></figure><ol class=""><li id="c26f" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">驴车介绍</li><li id="532e" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">需求和所需零件</li><li id="4b0d" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">组装硬件</li><li id="b8b2" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">软件安装</li><li id="c23c" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">校准你的汽车</li><li id="3c35" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">带它去兜一圈</li><li id="ac2b" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">Google Colab简介</li><li id="18de" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">使用Colab训练自动驾驶仪</li><li id="e14c" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">尝试并享受乐趣</li><li id="b143" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">结论</li><li id="5298" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">参考</li></ol><h1 id="90c9" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">1.驴车介绍</h1><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/37e64d4f137b57f7659b8768dc83d16b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*it2spF5T0C3wxqgOVNsRkQ.jpeg"/></div></div></figure><p id="f5b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，经过一些研究，我遇到了驴车。Donkey是用Python写的高级自动驾驶库。此外，它的开发侧重于实现快速实验和简单贡献。因此，这是我快速开始的关键。</p><h1 id="a55e" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">2.需求和所需零件</h1><h1 id="bd36" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">2.1购买零部件</h1><p id="f65e" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">我们有两种选择来建造我们的驴车。</p><h2 id="5ef0" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">选择1:通过官方的驴店购买</h2><p id="20f8" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">有2个官方商店购买您的驴护理入门套件。</p><ul class=""><li id="872f" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn lz jz ka kb bi translated">如果你在美国，你可以从<a class="ae ma" href="https://store.donkeycar.com/" rel="noopener ugc nofollow" target="_blank">驴店</a>购买。</li><li id="c5ea" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">如果你在亚洲地区和其他地区，你可以从<a class="ae ma" href="https://www.robocarstore.com/products/donkey-car-starter-kit" rel="noopener ugc nofollow" target="_blank"> Robocar商店</a>购买。</li></ul><h2 id="f94f" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">选项2:自下而上构建</h2><p id="63f2" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">如果你想自己买零件，想定制你的驴或住在美国，你可能会选择自下而上的建设。此外，在<a class="ae ma" href="https://docs.donkeycar.com/guide/build_hardware/" rel="noopener ugc nofollow" target="_blank">文档</a>中也提到了相关说明。</p><h1 id="9dcf" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">2.2主要部件和零件</h1><ul class=""><li id="0487" class="jt ju hi is b it lg ix lh jb mb jf mc jj md jn lz jz ka kb bi translated">树莓Pi 3</li><li id="dad4" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">MicroSD卡</li><li id="f40f" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">遥控汽车</li><li id="2490" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">带微型USB电缆的USB电池</li><li id="9791" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">驴部分套件</li></ul><h1 id="ba5f" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">3.组装硬件</h1><p id="bda4" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">初学者工具包包括入门所需的一切。它包括:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/1b74dd61f723454e123d19f068e10959.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Vg863gTFU90YO3Yt"/></div></div></figure><ul class=""><li id="38bd" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn lz jz ka kb bi translated"><strong class="is hj"> HSP 94186拉丝遥控车<br/> </strong>一辆经过驴车平台全面测试的遥控车</li><li id="133f" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj"> 3D打印顶笼(白色或其他颜色)</strong></li><li id="ad10" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj">激光切割基板(白色或透明)</strong></li><li id="1882" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj">树莓派3B或3B+(视供货情况而定)<br/> </strong>自动驾驶遥控汽车的大脑</li><li id="5f88" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj">广角树莓派摄像机</strong> <br/>自动驾驶遥控汽车的眼睛</li><li id="b8e0" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj"> 16GB Micro SD卡<br/> </strong>为驴车平台存储，足以容纳自动驾驶的训练数据</li><li id="7b2e" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj">伺服驱动器PCA 9685 <br/> </strong>控制遥控车的油门和转向</li><li id="7493" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj"> DC-DC 5V/2A电压转换器<br/> </strong>从RC车载电池向树莓派供电</li><li id="2de0" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><strong class="is hj">所有其他配件</strong>电线和螺丝<br/>来建造驴车</li></ul><p id="c4b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，参考下面的驴车组装视频，按照详细的说明来组装所有的零件，并建立您的汽车。</p><h1 id="1b58" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">4.软件安装</h1><p id="55bc" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">软件的安装和设置包括以下两个简单的步骤。此外，我们将创建我们的驴车应用程序。</p><h2 id="62a3" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤1:在主机上安装软件</h2><p id="2e52" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">当通过行为克隆来控制你的驴子时，你需要设置一台主机来根据机器人上收集的数据训练你的机器学习模型。选择与您的电脑操作系统相匹配的设置。对我来说，那是一台苹果电脑。</p><h2 id="d26d" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">Mac安装</h2><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="43a5" class="ll ki hi mg b fi mk ml l mm mn">mkdir projects cd projects</span><span id="eb8b" class="ll ki hi mg b fi mo ml l mm mn">git clone https://github.com/robocarstore/donkey cd donkey</span><span id="6b1d" class="ll ki hi mg b fi mo ml l mm mn">conda update -n base -c defaults conda conda env remove -n donkey</span><span id="9397" class="ll ki hi mg b fi mo ml l mm mn">conda env create -f envs/mac.yml source activate donkey pip install -e .</span><span id="a918" class="ll ki hi mg b fi mo ml l mm mn">pip install tensorflow</span><span id="c54e" class="ll ki hi mg b fi mo ml l mm mn">pip install -e .[pc] donkey createcar --path ~/d2</span></pre><h2 id="9d04" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤2:设置树莓派</h2><p id="38f9" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">首先，我们需要给micro SD卡闪存一个操作系统。</p><ul class=""><li id="eae5" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn lz jz ka kb bi translated">下载<a class="ae ma" href="https://downloads.raspberrypi.org/raspbian_lite_latest" rel="noopener ugc nofollow" target="_blank"> Raspian Lite </a> (300MB)</li><li id="d92d" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">下载Etcher工具将图像写入SD卡。</li><li id="6866" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">作为SD读卡器连接，SD卡在其中。</li><li id="5ad2" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">打开Etcher，从硬盘中选择您希望写入SD卡的树莓Pi <code class="du mp mq mr mg b">.img</code>或<code class="du mp mq mr mg b">.zip</code>文件。</li><li id="4b7f" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">选择您希望写入图像的SD卡。</li><li id="0f07" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">查看您的选择，点击“<strong class="is hj"> Flash </strong>”开始向SD卡写入数据。</li></ul><h2 id="8d7d" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">第三步:设置树莓皮的无线首次启动。</h2><p id="aee9" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">打开文本编辑器或记事本，将以下代码复制粘贴到其中。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="2feb" class="ll ki hi mg b fi mk ml l mm mn">country=US<br/>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev<br/>update_config=1<br/><br/>network={<br/>    ssid="&lt;your network name&gt;"<br/>    psk="&lt;your password&gt;"<br/>}</span></pre><p id="58b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用你的网络ID替换<code class="du mp mq mr mg b">&lt;your network name&gt;</code>。留下引号。用您的密码替换<code class="du mp mq mr mg b">&lt;your password&gt;</code>，用引号括起来。如果让您的密码不加密让您感到困扰，您可以在稍后更改<a class="ae ma" href="https://unix.stackexchange.com/questions/278946/hiding-passwords-in-wpa-supplicant-conf-with-wpa-eap-and-mschap-v2" rel="noopener ugc nofollow" target="_blank">内容，一旦您让pi启动并登录。</a></p><p id="e8d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将该文件保存到<strong class="is hj">引导</strong>分区的根目录下，文件名为<code class="du mp mq mr mg b">wpa_supplicant.conf</code>。在第一次启动时，该文件将被移动到<code class="du mp mq mr mg b">/etc/wpa_supplicant/wpa_supplicant.conf</code>中，以后可以在那里进行编辑。如果您在Windows上使用记事本，请确保末尾没有. txt。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/37d231cb55b091555cb6391e122e6954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q9ypEGZeVF91DsGN"/></div></div></figure><h2 id="b98f" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤4: Raspberry Pi的主机名</h2><p id="53c7" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">如果您的是网络中唯一的Pi，您可以用下面的命令找到它。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="6c94" class="ll ki hi mg b fi mk ml l mm mn">ping d2.local</span></pre><h2 id="1985" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤5:启动时启用SSH</h2><p id="8287" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">将一个名为<strong class="is hj"> ssh </strong>的文件放在您的<strong class="is hj">引导</strong>分区的根目录下。</p><p id="30cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在你的SD卡准备好了。将其从计算机中弹出，放入Pi并插入Pi。</p><h2 id="51b5" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤6:连接到Pi</h2><p id="601a" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">使用HDMI电缆将您的raspberry pi设备插入显示器，并将键盘连接到raspberry pi。<br/>初始引导完成后，系统会提示您输入登录凭据。</p><p id="6bef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后尝试下面的命令。这将显示树莓派的IP地址。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="c73c" class="ll ki hi mg b fi mk ml l mm mn">ifconfig wlan0</span></pre><p id="faef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦我们知道了IP地址，并且启用了SSH，我们就可以使用mac或计算机直接远程连接到raspberry pi。打开终端，键入以下命令选项之一进行连接。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="6af8" class="ll ki hi mg b fi mk ml l mm mn">#option 1 ssh pi@d2.local #option 2 ssh pi@&lt;ipaddress&gt; #replace &lt;ipaddress&gt; with the one found in the previous step</span></pre><p id="5f78" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过ssh在raspberry pi中键入以下命令来更新和升级pi。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="fad8" class="ll ki hi mg b fi mk ml l mm mn">sudo apt-get update sudo apt-get upgrade</span></pre><h2 id="50cf" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤8:配置树莓Pi</h2><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="1135" class="ll ki hi mg b fi mk ml l mm mn">sudo raspi-config</span></pre><ul class=""><li id="a357" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn lz jz ka kb bi translated">启用I2c</li><li id="fb29" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">启用摄像头</li><li id="92c4" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">扩展文件系统</li><li id="13f4" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">更改主机名</li><li id="261a" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">更改pi的默认密码</li></ul><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/cbd3e7dce4860743c2e52d7741b16646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*86o1Wq8I_UvgTXrE"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/c88c644621cb1ccdfb7232eeebc1345d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GFTvIJT_c6XUykli"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/74713634387c529330203fa3499611eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jaGYcmasCx_YYVK7"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/bfe368ea8ce6f74ce08296cac09d594f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9ajnJZhlJG-wnMbw"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/6ddc0427c2ed04bc3c0256a2b91775ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ThOpdrrdWNLFpDjT"/></div></div></figure><p id="b826" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确保在更改配置后重新启动。</p><h2 id="9116" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤9:安装依赖项</h2><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="9a9f" class="ll ki hi mg b fi mk ml l mm mn">sudo apt-get update sudo apt-get install build-essential python3 python3-dev python3-virtualenv python3-numpy python3-picamera python3-rpi.gpio i2c-tools avahi-utils joystick libopenjp2-7-dev libtiff5-dev gfortran libatlas-base-dev libopenblas-dev libhdf5-serial-dev git</span></pre><h2 id="cb53" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤10:安装可选的OpenCV依赖项</h2><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="8a04" class="ll ki hi mg b fi mk ml l mm mn">sudo apt-get install libilmbase-dev libopenexr-dev libgstreamer1.0-dev libjasper-dev libwebp-dev libatlas-base-dev libavcodec-dev libavformat-dev libswscale-dev libqtgui4 libqt4-test</span></pre><h2 id="7a1b" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤11:设置虚拟环境</h2><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="1375" class="ll ki hi mg b fi mk ml l mm mn">python3 -m virtualenv -p python3 env echo "source env/bin/activate" &gt;&gt; ~/.bashrc source ~/.bashrc</span></pre><h2 id="e471" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤12:安装Tensorflow</h2><p id="f2e4" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">你可以查看<a class="ae ma" href="https://github.com/lhelontra/tensorflow-on-arm/releases/" rel="noopener ugc nofollow" target="_blank">这个</a>页面找到你喜欢的。或者安装这个:</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="f894" class="ll ki hi mg b fi mk ml l mm mn">wget https://github.com/lhelontra/tensorflow-on-arm/releases/download/v1.10.0/tensorflow-1.10.0-cp35-none-linux_armv7l.whl pip install tensorflow-1.10.0-cp35-none-linux_armv7l.whl</span></pre><h2 id="0354" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤13:安装Donkeycar Python代码并安装</h2><p id="bc15" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">这将从Tawn的fork中提取最新信息:</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="70ac" class="ll ki hi mg b fi mk ml l mm mn">git clone https://github.com/tawnkramer/donkey pip install -e donkey[pi]</span></pre><h2 id="e528" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">步骤14:创建您的汽车应用程序。</h2><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="fe14" class="ll ki hi mg b fi mk ml l mm mn">donkey createcar --path ~/d2</span></pre><h1 id="c1d6" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">6.带它去兜一圈</h1><p id="65a5" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">发动你的车，是时候开车兜风了。如果你打算用手机来控制你的汽车，你可以在config.py文件下进行配置。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="79fc" class="ll ki hi mg b fi mk ml l mm mn">cd ~/d2 sudo nano config.py</span></pre><p id="8252" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更改脚本底部的下面一行。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="433a" class="ll ki hi mg b fi mk ml l mm mn">USE_JOYSTICK_AS_DEFAULT = True</span></pre><h2 id="288c" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">发动你的车，开车。</h2><p id="7f07" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">打开你的汽车文件夹，启动你的汽车。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="b9da" class="ll ki hi mg b fi mk ml l mm mn">cd ~/d2 python manage.py drive</span></pre><p id="5e1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个脚本将在您的汽车中启动驱动循环，其中包括一个用于控制您的汽车的web服务器部分。您现在可以通过网址:<code class="du mp mq mr mg b">&lt;your car's IP's address&gt;:8887</code>的网络浏览器控制您的汽车</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/56788394b385ca3c1c48accea43ed9cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y45VwH-yDFxXLmjJ"/></div></div></figure><p id="628a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在移动浏览器上加载URL，远程控制您的车辆，或者使用桌面浏览器来控制设备。当你使用它前进时，汽车将自动开始记录，它将通过在Raspberry Pi的项目数据文件夹中创建一个tub文件夹来捕获必要的图像序列和JSON文件。</p><h1 id="bba7" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">使用网络控制器驾驶</h1><h2 id="2c31" class="ll ki hi bd kj lm ln lo kn lp lq lr kr jb ls lt kv jf lu lv kz jj lw lx ld ly bi translated">特征</h2><ul class=""><li id="8f8c" class="jt ju hi is b it lg ix lh jb mb jf mc jj md jn lz jz ka kb bi translated">记录—按记录数据开始记录图像、转向角度和油门值。</li><li id="f208" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">节流模式—将节流设置为常数的选项。这是在比赛中使用的，如果你有一个飞行员会驾驶，但不控制油门。</li><li id="a37d" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">飞行员模式—如果飞行员应该控制角度和/或油门，选择此项。</li><li id="5181" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">最大节流—选择最大节流。</li></ul><h1 id="cb84" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">7.Google Colab简介</h1><p id="24bd" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">现在我们已经能够成功驾驶我们的汽车，我们需要开始训练我们的模型，以便我们能够拥有一辆自动驾驶汽车。为了追求同样的目标，我开始在我的Mac上训练它，花了几个小时，我完全放弃了。然后作为一个替代方案，我在家里使用了我的游戏装备，规格相当高，花了大约25-30分钟来训练模型。如果我们想快速训练更多的模型，这是没有好处的，所以在我的研究中，我想使用云来快速完成工作，但你需要为此付费。最后偶然发现了Google Colab，它不需要设置，运行在云中，完全免费。</p><p id="221e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Colaboratory是一个免费的Jupyter笔记本环境，不需要设置，完全在云中运行。</p><p id="6d7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">借助Colaboratory，您可以编写和执行代码、保存和共享您的分析，以及访问强大的计算资源，所有这些都可以从浏览器中免费获得。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="mu mv l"/></div></figure><h1 id="a01a" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">8.使用Colab训练自动驾驶仪</h1><p id="e626" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">使用Google Colab的加速硬件，我能够在几分钟或更短的时间内多次训练我们的模型。我们离拥有全功能自动驾驶遥控汽车只有一步之遥。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/28e62e85af6a7ca4a5244869c29b833b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2kBTnzRktcR5qkoC"/></div></div></figure><p id="de9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">遵循Github存储库中显示的说明。</p><p id="1584" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae ma" href="https://github.com/sachindroid8/self-driving-car-using-google-colab" rel="noopener ugc nofollow" target="_blank">https://github . com/sachindroid 8/自驾-用车-google-colab </a></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/a5b1c622ac2df06d27ccc78dae6946da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8WoN5GA6_-SIldK7"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/b5d32d418557752e8dacb574110b0105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IA0rxekAZ8DRA-Hx"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/909447c4f86145c5ff253caf1e152085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hN2POzpU0VjX7NQr"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/b657cac34056310f6ad8af0cf182e4df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SlwZb-OYTqZY7Ip9"/></div></div></figure><p id="f626" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将生成的mypilot.h5文件复制到您的Raspberry Pi的以下位置。/home/pi/d2/models/mypilot.h5</p><p id="0668" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在您的Raspberry Pi中执行以下命令。</p><pre class="jp jq jr js fd mf mg mh mi aw mj bi"><span id="9e34" class="ll ki hi mg b fi mk ml l mm mn">cd ~/d2 python manage.py drive --model ~/d2/models/mypilot</span></pre><h1 id="5ab3" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">使用Raspberry Pi构建自动驾驶遥控汽车，使用Google Colab进行机器学习</h1><p id="52b6" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">下图是我在Google IO Extended 2019的一次演讲中的演示。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mw"><img src="../Images/a48fe90c28518b489d2c99b68f4f28c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*iEDM4XQr0nG6WOhp.gif"/></div></figure><h1 id="be43" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">9.尝试并享受乐趣</h1><h1 id="0b96" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">培训提示:</h1><p id="8c58" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">Mode &amp; Pilot:祝贺你走了这么远。运行上面的命令后，首先要注意的是查看模式和飞行员菜单中的选项。可能会很混乱。以下是不同选项的含义:</p><ul class=""><li id="5ca7" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn lz jz ka kb bi translated">用户:正如你所猜测的，这是你控制方向盘和油门的地方。</li><li id="4868" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">局部角度:不太明显，但这是受过训练的模型(从上面看我的飞行员)控制转向的地方。本地指的是在raspberry-pi上本地托管的训练模型。</li><li id="7393" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated">本地飞行员:这是训练有素的模型(我的飞行员)承担控制转向和油门。到目前为止，据说它不太可靠。一定要检查最大油门和油门模式选项，并尝试一些设置。对训练有很大帮助。</li></ul><p id="243e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">建造一个简单的赛道:这不是很好的证明，但是赛车应该(理论上)能够在任何类型的赛道上训练。首先，可能没有必要建造一条带条纹中心车道的双车道轨道。试着用一条没有中心线的单车道，或者只有一条构成一条赛道！至少，您将能够进行端到端的测试，并验证软件管道是否都正常工作。当然，作为下一步，你会想要创建一个更标准的轨道，并在离你最近的聚会上竞争！</p><p id="c19d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">寻求帮助:试着从一两个朋友那里寻求帮助。同样，这对于建造轨道有很大的帮助，因为独自建造一条双线轨道比看起来要困难得多！此外，通过使用功能区而不是磁带，您可以节省资源(和磁带)。它们仍然需要一些胶带来固定，但是你可以重复使用它们，并且可以更轻松地放下它们(尽管如果你在户外工作，风可能会使最初放下它们变得困难)。</p><h1 id="a6d8" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">10.结论</h1><p id="0b8e" class="pw-post-body-paragraph iq ir hi is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hb bi translated">总结一下，我们已经成功地使用Raspberry Pi建造了一辆自动驾驶汽车，并使用Tensorflow和Google Colab建造了机器学习模型。我们可以使用相同的方法训练更多的模型，并且免费使用Google Colab训练更快。此外，看看我的一些其他教程。</p><div class="mx my ez fb mz na"><a rel="noopener follow" target="_blank" href="/google-cloud/how-to-build-your-own-smart-speaker-google-assistant-google-cloud-actions-on-google-and-eec1169d9435"><div class="nb ab dw"><div class="nc ab nd cl cj ne"><h2 class="bd hj fi z dy nf ea eb ng ed ef hh bi translated">如何打造自己的智能音箱——谷歌助手、谷歌云、谷歌上的动作和…</h2><div class="nh l"><h3 class="bd b fi z dy nf ea eb ng ed ef dx translated">在本教程中，我们将学习如何使用谷歌助手、谷歌云、在…上的操作来构建自己的智能扬声器</h3></div><div class="ni l"><p class="bd b fp z dy nf ea eb ng ed ef dx translated">medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no io na"/></div></div></a></div><div class="mx my ez fb mz na"><a rel="noopener follow" target="_blank" href="/google-cloud/how-to-create-a-chatbot-using-dialogflow-enterprise-edition-and-dialogflow-api-v2-923f4a965176"><div class="nb ab dw"><div class="nc ab nd cl cj ne"><h2 class="bd hj fi z dy nf ea eb ng ed ef hh bi translated">如何使用Dialogflow企业版和Dialogflow API V2创建聊天机器人</h2><div class="nh l"><h3 class="bd b fi z dy nf ea eb ng ed ef dx translated">在本教程中，我们将学习如何使用Dialogflow企业版和Dialogflow API V2创建聊天机器人。这个…</h3></div><div class="ni l"><p class="bd b fp z dy nf ea eb ng ed ef dx translated">medium.com</p></div></div><div class="nj l"><div class="np l nl nm nn nj no io na"/></div></div></a></div><div class="mx my ez fb mz na"><a rel="noopener follow" target="_blank" href="/google-cloud/how-to-build-an-app-for-google-assistant-using-dialogflow-enterprise-edition-and-actions-on-google-4413a61d2f2d"><div class="nb ab dw"><div class="nc ab nd cl cj ne"><h2 class="bd hj fi z dy nf ea eb ng ed ef hh bi translated">如何在Google上使用Dialogflow Enterprise Edition和Actions为Google Assistant构建应用程序</h2><div class="nh l"><h3 class="bd b fi z dy nf ea eb ng ed ef dx translated">用户在对话中使用Google Assistant来完成事情，比如购买食品杂货或预订乘车服务，或者在我们的…</h3></div><div class="ni l"><p class="bd b fp z dy nf ea eb ng ed ef dx translated">medium.com</p></div></div><div class="nj l"><div class="nq l nl nm nn nj no io na"/></div></div></a></div><h1 id="e8ac" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">11.参考</h1><ul class=""><li id="9174" class="jt ju hi is b it lg ix lh jb mb jf mc jj md jn lz jz ka kb bi translated"><a class="ae ma" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> Google Colab </a></li><li id="60ea" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><a class="ae ma" href="https://docs.robocarstore.com/" rel="noopener ugc nofollow" target="_blank"> Robocarstore Docs </a></li><li id="69a8" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn lz jz ka kb bi translated"><a class="ae ma" href="https://docs.donkeycar.com/" rel="noopener ugc nofollow" target="_blank">东卡文件</a></li></ul></div><div class="ab cl nr ns gp nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="hb hc hd he hf"><p id="a4b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ny">原载于2019年6月29日</em><a class="ae ma" href="https://techwithsach.com/build-a-self-driving-rc-car-using-raspberry-pi-and-machine-learning-using-google-colab/" rel="noopener ugc nofollow" target="_blank"><em class="ny">https://techwithsach.com</em></a><em class="ny">。</em></p></div></div>    
</body>
</html>