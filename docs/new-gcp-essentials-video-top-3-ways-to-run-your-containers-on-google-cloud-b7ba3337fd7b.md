# 新 GCP 基础视频——在谷歌云上运行容器的三大方法

> 原文：<https://medium.com/google-cloud/new-gcp-essentials-video-top-3-ways-to-run-your-containers-on-google-cloud-b7ba3337fd7b?source=collection_archive---------3----------------------->

如果你不喜欢剧透这三种方式是什么，那么看视频:

如果你真的喜欢剧透，或者你只是更喜欢阅读，那就这样吧:

首先，在我们生活的世界中，Docker、Kubernetes 以及整个产品、工具和最佳实践的生态系统在过去几年中已经出现，从而使许多不同种类的应用程序能够被容器化。

就像不是每个应用程序都在云中运行一样，许多工作负载还没有容器化，那些容器化的工作负载可以在不同的实施中以可预测的方式执行。在 Google Cloud 上，运行容器的各种解决方案本质上在底层基础设施的暴露程度上有所不同。

![](img/36c9009c4660deef264b259b6232a844.png)

**谷歌 Kubernetes 引擎——GKE**

作为 Kubernetes 的发明者，Google 很自然地提供了一个完全托管的 Kubernetes 服务，负责调度和扩展容器，同时监控它们的健康和状态。

默认情况下，GKE 集群是安全的、高度可用的、受监控的，它们运行在谷歌云的高速网络上。它们还可以针对区域或地区位置进行微调，并提供自动扩展、故障节点自动修复以及自动升级到最新稳定的 Kubernetes 版本。

GKE 也是谷歌云的企业混合和多云平台 Anthos 的关键组件。借助 Anthos，您还可以将现有虚拟机直接迁移到容器中，并在内部和云环境(如 GCP)之间自由移动您的工作负载。

![](img/a1ac28fe1c43ffdb185a19e758f12399.png)

**云跑**

云运行为您提供了容器和无服务器的优势。由于 Cloud Run 会自动扩展任何无状态容器，因此无需调配或管理任何集群或基础架构。

使用您的容器创建云运行服务只需要选择一个位置，给它一个名称，并设置身份验证要求。它支持每个容器的多个请求，并且支持任何语言、任何库、任何二进制文件，甚至任何基本映像！

结果是无服务器，真正的“按使用付费”能够扩展到零，并提供完整的开箱即用监控、日志记录和错误报告。

因为 Cloud Run 是使用 Knative 开源项目构建的，Knative 开源项目是 Kubernetes 之上的一个无服务器抽象，所以您可以拥有自己的私有托管环境，并在 GCP 或本地的 Cloud Run for Anthos 上部署完全相同的容器工作负载。

![](img/51804955152cb70e7e183bcffd6d20c5.png)

**谷歌计算引擎— GCE**

是的，您可以利用熟悉的 GCE 环境来运行您的容器。创建虚拟机时，“容器”部分将让您指定您想要使用的映像以及其他一些重要选项，如“引导磁盘”部分，其中建议使用“容器优化操作系统”，这是一种为运行 Docker 容器而优化的操作系统，由 Google 维护。

这个操作系统映像预装了所有必要的运行时，因此您可以在创建 VM 的同时启动 Docker 容器。但是它也缺少您期望在典型的 Linux 发行版中找到的大部分东西，比如包管理器和许多其他二进制文件。这是为了提供一个锁定的环境，确保攻击面更小，尽可能地保证容器运行时的安全性。

在计算引擎上运行容器的好处是，您仍然可以使用托管实例组(MIG)创建可伸缩的服务，因为它们为计算实例提供了自动伸缩、自动修复、滚动更新、多区域部署和负载平衡。

![](img/a0c978e467f3a475c02abf01d9e1a434.png)

**谷歌集装箱注册处——GCR**

Google Container Registry 是一个存储所有这些容器图像、对它们进行版本控制和限制访问的地方。

GCR 是一个默认私有的容器注册中心，在 GCP 上运行，运行时间一致，跨多个地区。您可以从任何系统、虚拟机实例或您自己的硬件推送、拉入和管理 GCR 中的映像，并保持对谁可以访问、查看或下载映像的控制。

GCR 还具有*容器分析功能，这是一种针对已知漏洞的*容器图像扫描器，可以让您随时了解情况，以便您可以在部署之前检查和解决问题。

**用最适合你的方式！**

Google Cloud 为您提供了(至少)三个可靠的解决方案来运行您的容器，从完全托管的 Kubernetes 环境到真正的无服务器平台。选择最适合您的解决方案，并立即开始部署您的容器化工作负载！

[![](img/4f9598b8e1b312faf32bf3421c19da2f.png)](http://goo.gle/2w9xfHR)

查看完整的“GCP 精华”播放列表