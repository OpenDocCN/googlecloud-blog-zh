<html>
<head>
<title>Adding Social Login to your ASP.NET core 2.1 Google Cloud Platform Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将社交登录添加到您的ASP.NET核心2.1谷歌云平台应用中</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/adding-social-login-to-your-asp-net-core-2-1-google-cloud-platform-application-1baae89f1dc8?source=collection_archive---------0-----------------------#2018-10-17">https://medium.com/google-cloud/adding-social-login-to-your-asp-net-core-2-1-google-cloud-platform-application-1baae89f1dc8?source=collection_archive---------0-----------------------#2018-10-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9679" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，这是我在2017年6月发表的<a class="ae jd" rel="noopener" href="/google-cloud/adding-social-login-to-your-net-app-engine-application-9b7f4149eb73">一篇帖子的刷新。从那以后，ASP.NET核心和谷歌云都取得了进步。现在，向ASP.NET核心</a><a class="ae jd" href="https://cloud.google.com/appengine/docs/flexible/dotnet/" rel="noopener ugc nofollow" target="_blank">应用引擎</a>应用添加社交登录变得简单多了。ASP.NET核心2.1也更新了<a class="ae jd" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/tree/master/appengine/flexible/SocialAuth" rel="noopener ugc nofollow" target="_blank">代码样本</a>。一个额外的好处是，这个新的解决方案也适用于谷歌Kubernetes引擎。</p><h1 id="9af4" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">请不要再输入密码了</h1><p id="621c" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">用户厌倦了为他们访问的每个网站创建新的登录名和密码。2013年，一项<a class="ae jd" href="http://www.webhostingbuzz.com/blog/2013/03/21/whos-sharing-what/" rel="noopener ugc nofollow" target="_blank">调查</a>发现，86%的人表示他们被在网站上创建新账户的需求所困扰。这个数字今天可能变得更大了。就我个人而言，我在我的密码管理器中记录了超过100次登录和密码。</p><p id="5d74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据<a class="ae jd" href="http://www.webhostingbuzz.com/blog/2013/03/21/whos-sharing-what/" rel="noopener ugc nofollow" target="_blank">调查</a>，77%的用户倾向于一个更好的解决方案，即允许用户使用他们最喜欢的社交账户登录，无论是脸书、推特还是谷歌。对于用户来说，社交登录消除了使用你网站的障碍。<a class="ae jd" href="https://developers.facebook.com/case-studies/saavn" rel="noopener ugc nofollow" target="_blank"> Saavn发现使用脸书登录的听众参与度提高了65%</a>。<a class="ae jd" href="https://developers.facebook.com/case-studies/skyscanner" rel="noopener ugc nofollow" target="_blank"> Skyscanner在交互方面也有令人印象深刻的改进。</a></p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/a1099db0de8480791bd0ac0f70e112af.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/0*foKza0NE16KWSp0O."/></div></figure><p id="7ac5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好消息是微软已经提供了。NET程序员使用库来简化将社交登录集成到他们的。NET MVC核心web应用程序。他们还提供了优秀的文档，描述如何为所有流行的提供商添加社交登录。我按照这些文档中的说明，迅速将社交登录添加到我的。NET core web app。我按下F5在我的开发机器上运行应用程序，点击脸书按钮，它工作了！耶！</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kp"><img src="../Images/afe04c4da8f61abf80a9407a4ec17cd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/0*9VRDMFBp_cUna_a2."/></div></figure><p id="6bf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我试着将它部署到Google App Engine，看到了一条错误消息:</p><pre class="ki kj kk kl fd kq kr ks kt aw ku bi"><span id="0109" class="kv jf hi kr b fi kw kx l ky kz">Unhandled Exception: System.ArgumentException: The ‘ClientId’ option must be provided.</span><span id="fc57" class="kv jf hi kr b fi la kx l ky kz">at Microsoft.AspNetCore.Authentication.Facebook.FacebookMiddleware..ctor(RequestDelegate next, IDataProtectionProvides`1 sharedOptions, IOptions`1 options)</span></pre><p id="c781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果是，我需要对我的MVC Web应用程序做一些调整，以便在App Engine上运行时可以进行社交登录。事实上，这些调整对于运行任何。App Engine上的NET核心应用。我在下面描述了这些问题及其解决方案。</p><h1 id="866d" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">App Engine不知道我的脸书AppSecret。</h1><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lb"><img src="../Images/3a5cbfc1ae2d38b231fc58d2da3710b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/0*VyhtPCDmFHC5-Woe."/></div></figure><p id="d6f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了让用户能够登录脸书，我创建了一个脸书应用程序，如微软的<a class="ae jd" href="https://docs.microsoft.com/en-us/aspnet/core/security/authentication/social/facebook-logins" rel="noopener ugc nofollow" target="_blank">文档</a>中所述。脸书给了我一个AppSecret，这是一个秘密字符串，当我想验证一个用户时，我会将它传递给脸书。将我的脸书AppSecret存储在<code class="du lc ld le kr b">appsettings.json</code>中会非常方便，但<em class="lf">也非常不安全</em>。</p><p id="33ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，我从我之前的一篇帖子中借用了一个解决方案，把我的秘密放在<code class="du lc ld le kr b">appsecrets.json</code>里，用<a class="ae jd" href="https://cloud.google.com/kms/" rel="noopener ugc nofollow" target="_blank">谷歌云密钥管理服务</a>加密:</p><figure class="ki kj kk kl fd km"><div class="bz dy l di"><div class="lg lh l"/></div></figure><pre class="ki kj kk kl fd kq kr ks kt aw ku bi"><span id="92f9" class="kv jf hi kr b fi kw kx l ky kz">PS &gt; .\Encrypt-AppSecrets.ps1</span></pre><p id="fb24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我只将加密文件<code class="du lc ld le kr b">appsecrets.json.encrypted</code>提交到我的git repo中，并将其部署到App Engine。App Engine环境包含解密机密所需的凭证。参见我之前的<a class="ae jd" rel="noopener" href="/google-cloud/keeping-secrets-in-asp-nets-appsettings-json-5694e533dc87">帖子</a>了解这个解决方案如何保证秘密安全的细节。</p><p id="4887" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将应用程序重新发布并重新部署到App Engine，点击了脸书按钮，</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es li"><img src="../Images/2a1787a37ed0db68504db91960757f26.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*PMKMpAuQ6nHNjaJ2CehB4Q.png"/></div></figure><p id="353a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并得到一个带有<strong class="ih hj"> 400 </strong>错误的空白页:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lj"><img src="../Images/6d20b30fbcbe6663cd98fa1d2846c84a.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*_ZptKcKi3t9UxFJhvThVLw.png"/></div></figure><h1 id="5c12" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">显示错误信息。</h1><p id="e4a9" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我看到的是没有错误信息的400。为了调试这个问题，我需要查看详细信息。我不想将开发模式应用程序部署到App Engine，因为那会有暴露我的秘密的风险。但是，我知道如何使用<a class="ae jd" href="https://cloud.google.com/error-reporting/" rel="noopener ugc nofollow" target="_blank">stack driver Error reporting in</a>g来收集未捕获的异常，并在Google Cloud Dashboard中向我报告它们。所以，我添加了对<a class="ae jd" href="https://www.nuget.org/packages/Google.Cloud.Diagnostics.AspNetCore/" rel="noopener ugc nofollow" target="_blank"> Google的依赖。cloud . diagnostics . aspnetcore</a>并在我的<a class="ae jd" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/master/appengine/flexible/SocialAuth/Startup.cs" rel="noopener ugc nofollow" target="_blank"> StartUp.cs </a>中添加了几行代码:</p><figure class="ki kj kk kl fd km"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="35aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将应用程序重新部署到App Engine，并再次点击脸书按钮。我看到了同样的400空白页，但现在Stackdriver错误报告——在谷歌云控制台中向我显示了完整的错误消息:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es lk"><img src="../Images/2c7666b6a189c298fec863bf48583af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LT-XvQsOcin4rEn1OFH-cg.png"/></div></div></figure><p id="3b15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">微软。AspNetCore.DataProtection试图解密某些内容，但失败了。这是怎么回事？</p><h1 id="3683" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">AspNetCore的默认<a class="ae jd" href="https://docs.microsoft.com/en-us/aspnet/core/api/microsoft.aspnetcore.dataprotection.dataprotectionprovider" rel="noopener ugc nofollow" target="_blank"> DataProtectionProvider </a>不能跨多个web服务器实例工作。</h1><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lp"><img src="../Images/56480fe8a656473d181bc5da8d2e53ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*bagcf0MYMoBaGaoq."/></div></figure><p id="7882" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像微软这样的社交登录中间件。AspNetCore . authentic ation . Facebook需要加密。同样，AspNetCore的作者在预见这种需求方面做得很好，并提供了一个标准接口<a class="ae jd" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.dataprotection.idataprotectionprovider?view=aspnetcore-2.1" rel="noopener ugc nofollow" target="_blank"> IDataProtectionProvider </a>来提供加密。但是，问题是默认的IDataProtectionProvider在web服务器上本地存储加密密钥。然而，在App Engine上，总是有多个web服务器，并且每个web服务器都创建自己唯一的密钥。此外,(通过设计)预测一个请求将被路由到哪个web服务器是不可能的。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es lq"><img src="../Images/a6997584d5f0279f997dd09efd0c23e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*NbgzQ9lLPQmuVxauxZOXOg.png"/></div></figure><p id="5307" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面图示的情况下，这成为一个问题:</p><ol class=""><li id="1aee" class="lr ls hi ih b ii ij im in iq lt iu lu iy lv jc lw lx ly lz bi translated">一个请求被路由到Web服务器A，Web服务器A用一个用Web服务器A的蓝密钥加密的<a class="ae jd" href="https://docs.microsoft.com/en-us/aspnet/core/security/anti-request-forgery?view=aspnetcore-2.1" rel="noopener ugc nofollow" target="_blank">反请求伪造令牌</a>进行响应。</li><li id="ee33" class="lr ls hi ih b ii ma im mb iq mc iu md iy me jc lw lx ly lz bi translated">带有反请求伪造令牌的POST请求被路由到Web服务器B，Web服务器B试图用其粉红密钥解密该令牌，但由于其密钥不同而失败。</li></ol><h2 id="80a2" class="kv jf hi bd jg mf mg mh jk mi mj mk jo iq ml mm js iu mn mo jw iy mp mq ka mr bi translated">更新2019年5月9日</h2><p id="5654" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">Google发布了库来解决这个问题。请看我的新帖子<a class="ae jd" rel="noopener" href="/google-cloud/antiforgery-tokens-asp-net-core-and-google-cloud-7ac6a5c7842b">讨论这个问题和解决这个问题的新库。</a></p><p id="d146" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我更新了我的代码来使用谷歌的新库。然后，我将我的应用重新发布并重新部署到App Engine，再次点击脸书按钮，看到:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es ms"><img src="../Images/20bc9c86d1d2f6d0ed39f6206b57ac58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBcY6hbQh6OOTdiJgZhnew.png"/></div></div></figure><p id="9ab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗯。我仔细检查了我在脸书注册的重定向URIs的白名单，我使用的URI肯定在那里:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mt"><img src="../Images/d6f97d5289e2df397e4ede64c36b0153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HsnOznBnV_JXqKsae5zjEw.png"/></div></div></figure><p id="1057" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我的URIs为脸书所知。这不是问题所在。</p><p id="1d76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我更仔细地检查了来自浏览器的<code class="du lc ld le kr b">/oauth?client_id=…</code>请求:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="er es mu"><img src="../Images/4099680b49c82c720f48526d91c21ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i6E5ViUzJ4zm1vd4L7LLkg.png"/></div></div></figure><p id="dce9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">啊哈！这个<code class="du lc ld le kr b">redirect_uri</code>是一个<code class="du lc ld le kr b">http</code> URI，但它应该是一个<code class="du lc ld le kr b">http<strong class="ih hj">s</strong></code> <strong class="ih hj"> </strong> URI。为什么ASP.NET认证中间件重定向到一个<code class="du lc ld le kr b">http</code> URI？</p><h1 id="8f09" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak"> App Engine让HTTPS看起来像HTTP </strong>。</h1><p id="ccf1" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">当我在浏览器中输入<a class="ae jd" href="https://my-app.appspot.com/" rel="noopener ugc nofollow" target="_blank">https://my-app.appspot.com/</a>时，我的应用程序看到一个具有以下属性的请求:</p><pre class="ki kj kk kl fd kq kr ks kt aw ku bi"><span id="cc4b" class="kv jf hi kr b fi kw kx l ky kz">Scheme: http<br/>X-Forwarded-Proto: https</span></pre><p id="53bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如谷歌的<a class="ae jd" href="https://cloud.google.com/appengine/docs/flexible/dotnet/how-requests-are-handled" rel="noopener ugc nofollow" target="_blank">应用引擎文档</a>所述:</p><blockquote class="mv mw mx"><p id="2173" class="if ig lf ih b ii ij ik il im in io ip my ir is it mz iv iw ix na iz ja jb jc hb bi translated">Google Cloud负载平衡器终止所有https连接，然后通过http将流量转发给App Engine实例。例如，如果用户通过<a class="ae jd" href="https://[MY-PROJECT-ID].appspot.com," rel="noopener ugc nofollow" target="_blank">https://[MY-PROJECT-ID]. appspot . com请求访问您的站点，</a>X-Forwarded-Proto头值是https。</p></blockquote><p id="e361" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">再次感谢构建AspNetCore的开发人员，他们似乎拥有预见我所有问题的魔力。<code class="du lc ld le kr b"><a class="ae jd" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.builder.forwardedheadersextensions.useforwardedheaders?view=aspnetcore-2.1" rel="noopener ugc nofollow" target="_blank">app.UseForwardedHeaders</a>()</code>指示ASP.NET中间件根据<code class="du lc ld le kr b">X-Forward-*</code>头重写请求。带有<code class="du lc ld le kr b">X-Forwarded-Proto: https</code>报头的请求被重写为与通过https到达的请求相同。我在我的<code class="du lc ld le kr b">Configure()</code>方法中添加了一个对<code class="du lc ld le kr b">UseForwardedHeaders()</code>的调用:</p><figure class="ki kj kk kl fd km"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="4d67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我重新发布并重新部署我的应用到应用引擎，点击脸书按钮，最后<strong class="ih hj">成功</strong>！</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es nb"><img src="../Images/225277745e637bf69bb8fe3fcbc6fb3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/0*WExjnyjaQiRLKl6m."/></div></figure><h1 id="d103" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">结论</h1><p id="c6e2" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">在这个练习中学到的经验教训可以用来使大多数ASP.NET核心应用程序更容易地部署到Google AppEngine。</p><h2 id="9fcd" class="kv jf hi bd jg mf mg mh jk mi mj mk jo iq ml mm js iu mn mo jw iy mp mq ka mr bi translated">经验教训</h2><ol class=""><li id="314f" class="lr ls hi ih b ii kc im kd iq nc iu nd iy ne jc lw lx ly lz bi translated">使用<code class="du lc ld le kr b">app.UseForwardedHeaders()</code>以便中间件通过HTTP <strong class="ih hj"> S </strong>知道请求何时到达。</li><li id="60d1" class="lr ls hi ih b ii ma im mb iq mc iu md iy me jc lw lx ly lz bi translated">使用<a class="ae jd" href="https://cloud.google.com/error-reporting/" rel="noopener ugc nofollow" target="_blank"> Stackdriver错误报告</a>报告未捕获的异常。详情见<a class="ae jd" rel="noopener" href="/google-cloud/reporting-exceptions-in-asp-net-d1c0d448d822">这篇早先的帖子</a>。</li><li id="0b18" class="lr ls hi ih b ii ma im mb iq mc iu md iy me jc lw lx ly lz bi translated">使用<br/> <code class="du lc ld le kr b"><a class="ae jd" href="https://www.nuget.org/packages/Google.Cloud.AspNetCore.DataProtection.Storage" rel="noopener ugc nofollow" target="_blank">Google.Cloud.AspNetCore.DataProtection.Storage</a></code>和<code class="du lc ld le kr b"><a class="ae jd" href="https://www.nuget.org/packages/Google.Cloud.AspNetCore.DataProtection.Kms/" rel="noopener ugc nofollow" target="_blank">Google.Cloud.AspNetCore.DataProtection.Kms</a></code>如我的<a class="ae jd" rel="noopener" href="/google-cloud/antiforgery-tokens-asp-net-core-and-google-cloud-7ac6a5c7842b">新帖</a>所示，这样一个web服务器发出的<a class="ae jd" href="https://docs.microsoft.com/en-us/aspnet/core/security/anti-request-forgery" rel="noopener ugc nofollow" target="_blank">反请求伪造令牌</a>就不会被其他web服务器拒绝。</li><li id="f848" class="lr ls hi ih b ii ma im mb iq mc iu md iy me jc lw lx ly lz bi translated">使用<code class="du lc ld le kr b">appsettings.json</code>和<a class="ae jd" href="https://cloud.google.com/kms/" rel="noopener ugc nofollow" target="_blank">谷歌云密钥管理服务</a>来轻松维护、部署和保护机密。详见<a class="ae jd" rel="noopener" href="/google-cloud/keeping-secrets-in-asp-nets-appsettings-json-5694e533dc87">本早帖</a>。</li><li id="b25b" class="lr ls hi ih b ii ma im mb iq mc iu md iy me jc lw lx ly lz bi translated">使用SocialAuth作为新项目的模板，一次性应用课程1-4。</li></ol><p id="39c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实上，在将应用程序部署到其他Google云平台服务(如Kubernetes Engine和Compute Engine)时，所有这些经验都很有用。</p><p id="3d5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">github.com<a class="ae jd" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/tree/master/appengine/flexible/SocialAuth" rel="noopener ugc nofollow" target="_blank">网站</a>提供了完整的代码以及构建和运行说明。</p></div></div>    
</body>
</html>