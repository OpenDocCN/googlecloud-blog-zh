<html>
<head>
<title>Experimenting with Google’s Cloud Vision API + Intel Edison</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">试用谷歌的云视觉API +英特尔Edison</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/experimenting-with-googles-cloud-vision-api-intel-edison-8f28501937b0?source=collection_archive---------0-----------------------#2016-05-22">https://medium.com/google-cloud/experimenting-with-googles-cloud-vision-api-intel-edison-8f28501937b0?source=collection_archive---------0-----------------------#2016-05-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a236" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我第一次了解谷歌的云视觉API是在今年的谷歌I/O上。尽管它自2015年以来一直处于测试阶段，但我从未听说过它，也没有机会尝试它，直到今天。我偶然看到这个博客<a class="ae jd" href="https://www.raspberrypi.org/blog/raspberry-pi-cloud-vision-google-io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">帖子</strong> </a>，并被YouTube上的演示所吸引:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div></figure><p id="ded0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像往常一样，我有一个英特尔爱迪生躺在周围，所以我决定给它一个尝试。</p><h1 id="66ce" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">开始之前:</h1><p id="a200" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">确保你的Edison已经更新到最新的固件并且有Wi-Fi设置，使用设置/配置工具找到<a class="ae jd" href="https://software.intel.com/en-us/iot/hardware/edison/downloads" rel="noopener ugc nofollow" target="_blank">T5这里</a>这样做。</p><p id="9553" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还需要一个启用了Vision API的Google Cloud帐户。在继续操作之前，请遵循此处 中的这些说明<a class="ae jd" href="https://cloud.google.com/vision/docs/quickstart#before_you_begin" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">。</strong></a></p><h1 id="7e5b" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">你需要的东西:</h1><ol class=""><li id="55ce" class="ko kp hi ih b ii kj im kk iq kq iu kr iy ks jc kt ku kv kw bi translated">英特尔Edison w/ Arduino分线板(您也可以使用迷你分线板，但您可能需要USB适配器来连接网络摄像头</li><li id="7f79" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">罗技C270网络摄像头(Linux UVC驱动程序支持的任何其他USB网络摄像头也可以)</li><li id="fa24" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">电源</li></ol><p id="7506" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是它们之间的联系:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/cc7cd2ab5cdfdfa884d8b9cf6a95f57a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RTr6qiLtWP7kHiOSlnwmqQ.jpeg"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">注意微小开关的位置；它更靠近大USB端口</figcaption></figure><h1 id="db7d" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">我们走吧！</h1><ol class=""><li id="557a" class="ko kp hi ih b ii kj im kk iq kq iu kr iy ks jc kt ku kv kw bi translated">为了让USB摄像头工作，请确保安装并启用了UVC驱动程序；你可以在这里的 找到如何操作的说明<a class="ae jd" href="https://github.com/drejkim/edi-cam#installing-the-uvc-driver" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">。</strong></a></li><li id="29c3" class="ko kp hi ih b ii kx im ky iq kz iu la iy lb jc kt ku kv kw bi translated">安装<strong class="ih hj"> ffmpeg </strong>。Git克隆<a class="ae jd" href="https://github.com/drejkim/edi-cam" rel="noopener ugc nofollow" target="_blank"> edi-cam </a>存储库并运行shell脚本来安装ffmpeg:</li></ol><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="e706" class="ls jm hi lo b fi lt lu l lv lw">root@edison:~# cd /edi-cam/bin<br/>root@edison:~# ./install_ffmpeg.sh</span></pre><p id="10a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.安装<strong class="ih hj"> gcloud </strong>。这是Google Cloud NodeJS模块，可以让你轻松使用Google Cloud APIs。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="81fd" class="ls jm hi lo b fi lt lu l lv lw">root@edison:~# npm install gcloud</span></pre><p id="34d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.复制安装期间创建的服务帐户密钥JSON(scp/sftp)。如果丢失了，您可以在这里 创建一个新的<a class="ae jd" href="https://console.developers.google.com/projectselector/apis/credentials" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">。</strong></a></p><p id="6d25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.运行代码！将这个片段复制并粘贴到VIM中，或者将文件传输到:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lx jk l"/></div></figure><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="7dce" class="ls jm hi lo b fi lt lu l lv lw">root@edison:~# node capture.js</span></pre><h1 id="01aa" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">结果</h1><p id="6941" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">这是我的网络摄像头捕捉到的图像:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ly"><img src="../Images/30041fa1399f33c6e448893b0526d100.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*5ja94TUqiPHiaf_nfPxAZA.jpeg"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">这是一个凯蒂猫机器人！</figcaption></figure><p id="0e57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是返回的JSON:</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="0033" class="ls jm hi lo b fi lt lu l lv lw">root@edison:~# node capture.js</span><span id="b738" class="ls jm hi lo b fi lz lu l lv lw">[ { desc: ‘cartoon’, mid: ‘/m/0215n’, score: 85.945672 },</span><span id="9ba8" class="ls jm hi lo b fi lz lu l lv lw">{ desc: ‘machine’, mid: ‘/m/0dkw5’, score: 74.98506900000001 },</span><span id="bedd" class="ls jm hi lo b fi lz lu l lv lw">{ desc: ‘robot’, mid: ‘/m/06fgw’, score: 69.911 },</span><span id="3b45" class="ls jm hi lo b fi lz lu l lv lw">{ desc: ‘gadget’, mid: ‘/m/02mf1n’, score: 67.246151 } ]</span></pre><p id="d626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…我觉得那很酷:)</p><p id="a11f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谷歌云视觉API实际上还有很多其他强大的功能，包括<strong class="ih hj">分析情绪面部属性，文本提取&amp;检测，以及检测你图像中的任何【人脸，地标，标签，标志，属性】</strong>。</p><p id="08ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">视觉功能完美地补充了机器人应用程序(例如，如果你不笑，无人机会盯着你，喷漆机器人会纠正涂鸦语法，等等。).我迫不及待地想看看人们会用这个做出什么样的酷东西！</p></div></div>    
</body>
</html>