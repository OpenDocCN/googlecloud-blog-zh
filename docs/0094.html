<html>
<head>
<title>Deploying a Meteor app on Google App Engine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在谷歌应用引擎上部署流星应用</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/deploying-a-meteor-app-on-google-app-engine-97d340c63576?source=collection_archive---------0-----------------------#2016-04-28">https://medium.com/google-cloud/deploying-a-meteor-app-on-google-app-engine-97d340c63576?source=collection_archive---------0-----------------------#2016-04-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7e3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然Meteor最近停止了他们的免费托管服务[ <a class="ae jd" href="https://forums.meteor.com/t/meteor-com-free-hosting-ends-march-25-2016/19308" rel="noopener ugc nofollow" target="_blank"> 1 </a> ]，但谷歌最近测试版发布了支持Node.js [ <a class="ae jd" href="https://cloudplatform.googleblog.com/2016/03/Node.js-on-Google-App-Engine-goes-beta.html" rel="noopener ugc nofollow" target="_blank"> 2 </a> ]的应用引擎。这篇短文指导您如何在Google App Engine上部署一个Meteor应用程序。</p><h2 id="8741" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">准备</h2><p id="cbe1" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">首先，你需要设置谷歌云平台。请看<a class="ae jd" href="https://cloud.google.com/nodejs/getting-started/hello-world" rel="noopener ugc nofollow" target="_blank">的快速入门</a>。简而言之，您创建并启用一个云控制台项目，然后下载Google Cloud SDK 。按照说明做应该很容易。此外，如果您是第一次使用，需要在<a class="ae jd" href="https://console.developers.google.com/apis/api/appengine/overview" rel="noopener ugc nofollow" target="_blank">控制台</a>激活API管理器。</p><p id="25d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其次，配置权限很重要。一种简单的方法是通过以下方式以所有者身份登录:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="36c6" class="je jf hi kj b fi kn ko l kp kq">gcloud login</span></pre><p id="ecdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，您可以下载具有适当权限的服务帐户的key.json并激活它:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="937e" class="je jf hi kj b fi kn ko l kp kq">gcloud auth activate-service-account --key-file key.json</span></pre><p id="d6ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，初始化gcloud:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="7156" class="je jf hi kj b fi kn ko l kp kq">gcloud init</span></pre><h2 id="2f0c" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">建设</h2><p id="3bfc" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">在您的Meteor项目目录中，运行以下命令来构建您的应用程序:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="d055" class="je jf hi kj b fi kn ko l kp kq">meteor build .deploy --directory</span></pre><p id="7647" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，在中创建“package.json”。部署/捆绑以下内容:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="5494" class="je jf hi kj b fi kn ko l kp kq">{<br/>  "private": true,<br/>  "scripts": {<br/>    "start": "node main.js",<br/>    "install": "(cd programs/server &amp;&amp; npm install)"<br/>  },<br/>  "engines": {<br/>    "node": "0.10.43"<br/>  }<br/>}</span></pre><p id="aa59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还需要在同一个目录中创建包含以下内容的“app.yaml ”:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="6165" class="je jf hi kj b fi kn ko l kp kq">runtime: nodejs<br/>env: flex<br/>threadsafe: true<br/>automatic_scaling:<br/>  max_num_instances: 1<br/>env_variables:<br/>  MONGO_URL: 'mongodb://[user]:[pass]@[host]:[port]/[db]'<br/>  ROOT_URL: 'https://...'<br/>  METEOR_SETTINGS: '{}'</span></pre><h2 id="35d6" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">部署</h2><p id="fc2b" class="pw-post-body-paragraph if ig hi ih b ii jz ik il im ka io ip iq kb is it iu kc iw ix iy kd ja jb jc hb bi translated">英寸部署/捆绑，运行以下命令来部署您的应用程序:</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="71ba" class="je jf hi kj b fi kn ko l kp kq">gcloud app deploy</span></pre><p id="e894" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！这需要一段时间，但当它完成后，你就万事俱备了。</p></div></div>    
</body>
</html>