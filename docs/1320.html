<html>
<head>
<title>YouTube-8M Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">YouTube-8M数据集</h1>
<blockquote>原文：<a href="https://medium.com/google-cloud/youtube-8m-dataset-c2ee9c79d136?source=collection_archive---------1-----------------------#2020-03-11">https://medium.com/google-cloud/youtube-8m-dataset-c2ee9c79d136?source=collection_archive---------1-----------------------#2020-03-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="66d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算机视觉|视频理解</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/3dca8d7474fb3459e500cd6d47eb6d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*HHQ3xTThfN5LSZutQPX_Tw.png"/></div></figure><p id="89f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jl" href="https://research.google.com/youtube8m/" rel="noopener ugc nofollow" target="_blank"> YouTube-8M </a>是谷歌AI/Research于2016年开发的一个项目，旨在大规模推动计算机视觉、表征学习和视频建模架构的创新和进步。</p><p id="e84f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经研究这个数据集和示例代码好几个星期了，这篇文章总结了数据集的来源、结构以及在哪里可以找到它。我还分享了在Kaggle上许多地方发布的初步探索步骤。</p><h1 id="e5fc" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">数据集|项目历史</strong></h1><p id="fce4" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">研究团队最初在2016年为该数据集策划了800万个YouTube视频(50万小时)和4.8K(平均3.4个标签/视频)的视觉标题。他们启动这个项目的部分原因是为了帮助解决缺乏大规模、带标签的数据集的问题，方法是向公众提供对这种精选数据集和预计算要素的访问权限。</p><p id="0e7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个项目的一个关键目标是消除存储和计算障碍，以帮助加速对大规模视频理解的研究。类似于ImageNet如何通过创建大规模图像数据集和允许研究人员访问来实现机器学习特别是计算机视觉的持续突破。YouTube-8M团队在2016年9月27日发表了他们的初步研究成果，<a class="ae jl" href="https://arxiv.org/pdf/1609.08675.pdf" rel="noopener ugc nofollow" target="_blank"> YouTube-8M:大规模视频分类基准</a>。</p><p id="a781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在过去的四年里，研究团队已经在数据集上运行了3次Kaggle挑战，并举行了3次研讨会。如下所述，每个Kaggle挑战都有不同的侧重点。</p><ul class=""><li id="98b4" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><a class="ae jl" href="https://www.kaggle.com/c/youtube8m" rel="noopener ugc nofollow" target="_blank">第一场比赛</a> |开发分类算法，精确分配视频级别标签。目标是用无约束模型推进视频级注释。</li><li id="6d31" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><a class="ae jl" href="https://www.kaggle.com/c/youtube8m-2018" rel="noopener ugc nofollow" target="_blank">第二场比赛</a> |通过创建模型大小低于1GB的紧凑视频分类模型，学习预算限制下的视频表示。目标是用受约束的模型推进视频级注释。</li><li id="8748" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><a class="ae jl" href="https://www.kaggle.com/c/youtube8m-2019" rel="noopener ugc nofollow" target="_blank">第三届竞赛</a> |寻找并分享被称为时间概念本地化的特定视频瞬间。将视频级别的标签定位到标签实际出现的视频中的精确时间，并以前所未有的规模做到这一点。</li></ul><h1 id="1421" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数据集结构</h1><p id="0da7" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">YouTube-8M数据经历了几次不同的迭代。该数据集是根据YouTube上公开的视频和标签构建的。该数据集在过去四年中已经过调整和变形，最初的800万视频数据集已被废弃。当前可用的数据集有:</p><ul class=""><li id="3c07" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated">视频= 610万个视频，3862个类别，3.0个标签/视频，2.6亿个视听功能</li><li id="31d3" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated">视频片段= 23万个人工验证的片段标签，1000个类别，平均每个视频5个片段</li></ul><p id="f934" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">YouTube-8M网站上引用的数据集是最新的，侧重于视频片段。因此，它使用视频数据集的一部分，并将焦点缩小到这些视频片段的1000个类别。</p><h2 id="db46" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">特征压缩</h2><p id="94c5" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">数据存储的实际结构是在压缩的protobuf文件中，这些文件使用TensorFlow中这些类型的文件结构的tensorflow版本。Example和tensorflow.SequenceExample。每个视频都存储在这些类型的对象之一中，然后分组到TFRecords中。</p><p id="fc95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑到原始的800万个超过50万小时的视频，因为原始数据集是数百TB，所以需要压缩以使开发模型更容易。对于帧级特征，整个视频帧图像(每秒一帧，每个视频的前360秒)通过最初在ImageNet上训练的公开可用的Inception网络进行预处理。这将维数降低到每帧2048个特征，并从视频中提取运动，本质上使其成为静止视频。研究表明，随着视频数据的大小和多样性的增加，运动特征的回报逐渐减少。还应用了带白化的PCA以减少到每帧1024个特征。最后，数据从32位数据类型压缩到8位数据类型。更多信息可以在论文<a class="ae jl" href="https://arxiv.org/pdf/1609.08675.pdf" rel="noopener ugc nofollow" target="_blank"> YT-8m:大规模视频分类基准</a>中找到。</p><h2 id="65eb" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">张量流。例| tensorflow。序列示例</h2><p id="cf07" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">张量流。示例结构是一种包含键值存储特性的紧凑数据格式，其中每个键(字符串)映射到一个值。这是一个压缩字节、浮点或int64列表。这是一种标准化开放数据格式的方法，可以灵活地定义写入和读取数据时的配置。这基本上是TensorFlow的协议缓冲区(protobuf)方法，使其易于存储和共享非结构化数据。所以你定义了什么是键和它的相关值。视觉效果是非结构化数据，需要这种类型的存储机制。</p><p id="3bb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">张量流。SequenceExample表示一个或多个序列以及适用于整个示例的一些上下文。两者之间的真正区别在于SequenceExample有一个FeatureList，它表示一个特性在一段时间内的值，相当于整个帧。</p><p id="812e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于视频的维度缩减转换，您无法转换回其原始形式，但标签的存在有助于验证结果。</p><h2 id="22e8" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">TFRecord</h2><p id="5a36" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">TFRecord是一种存储二进制记录的简单格式，或者换句话说，它是TensorFlow项目创建的一种数据类型，用于序列化数据并允许线性读取数据。的。tfrecord文件存储了几百个张量流。例子或者张量流。sequence每个都是100-200 MB的示例对象。</p><h2 id="10f5" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">特征类型</h2><p id="5930" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">有2个版本的功能:帧级和视频级。视频级特征是每视频的平均音频和rgb特征，其少于每帧的特定音频和rgb特征。</p><p id="8dab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该数据集带有从每秒视频中预先提取的音频和视觉特征(总共3.2B个特征向量)。如果你想提取你自己的特征，你可以使用<a class="ae jl" href="https://github.com/google/mediapipe/tree/master/mediapipe/examples/desktop/youtube8m" rel="noopener ugc nofollow" target="_blank"> MediaPipe GitHub </a> repo来帮助或创建你自己的特征提取器。当您想要将此应用于新数据集或探索尚未使用的要素时，这是很有价值的。</p><h2 id="4955" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">帧级训练数据</h2><p id="9157" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">帧级数据集存储为tensorflow。SequenceExample对象并分组为总共3，844个TFRecords。每张唱片可以容纳大约287个视频。这是用于分段相关分析的内容。总大小约为1.53TB(估计约110万个视频)，结构如下:</p><ul class=""><li id="5412" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><strong class="ih hj"> id </strong>:唯一的YouTube视频id。训练包括唯一实际值，测试/验证是匿名的</li><li id="b821" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">标签</strong>:该视频的标签列表</li><li id="90c9" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj"> rgb </strong> : 1024个8位量化视频rgb特征</li><li id="8bd0" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">音频</strong>:来自视频的128个8位量化音频特征</li></ul><p id="b172" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，量化是一种将输入从一大组值限制到一个较小/离散组的技术，8位量化是一种与神经网络一起使用的流行方法，因为它对本质上压缩的数据范围施加了限制。这继续使得训练网络更快，同时保持模型在压缩信息中发现有价值信息的能力。</p><p id="c95c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意在所有压缩数据和特征的工作之后，帧级训练数据仍然是总计<strong class="ih hj"> 1.5TB </strong>。如果你决定下载它在你的机器上工作，确保你有足够的磁盘空间。</p><h2 id="750a" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">视频级训练数据</h2><p id="607c" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">提供视频级要素的视频级数据集存储为张量流。示例对象总共分为7，689个TFRecords。总大小在<strong class="ih hj"> 31GB </strong>左右。它具有以下结构:</p><ul class=""><li id="615b" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><strong class="ih hj"> id </strong>:唯一的YouTube视频id。训练包括唯一实际值，测试/验证是匿名的</li><li id="8231" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">标签</strong>:该视频的标签列表</li><li id="463b" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj"> mean_rgb </strong>:视频rgb特征的平均值，长度为1024的浮点数组</li><li id="1053" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj"> mean_audio </strong>:长度为128的浮点数组的音频特征的平均值</li></ul><p id="0cd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在生成段级别标签和预测的起始代码示例中，没有引用该数据集。你仍然可以看看你是否想在其他方面探索和利用。</p><h2 id="fe9c" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">验证和测试数据</h2><p id="2525" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">早期视频验证集的子集现在提供了片段级标签。下面列出的数据集是最新的，用于分段相关分析。有3，845个包含tensorflow的TF record用于验证和测试(总共7，690个TF record)。SequenceExample对象数据的总大小大约是<strong class="ih hj"> 24GB </strong>。</p><p id="bf73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了上面的帧级结构(<em class="lr"> id，标签，rgb，音频</em>，对象还包括以下结构:</p><ul class=""><li id="48b2" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><strong class="ih hj">分段开始时间</strong>:分段开始时间列表</li><li id="10b3" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">分段结束时间</strong>:分段结束时间列表</li><li id="b1c0" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">段标签</strong>:段标签列表</li><li id="0ec7" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj"> segment_scores </strong>:表示段标签对应的正或负的二进制值列表</li></ul><p id="5789" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，每个段级数据点的长度为5秒。</p><h2 id="fc93" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">词汇</h2><p id="56f2" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated"><em class="lr"> vocabulary.csv </em>是一个数据字典，用于将标签id映射到标签名称和视频分类的其他相关细节。基本上，数据示例和模型预测输出中的所有实际标签都是数字，这是您解读这些数字含义的解码环。在以段为中心的词汇文件中有1000个分类，并且它具有以下结构:</p><ul class=""><li id="678b" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><strong class="ih hj">索引</strong>:标签id</li><li id="59d8" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj"> TrainVideoCount </strong>:该名称的训练视频数量</li><li id="91ac" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">知识图形Id </strong>:标签位置的知识图形Id</li><li id="273c" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">名称</strong>:分类名称，如演唱会、汽车、美食</li><li id="ac08" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated">WikiUrl :关于这个名字的更多信息的Wiki链接</li><li id="2aef" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">垂直1 </strong>:分类</li><li id="c809" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">垂直2 </strong>:附加分类</li><li id="a50e" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj">垂直3 </strong>:附加分类</li><li id="7ffb" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><strong class="ih hj"> WikiDescription </strong>:名称的Wiki描述(如其所述)</li></ul><h1 id="bba0" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">哪里可以找到数据</h1><p id="c705" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">对于上面列出的每个数据组，截至本文发布之日，您可以访问这些数据的相应位置如下:</p><h2 id="1d4b" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">帧级训练数据</h2><ul class=""><li id="173a" class="kp kq hi ih b ii kk im kl iq ls iu lt iy lu jc ku kv kw kx bi translated"><a class="ae jl" href="http://us.data.yt8m.org/2/frame/train/index.html" rel="noopener ugc nofollow" target="_blank"> YouTube-8M网站</a></li><li id="f349" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><em class="lr">或</em>使用下载脚本下载数据集</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="171d" class="ld jn hi lw b fi ma mb l mc md">curl <a class="ae jl" href="http://data.yt8m.org/download.py" rel="noopener ugc nofollow" target="_blank"><strong class="lw hj">data.yt8m.org/download.py</strong></a> | partition=2/frame/train mirror=us python</span></pre><ul class=""><li id="8fc4" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated">谷歌云存储上的<em class="lr">或</em>链接</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="a4eb" class="ld jn hi lw b fi ma mb l mc md">gs://us.data.yt8m.org/2/frame/train </span></pre><h2 id="f339" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">视频级训练数据</h2><ul class=""><li id="0d1b" class="kp kq hi ih b ii kk im kl iq ls iu lt iy lu jc ku kv kw kx bi translated"><a class="ae jl" href="http://us.data.yt8m.org/2/video/train/index.html" rel="noopener ugc nofollow" target="_blank"> YouTube-8M网站</a></li><li id="46a6" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><em class="lr">或</em>使用下载脚本下载数据集</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="d902" class="ld jn hi lw b fi ma mb l mc md">curl <a class="ae jl" href="http://data.yt8m.org/download.py" rel="noopener ugc nofollow" target="_blank"><strong class="lw hj">data.yt8m.org/download.py</strong></a> | partition=2/frame/train mirror=us python</span></pre><ul class=""><li id="514f" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><em class="lr">或谷歌云存储上的</em>链接</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="0a8f" class="ld jn hi lw b fi ma mb l mc md">gs://us.data.yt8m.org/2/video/train</span></pre><ul class=""><li id="72ec" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><em class="lr">注:以上GCS链接包含列车及验证数据</em></li></ul><h2 id="400a" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated"><strong class="ak">验证&amp;试验数据</strong></h2><ul class=""><li id="27f6" class="kp kq hi ih b ii kk im kl iq ls iu lt iy lu jc ku kv kw kx bi translated">在谷歌云存储上链接到它</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="37e9" class="ld jn hi lw b fi ma mb l mc md">validate files at gs://us.data.yt8m.org/3/frame/validate <br/>test files at gs://us.data.yt8m.org/3/frame/test</span></pre><ul class=""><li id="01a5" class="kp kq hi ih b ii ij im in iq kr iu ks iy kt jc ku kv kw kx bi translated"><em class="lr">或</em>使用YouTube-8M提供的Python脚本下载</li></ul><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="f3d0" class="ld jn hi lw b fi ma mb l mc md">curl <a class="ae jl" href="http://data.yt8m.org/download.py" rel="noopener ugc nofollow" target="_blank"><strong class="lw hj">data.yt8m.org/download.py</strong></a> | partition=3/frame/validate mirror=us python</span><span id="61c1" class="ld jn hi lw b fi me mb l mc md">curl <a class="ae jl" href="http://data.yt8m.org/download.py" rel="noopener ugc nofollow" target="_blank"><strong class="lw hj">data.yt8m.org/download.py</strong></a> | partition=3/frame/test mirror=us python</span></pre><h2 id="4fcf" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">词汇</h2><ul class=""><li id="3593" class="kp kq hi ih b ii kk im kl iq ls iu lt iy lu jc ku kv kw kx bi translated"><a class="ae jl" href="https://research.google.com/youtube8m/csv/segments/vocabulary.csv" rel="noopener ugc nofollow" target="_blank"> YouTube 8M网站</a></li><li id="e32f" class="kp kq hi ih b ii ky im kz iq la iu lb iy lc jc ku kv kw kx bi translated"><em class="lr">或</em> <a class="ae jl" href="https://www.kaggle.com/c/youtube8m-2019/download/A5PWITvGRXAkSWO7YW1l%2Fversions%2FcuFZst73DwRXbhUzu4nZ%2Ffiles%2Fvocabulary.csv" rel="noopener ugc nofollow" target="_blank">卡格尔</a></li></ul><p id="27f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在此<a class="ae jl" href="https://research.google.com/youtube8m/csv/2/vocabulary.csv" rel="noopener ugc nofollow" target="_blank">链接</a>可以找到全部3862个分类 的<strong class="ih hj"> <em class="lr">原始词汇。如果您探索功能并找到没有匹配名称的标签，这将很有帮助。</em></strong></p><h1 id="744d" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">探索数据</h1><p id="e1f9" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">尽管网站和Kaggle描述了数据结构，但我喜欢看数据，通常使用类似Jupyter笔记本的东西来加载和浏览。以下是我在笔记本中探索数据的一些片段。</p><p id="f8c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先加载您需要的库</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="7539" class="ld jn hi lw b fi ma mb l mc md">import tensorflow as tf<br/>import pandas as pd<br/>from IPython.display import YouTubeVideo<br/>from google.cloud import storage, exceptions</span></pre><p id="5bc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，我在这个例子中使用了TensorFlow 1.14，因为下面的代码是基于这个版本的。运行TensorFlow时，您会收到许多警告。下一个目标是将这段代码升级到TF的最新版本。</p><h2 id="fd38" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">可见文件</h2><p id="3563" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">创建一个指向要加载的文件的变量。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="5514" class="ld jn hi lw b fi ma mb l mc md">record = "[<em class="lr">PATH TO FILE</em>]/train00.tfrecord"</span></pre><p id="b6f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，您需要将[ <em class="lr">文件路径</em> ]替换为您文件的位置</p><p id="d937" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建变量来保存TFRecord数据的不同部分。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="6524" class="ld jn hi lw b fi ma mb l mc md">vid_ids = []<br/>labels = []<br/>rgb = []<br/>audio = []</span></pre><p id="c4f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要加载TFRecord文件中的所有示例，请使用以下迭代器。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="c323" class="ld jn hi lw b fi ma mb l mc md">for example in tf.compat.v1.python_io.tf_record_iterator(record):<br/>    seq_example = tf.train.Example.FromString(example)<br/>    vid_ids.append(seq_example.features.feature['id']<br/>                   .bytes_list.value[0].decode(encoding='UTF-8'))<br/>    labels.append(seq_example.features.feature['labels'] <br/>                   .int64_list.value)<br/>    rgb.append(seq_example.features.feature['mean_rgb']<br/>                   .float_list.value)<br/>    audio.append(seq_example.features.feature['mean_audio']<br/>                   .float_list.value)</span></pre><p id="d6a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看记录中有多少视频，并选择一个视频id。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="c381" class="ld jn hi lw b fi ma mb l mc md">print('Number of videos in this tfrecord: ',len(vid_ids))<br/>print ('Number of labels in this tfrecord: ', len (labels))<br/>print('Picking a youtube video id:',vid_ids[15])</span></pre><p id="2116" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">返回以下结果:</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="8990" class="ld jn hi lw b fi ma mb l mc md">Number of videos in this tfrecord:  287<br/>Number of labels in this tfrecord:  287<br/>Picking a youtube video id: 54hQ</span></pre><p id="a489" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如前所述，有287个视频或张量流。每个TFRecord的SequenceExamples。</p><p id="742a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你会注意到视频id的含义并不清楚，因为它们已经被匿名化了。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="afae" class="ld jn hi lw b fi ma mb l mc md">print(vid_ids)</span><span id="fa5c" class="ld jn hi lw b fi me mb l mc md">['op00',<br/> 'O900',<br/> 'Oq00',<br/> 'Li00',<br/> '1300',<br/> 'gG00',<br/> 'xI00'<br/>....</span></pre><p id="036e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发现有一个地方可以为一些例子翻译这个id，你可以使用以下内容。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="c46e" class="ld jn hi lw b fi ma mb l mc md">curl <a class="ae jl" href="http://data.yt8m.org/2/j/i/op/op00.js" rel="noopener ugc nofollow" target="_blank">http://data.yt8m.org/2/j/i/op/op00.js</a></span></pre><p id="b0ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它返回了一个页面，将文件中的视频id映射到YouTube视频id。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="db09" class="ld jn hi lw b fi ma mb l mc md">i("op00","FBQ00Vk7Obs");</span></pre><p id="6c97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这显示了示例对象中的id如何映射回YouTube视频。我已经做了一些探索，并使url请求与一些文件视频id一起工作，但不是大多数。它肯定适用于train00.tfrecord或train0000.tfrecord文件。</p><p id="01b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将上面的id翻译成实际的YouTube id后，您可以直接在YouTube上查找该YouTube视频id。您也可以在代码中输入以下Python命令，让它将视频加载到笔记本中。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="6010" class="ld jn hi lw b fi ma mb l mc md">YouTubeVideo(‘FBQ00Vk7Obs’)</span></pre><p id="df93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">瞧……</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mf mg l"/></div></figure><p id="268b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我发现的查看原始视频内容的唯一方法，并且只适用于非常小的文件分组。对大多数人来说，你必须相信分配给视频的实际类别，才能理解其中的内容。</p><h2 id="d821" class="ld jn hi bd jo le lf lg js lh li lj jw iq lk ll ka iu lm ln ke iy lo lp ki lq bi translated">词汇文件</h2><p id="da6b" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">vocabulary.csv文件包含视频类别和其他详细信息，因此您可以看到模型结果转化为什么。要查看该文件的内容，请下载并使用Pandas将该文件加载到DataFrame对象中。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="4a40" class="ld jn hi lw b fi ma mb l mc md">vocabulary = pd.read_csv(‘[<em class="lr">PATH TO FILE</em>]/vocabulary.csv’)</span></pre><p id="1ecc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，将文件的[ <em class="lr">路径]替换为该文件的存储位置</em></p><p id="3995" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看一下列和前几行，了解一下数据。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="b389" class="ld jn hi lw b fi ma mb l mc md">vocabulary.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="er es mh"><img src="../Images/558d2d67e9f6e302063d6ed223e75fff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQ04o0CMVuQ9nptHzoZvnQ.png"/></div></div></figure><p id="6c57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还可以获得数据帧信息的摘要。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="1dcf" class="ld jn hi lw b fi ma mb l mc md">vocabulary.info()</span></pre><p id="cf60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它给出了1000个尺寸类别的以下信息。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="93de" class="ld jn hi lw b fi ma mb l mc md">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 1000 entries, 0 to 999<br/>Data columns (total 9 columns):<br/> #   Column            Non-Null Count  Dtype <br/>---  ------            --------------  ----- <br/> 0   Index             1000 non-null   int64 <br/> 1   TrainVideoCount   1000 non-null   int64 <br/> 2   KnowledgeGraphId  1000 non-null   object<br/> 3   Name              988 non-null    object<br/> 4   WikiUrl           988 non-null    object<br/> 5   Vertical1         1000 non-null   object<br/> 6   Vertical2         153 non-null    object<br/> 7   Vertical3         12 non-null     object<br/> 8   WikiDescription   988 non-null    object<br/>dtypes: int64(2), object(7)<br/>memory usage: 70.4+ KB</span></pre><p id="3194" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将看到<em class="lr">名称</em>有一些奇怪的空值，但是<em class="lr">垂直1 </em>仍然有所有行的数据。考虑用<em class="lr"> Vertical1 </em>填充<em class="lr"> Name </em>列。另外<em class="lr"> Vertical2 </em>和<em class="lr"> Vertical3 </em>有太多的空值，它们可能没多大关系。看看有什么，看看是否有任何价值，将有助于理解视频文件。如果这些列不能添加更多信息，请考虑删除它们。</p><p id="eea2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并描述文件。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="5297" class="ld jn hi lw b fi ma mb l mc md">vocabulary.describe()</span></pre><p id="f8b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这给出了每个数字列的计数和一般统计信息。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mm"><img src="../Images/7ecab15f99ec463e1d9aacddbfdd6945.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*wtWqrzrR_VTI1wNczA9U2A.png"/></div></figure><p id="1ba9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为处理数据的准备工作的一部分，加载数据、摆弄数据并提出问题是很好的，这样您就可以更好地理解您正在处理的内容。这只是探索数据的皮毛，还有许多其他的例子。</p><h1 id="817f" class="jm jn hi bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">包裹</h1><p id="03d4" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">这篇文章提供了YouTube-8M数据集的概述。这是一个视频数据集，由谷歌研究团队建立，以大规模推进计算机视觉，它使用公开可用的YouTube视频。这篇文章讲述了数据集的来源、结构细节以及在哪里可以找到它。此外，我们对数据本身进行了一些初步探索，以便您可以更好地理解您必须处理的内容。</p><p id="72cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来的步骤是使用该数据集中已经生成的现有数据要素训练一些模型，并运行一些预测。</p></div></div>    
</body>
</html>